\relax 
\providecommand\hyper@newdestlabel[2]{}
\providecommand\HyField@AuxAddToFields[1]{}
\providecommand\HyField@AuxAddToCoFields[2]{}
\citation{zhou2021learned,calcite2018}
\citation{graefe1993volcano}
\citation{rbot2024,e3rewrite2026,llmr2_2024}
\citation{zhou2021learned}
\citation{e3rewrite2026}
\citation{rbot2024}
\@writefile{toc}{\contentsline {section}{Abstract}{1}{section*.1}\protected@file@percent }
\@writefile{toc}{\contentsline {section}{\numberline {1}Introduction}{1}{section.1}\protected@file@percent }
\newlabel{sec:intro}{{1}{1}{Introduction}{section.1}{}}
\@writefile{toc}{\contentsline {paragraph}{Limited expressiveness.}{1}{section*.3}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Expensive training pipelines.}{1}{section*.4}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Single-engine, single-strategy design.}{1}{section*.5}\protected@file@percent }
\citation{postgresql}
\citation{graefe1993volcano}
\citation{graefe1995cascades}
\citation{calcite2018}
\citation{zhou2021learned}
\citation{llmr2_2024}
\citation{rbot2024}
\citation{e3rewrite2026}
\citation{quite2025}
\citation{sqlglot}
\@writefile{toc}{\contentsline {section}{\numberline {2}Related Work}{2}{section.2}\protected@file@percent }
\newlabel{sec:related}{{2}{2}{Related Work}{section.2}{}}
\@writefile{toc}{\contentsline {paragraph}{Heuristic and rule-based rewriting.}{2}{section*.6}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{LLM-augmented rule selection.}{2}{section*.7}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{LLM-based direct rewriting.}{2}{section*.8}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Positioning of QueryTorque{}.}{2}{section*.9}\protected@file@percent }
\@writefile{lot}{\contentsline {table}{\numberline {1}{\ignorespaces Comparison of SQL rewriting systems.}}{2}{table.caption.10}\protected@file@percent }
\providecommand*\caption@xref[2]{\@setref\relax\@undefined{#1}}
\newlabel{tab:comparison}{{1}{2}{Comparison of SQL rewriting systems}{table.caption.10}{}}
\@writefile{toc}{\contentsline {section}{\numberline {3}System Overview}{2}{section.3}\protected@file@percent }
\newlabel{sec:overview}{{3}{2}{System Overview}{section.3}{}}
\@writefile{toc}{\contentsline {subsection}{\numberline {3.1}Phase 1: Structural Analysis via Query DAG}{2}{subsection.3.1}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{DAG construction.}{2}{section*.12}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Node contracts.}{2}{section*.13}\protected@file@percent }
\@writefile{lof}{\contentsline {figure}{\numberline {1}{\ignorespaces End-to-end QueryTorque{} pipeline. The analyst LLM performs dynamic gap matching (Section\nonbreakingspace \ref {sec:gap_selection}), then dispatches workers with structurally diverse strategies. Only the best validated candidate survives. Winners are promoted as baselines for subsequent rounds.}}{3}{figure.caption.11}\protected@file@percent }
\newlabel{fig:overview}{{1}{3}{End-to-end \sysname {} pipeline. The analyst LLM performs dynamic gap matching (Section~\ref {sec:gap_selection}), then dispatches workers with structurally diverse strategies. Only the best validated candidate survives. Winners are promoted as baselines for subsequent rounds}{figure.caption.11}{}}
\@writefile{toc}{\contentsline {paragraph}{Downstream usage and cost attribution.}{3}{section*.14}\protected@file@percent }
\newlabel{lst:dag}{{1}{3}{DAG topology in the LLM prompt (abbreviated)}{lstlisting.1}{}}
\@writefile{lol}{\contentsline {lstlisting}{\numberline {1}{\ignorespaces DAG topology in the LLM prompt (abbreviated).}}{3}{lstlisting.1}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Engine gap profiles.}{3}{section*.15}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Comparison with prior representations.}{3}{section*.16}\protected@file@percent }
\@writefile{toc}{\contentsline {subsection}{\numberline {3.2}Phase 2: Example Retrieval}{3}{subsection.3.2}\protected@file@percent }
\@writefile{lot}{\contentsline {table}{\numberline {2}{\ignorespaces Query representation for LLM-based rewriting.}}{4}{table.caption.17}\protected@file@percent }
\newlabel{tab:repr_comparison}{{2}{4}{Query representation for LLM-based rewriting}{table.caption.17}{}}
\@writefile{toc}{\contentsline {subsection}{\numberline {3.3}Query-Type Decomposition}{4}{subsection.3.3}\protected@file@percent }
\newlabel{sec:decomposition}{{3.3}{4}{Query-Type Decomposition}{subsection.3.3}{}}
\@writefile{toc}{\contentsline {subsection}{\numberline {3.4}Phase 3: Analyst Briefing}{4}{subsection.3.4}\protected@file@percent }
\@writefile{toc}{\contentsline {subsection}{\numberline {3.5}Phase 4: Multi-Worker Generation}{4}{subsection.3.5}\protected@file@percent }
\citation{deepseek_r1}
\citation{openai_o1}
\citation{deepseek_r1}
\@writefile{toc}{\contentsline {subsection}{\numberline {3.6}Phase 5: Validation and Selection}{5}{subsection.3.6}\protected@file@percent }
\@writefile{toc}{\contentsline {subsection}{\numberline {3.7}State Machine and Promotion}{5}{subsection.3.7}\protected@file@percent }
\@writefile{toc}{\contentsline {section}{\numberline {4}Engine-Aware Gap Profiling and Learning}{5}{section.4}\protected@file@percent }
\newlabel{sec:gap_profiling}{{4}{5}{Engine-Aware Gap Profiling and Learning}{section.4}{}}
\@writefile{toc}{\contentsline {subsection}{\numberline {4.1}Two-Layer Architecture}{5}{subsection.4.1}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Layer\nonbreakingspace 1: Engine gap profiles (offensive).}{5}{section*.18}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Layer\nonbreakingspace 2: Correctness constraints (defensive).}{5}{section*.19}\protected@file@percent }
\@writefile{toc}{\contentsline {subsection}{\numberline {4.2}Gap Profiles as Publishable Artifacts}{5}{subsection.4.2}\protected@file@percent }
\@writefile{lot}{\contentsline {table}{\numberline {3}{\ignorespaces Engine gap profiles: optimizer blind spots and their yield.}}{6}{table.caption.20}\protected@file@percent }
\newlabel{tab:gap_profiles}{{3}{6}{Engine gap profiles: optimizer blind spots and their yield}{table.caption.20}{}}
\@writefile{lof}{\contentsline {figure}{\numberline {2}{\ignorespaces Optimizer gap contribution to DuckDB wins. Three root causes---cross-CTE predicate blindness, redundant scan elimination, and correlated subquery paralysis---account for 70\% of all wins, demonstrating that a small number of well-characterized blind spots enable focused, high-yield optimization.}}{6}{figure.caption.21}\protected@file@percent }
\newlabel{fig:gap_contribution}{{2}{6}{Optimizer gap contribution to DuckDB wins. Three root causes---cross-CTE predicate blindness, redundant scan elimination, and correlated subquery paralysis---account for 70\% of all wins, demonstrating that a small number of well-characterized blind spots enable focused, high-yield optimization}{figure.caption.21}{}}
\@writefile{toc}{\contentsline {subsection}{\numberline {4.3}Two-Stage Gap Selection}{6}{subsection.4.3}\protected@file@percent }
\newlabel{sec:gap_selection}{{4.3}{6}{Two-Stage Gap Selection}{subsection.4.3}{}}
\@writefile{toc}{\contentsline {paragraph}{Example: Analyst gap matching on Q092.}{6}{section*.22}\protected@file@percent }
\newlabel{lst:analyst_q092}{{2}{6}{Analyst gap-matching output for Q092 (abbreviated)}{lstlisting.2}{}}
\@writefile{lol}{\contentsline {lstlisting}{\numberline {2}{\ignorespaces Analyst gap-matching output for Q092 (abbreviated).}}{6}{lstlisting.2}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Worker 4: Exploration budget.}{6}{section*.23}\protected@file@percent }
\citation{duckdb2019}
\citation{dsb2021}
\citation{rbot2024}
\citation{e3rewrite2026}
\citation{quite2025}
\citation{qed2024}
\citation{verieql2024}
\citation{sqlsolver2024}
\@writefile{toc}{\contentsline {subsection}{\numberline {4.4}Bidirectional Learning}{7}{subsection.4.4}\protected@file@percent }
\@writefile{toc}{\contentsline {section}{\numberline {5}Experimental Evaluation}{7}{section.5}\protected@file@percent }
\newlabel{sec:experiments}{{5}{7}{Experimental Evaluation}{section.5}{}}
\@writefile{toc}{\contentsline {subsection}{\numberline {5.1}Setup}{7}{subsection.5.1}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Benchmarks.}{7}{section*.24}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{LLM backend.}{7}{section*.25}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Hardware.}{7}{section*.26}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Baselines.}{7}{section*.27}\protected@file@percent }
\@writefile{lot}{\contentsline {table}{\numberline {4}{\ignorespaces DuckDB TPC-DS SF10 results (43 validated queries, 4 workers).}}{7}{table.caption.29}\protected@file@percent }
\newlabel{tab:duckdb_results}{{4}{7}{DuckDB TPC-DS SF10 results (43 validated queries, 4 workers)}{table.caption.29}{}}
\@writefile{toc}{\contentsline {subsection}{\numberline {5.2}Validation Protocol}{7}{subsection.5.2}\protected@file@percent }
\newlabel{sec:validation}{{5.2}{7}{Validation Protocol}{subsection.5.2}{}}
\newlabel{sec:equivalence}{{5.2}{7}{Why not formal equivalence provers?}{section*.28}{}}
\@writefile{toc}{\contentsline {paragraph}{Why not formal equivalence provers?}{7}{section*.28}\protected@file@percent }
\@writefile{toc}{\contentsline {subsection}{\numberline {5.3}Main Results: DuckDB TPC-DS SF10}{7}{subsection.5.3}\protected@file@percent }
\@writefile{lot}{\contentsline {table}{\numberline {5}{\ignorespaces PostgreSQL DSB SF10 results (52 queries, 4 workers, 3 iterations).}}{8}{table.caption.34}\protected@file@percent }
\newlabel{tab:pg_results}{{5}{8}{PostgreSQL DSB SF10 results (52 queries, 4 workers, 3 iterations)}{table.caption.34}{}}
\@writefile{toc}{\contentsline {paragraph}{Top winners.}{8}{section*.30}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Most effective transform pattern.}{8}{section*.31}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Scale factor correlation.}{8}{section*.32}\protected@file@percent }
\@writefile{toc}{\contentsline {subsection}{\numberline {5.4}Main Results: PostgreSQL DSB SF10}{8}{subsection.5.4}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Top winners.}{8}{section*.35}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Timeout recoveries.}{8}{section*.36}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Engine-specific findings.}{8}{section*.37}\protected@file@percent }
\@writefile{lof}{\contentsline {figure}{\numberline {3}{\ignorespaces Per-query speedup on DuckDB TPC-DS SF10 (43 validated queries). 17 queries achieve WIN status ($\geq $1.10$\times $), with top speedups of 6.28$\times $ (Q88, OR decomposition) and 4.47$\times $ (Q9, scan consolidation). 9 regressions indicate that not all LLM rewrites are beneficial, validating the importance of execution-based validation.}}{8}{figure.caption.33}\protected@file@percent }
\newlabel{fig:duckdb_perquery}{{3}{8}{Per-query speedup on DuckDB TPC-DS SF10 (43 validated queries). 17 queries achieve WIN status ($\geq $1.10$\times $), with top speedups of 6.28$\times $ (Q88, OR decomposition) and 4.47$\times $ (Q9, scan consolidation). 9 regressions indicate that not all LLM rewrites are beneficial, validating the importance of execution-based validation}{figure.caption.33}{}}
\@writefile{toc}{\contentsline {subsection}{\numberline {5.5}Case Study: Q092 Compositional Rewrite}{9}{subsection.5.5}\protected@file@percent }
\newlabel{sec:case_study}{{5.5}{9}{Case Study: Q092 Compositional Rewrite}{subsection.5.5}{}}
\newlabel{lst:q092_explain}{{3}{9}{Q092 EXPLAIN plans: original (top) vs.\ W4 rewrite (bottom), abbreviated}{lstlisting.3}{}}
\@writefile{lol}{\contentsline {lstlisting}{\numberline {3}{\ignorespaces Q092 EXPLAIN plans: original (top) vs.\ W4 rewrite (bottom), abbreviated.}}{9}{lstlisting.3}\protected@file@percent }
\@writefile{toc}{\contentsline {subsection}{\numberline {5.6}Worker Strategy Analysis}{9}{subsection.5.6}\protected@file@percent }
\@writefile{lot}{\contentsline {table}{\numberline {6}{\ignorespaces Per-worker win attribution (DuckDB TPC-DS SF10, 4 workers).}}{9}{table.caption.38}\protected@file@percent }
\newlabel{tab:worker_wins}{{6}{9}{Per-worker win attribution (DuckDB TPC-DS SF10, 4 workers)}{table.caption.38}{}}
\@writefile{toc}{\contentsline {subsection}{\numberline {5.7}Ablation Study}{9}{subsection.5.7}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Single-iteration vs.\ multi-iteration.}{9}{section*.39}\protected@file@percent }
\@writefile{lot}{\contentsline {table}{\numberline {7}{\ignorespaces Cumulative unique base-query wins by iteration (DuckDB TPC-DS SF10, 88\nonbreakingspace templates). Each query counted once at the iteration where it first achieves WIN status.}}{9}{table.caption.40}\protected@file@percent }
\newlabel{tab:iteration_ablation}{{7}{9}{Cumulative unique base-query wins by iteration (DuckDB TPC-DS SF10, 88~templates). Each query counted once at the iteration where it first achieves WIN status}{table.caption.40}{}}
\@writefile{toc}{\contentsline {paragraph}{Worker coverage.}{9}{section*.41}\protected@file@percent }
\@writefile{lot}{\contentsline {table}{\numberline {8}{\ignorespaces Per-worker win attribution (DuckDB swarm batch, unique wins).}}{9}{table.caption.42}\protected@file@percent }
\newlabel{tab:worker_coverage}{{8}{9}{Per-worker win attribution (DuckDB swarm batch, unique wins)}{table.caption.42}{}}
\citation{rbot2024}
\citation{e3rewrite2026}
\citation{quite2025}
\@writefile{lof}{\contentsline {figure}{\numberline {4}{\ignorespaces Worker win attribution on DuckDB TPC-DS SF10. 80\% of winning queries (24/30) are \emph  {uniquely} discovered by a single worker---no other worker finds a valid improvement. The best single worker (W2) captures only 30\% of wins, directly validating the swarm design.}}{10}{figure.caption.43}\protected@file@percent }
\newlabel{fig:worker_coverage}{{4}{10}{Worker win attribution on DuckDB TPC-DS SF10. 80\% of winning queries (24/30) are \emph {uniquely} discovered by a single worker---no other worker finds a valid improvement. The best single worker (W2) captures only 30\% of wins, directly validating the swarm design}{figure.caption.43}{}}
\@writefile{toc}{\contentsline {paragraph}{Component ablation (DuckDB TPC-DS SF1).}{10}{section*.44}\protected@file@percent }
\@writefile{lot}{\contentsline {table}{\numberline {9}{\ignorespaces Component ablation (DuckDB TPC-DS SF1, 43 queries, 4 workers).}}{10}{table.caption.45}\protected@file@percent }
\newlabel{tab:ablation}{{9}{10}{Component ablation (DuckDB TPC-DS SF1, 43 queries, 4 workers)}{table.caption.45}{}}
\@writefile{toc}{\contentsline {subsection}{\numberline {5.8}Comparison with Prior Work}{10}{subsection.5.8}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{DSB on PostgreSQL SF10 (controlled comparison).}{10}{section*.46}\protected@file@percent }
\@writefile{lof}{\contentsline {figure}{\numberline {5}{\ignorespaces Per-query speedup comparison on DSB SF10 (PostgreSQL\nonbreakingspace 14.3). Points above the diagonal are queries where QueryTorque{} outperforms R-Bot. Red squares indicate wins from transforms outside Calcite's rule vocabulary (CTE isolation, scan consolidation, single-pass aggregation). Timeout recoveries are off-scale and annotated separately.}}{10}{figure.caption.49}\protected@file@percent }
\newlabel{fig:rbot_scatter}{{5}{10}{Per-query speedup comparison on DSB SF10 (PostgreSQL~14.3). Points above the diagonal are queries where \sysname {} outperforms R-Bot. Red squares indicate wins from transforms outside Calcite's rule vocabulary (CTE isolation, scan consolidation, single-pass aggregation). Timeout recoveries are off-scale and annotated separately}{figure.caption.49}{}}
\@writefile{lot}{\contentsline {table}{\numberline {10}{\ignorespaces DSB PostgreSQL SF10 comparison (same engine, same SF, same hardware).}}{10}{table.caption.47}\protected@file@percent }
\newlabel{tab:dsb_comparison}{{10}{10}{DSB PostgreSQL SF10 comparison (same engine, same SF, same hardware)}{table.caption.47}{}}
\@writefile{toc}{\contentsline {paragraph}{Per-query comparison with R-Bot.}{10}{figure.caption.49}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Key qualitative differences.}{10}{section*.51}\protected@file@percent }
\citation{liu2024lost}
\@writefile{lot}{\contentsline {table}{\numberline {11}{\ignorespaces Win classification by transform expressiveness (DSB PG SF10).}}{11}{table.caption.50}\protected@file@percent }
\newlabel{tab:expressiveness}{{11}{11}{Win classification by transform expressiveness (DSB PG SF10)}{table.caption.50}{}}
\@writefile{toc}{\contentsline {section}{\numberline {6}Discussion}{11}{section.6}\protected@file@percent }
\newlabel{sec:discussion}{{6}{11}{Discussion}{section.6}{}}
\@writefile{toc}{\contentsline {paragraph}{The bottleneck is selection, not invention.}{11}{section*.53}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Why reasoning models matter.}{11}{section*.54}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Production applicability.}{11}{section*.55}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Production experience.}{11}{section*.56}\protected@file@percent }
\@writefile{toc}{\contentsline {paragraph}{Limitations.}{11}{section*.57}\protected@file@percent }
\@writefile{toc}{\contentsline {section}{\numberline {7}Reproducibility}{11}{section.7}\protected@file@percent }
\newlabel{sec:reproducibility}{{7}{11}{Reproducibility}{section.7}{}}
\bibstyle{ACM-Reference-Format}
\bibcite{zhou2021learned}{{1}{}{{}}{{}}}
\bibcite{calcite2018}{{2}{}{{}}{{}}}
\bibcite{graefe1993volcano}{{3}{}{{}}{{}}}
\bibcite{graefe1995cascades}{{4}{}{{}}{{}}}
\bibcite{rbot2024}{{5}{}{{}}{{}}}
\bibcite{e3rewrite2026}{{6}{}{{}}{{}}}
\bibcite{llmr2_2024}{{7}{}{{}}{{}}}
\bibcite{quite2025}{{8}{}{{}}{{}}}
\bibcite{dsb2021}{{9}{}{{}}{{}}}
\@writefile{lof}{\contentsline {figure}{\numberline {6}{\ignorespaces Cross-engine generalization with zero retraining. QueryTorque{} achieves ${\sim }$37--39\% win rates on both DuckDB (columnar, TPC-DS) and PostgreSQL (row-oriented, DSB) using the same pipeline, prompt structure, and validation protocol. Only the engine gap profiles and correctness constraints are engine-specific.}}{12}{figure.caption.52}\protected@file@percent }
\newlabel{fig:cross_engine}{{6}{12}{Cross-engine generalization with zero retraining. \sysname {} achieves ${\sim }$37--39\% win rates on both DuckDB (columnar, TPC-DS) and PostgreSQL (row-oriented, DSB) using the same pipeline, prompt structure, and validation protocol. Only the engine gap profiles and correctness constraints are engine-specific}{figure.caption.52}{}}
\@writefile{toc}{\contentsline {section}{\numberline {8}Conclusion}{12}{section.8}\protected@file@percent }
\newlabel{sec:conclusion}{{8}{12}{Conclusion}{section.8}{}}
\@writefile{toc}{\contentsline {paragraph}{Future work.}{12}{section*.58}\protected@file@percent }
\@writefile{toc}{\contentsline {section}{References}{12}{section*.60}\protected@file@percent }
\bibcite{liu2024lost}{{10}{}{{}}{{}}}
\bibcite{postgresql}{{11}{}{{}}{{}}}
\bibcite{wetune2022}{{12}{}{{}}{{}}}
\bibcite{slabcity2023}{{13}{}{{}}{{}}}
\bibcite{deepseek_r1}{{14}{}{{}}{{}}}
\bibcite{duckdb2019}{{15}{}{{}}{{}}}
\bibcite{sqlglot}{{16}{}{{}}{{}}}
\bibcite{openai_o1}{{17}{}{{}}{{}}}
\bibcite{qed2024}{{18}{}{{}}{{}}}
\bibcite{verieql2024}{{19}{}{{}}{{}}}
\bibcite{sqlsolver2024}{{20}{}{{}}{{}}}
\newlabel{tocindent-1}{0pt}
\newlabel{tocindent0}{0pt}
\newlabel{tocindent1}{4.185pt}
\newlabel{tocindent2}{10.34999pt}
\newlabel{tocindent3}{0pt}
\providecommand\NAT@force@numbers{}\NAT@force@numbers
\newlabel{TotPages}{{13}{13}{}{page.13}{}}
\gdef \@abspage@last{13}
