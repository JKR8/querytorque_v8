```json
{
  "rewrite_sets": [
    {
      "id": "rs_01",
      "transform": "or_to_union",
      "nodes": {
        "date_filter": "SELECT d_date_sk FROM date_dim WHERE d_moy = 12 AND d_year = 1998",
        "breakfast_sales": "SELECT ws_ext_sales_price AS ext_price, ws_item_sk AS sold_item_sk, ws_sold_time_sk AS time_sk FROM web_sales JOIN date_filter ON d_date_sk = ws_sold_date_sk UNION ALL SELECT cs_ext_sales_price AS ext_price, cs_item_sk AS sold_item_sk, cs_sold_time_sk AS time_sk FROM catalog_sales JOIN date_filter ON d_date_sk = cs_sold_date_sk UNION ALL SELECT ss_ext_sales_price AS ext_price, ss_item_sk AS sold_item_sk, ss_sold_time_sk AS time_sk FROM store_sales JOIN date_filter ON d_date_sk = ss_sold_date_sk",
        "dinner_sales": "SELECT ws_ext_sales_price AS ext_price, ws_item_sk AS sold_item_sk, ws_sold_time_sk AS time_sk FROM web_sales JOIN date_filter ON d_date_sk = ws_sold_date_sk UNION ALL SELECT cs_ext_sales_price AS ext_price, cs_item_sk AS sold_item_sk, cs_sold_time_sk AS time_sk FROM catalog_sales JOIN date_filter ON d_date_sk = cs_sold_date_sk UNION ALL SELECT ss_ext_sales_price AS ext_price, ss_item_sk AS sold_item_sk, ss_sold_time_sk AS time_sk FROM store_sales JOIN date_filter ON d_date_sk = ss_sold_date_sk",
        "main_query": "SELECT i.i_brand_id AS brand_id, i.i_brand AS brand, t.t_hour, t.t_minute, SUM(bs.ext_price) AS ext_price FROM item i JOIN breakfast_sales bs ON i.i_item_sk = bs.sold_item_sk JOIN time_dim t ON bs.time_sk = t.t_time_sk WHERE i.i_manager_id = 1 AND t.t_meal_time = 'breakfast' GROUP BY i.i_brand, i.i_brand_id, t.t_hour, t.t_minute UNION ALL SELECT i.i_brand_id AS brand_id, i.i_brand AS brand, t.t_hour, t.t_minute, SUM(ds.ext_price) AS ext_price FROM item i JOIN dinner_sales ds ON i.i_item_sk = ds.sold_item_sk JOIN time_dim t ON ds.time_sk = t.t_time_sk WHERE i.i_manager_id = 1 AND t.t_meal_time = 'dinner' GROUP BY i.i_brand, i.i_brand_id, t.t_hour, t.t_minute ORDER BY ext_price DESC, brand_id LIMIT 100"
      },
      "invariants_kept": [
        "output columns unchanged",
        "same rows after aggregation",
        "same ordering and limit",
        "same grouping dimensions"
      ],
      "expected_speedup": "2.5x",
      "risk": "low"
    }
  ],
  "explanation": "Applied OR-to-UNION transform to split the meal time OR condition into separate branches. This allows each branch to use efficient filtered access to time_dim and avoids scanning fact tables with OR predicates. Date filter extracted into CTE to be reused across all sales branches, reducing repeated date_dim scans from 3 to 1."
}
```