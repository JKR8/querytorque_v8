[
  {
    "iteration": 1,
    "status": "success",
    "speedup": 0.522676419329588,
    "improved": false
  },
  {
    "iteration": 2,
    "status": "success",
    "speedup": 0.9876416988960979,
    "improved": false
  },
  {
    "iteration": 3,
    "status": "validation_failed",
    "error": "SEMANTIC ERROR: Value mismatch - row counts match but VALUES differ\nSample differences: [ValueDifference(row_index=10, column='agg1', original_value=36.6, optimized_value=36.0), ValueDifference(row_index=10, column='agg2', original_value=45.346, optimized_value=83.2225), ValueDifference(row_index=10, column='agg3', original_value=53.878, optimized_value=31.74), ValueDifference(row_index=10, column='agg4', original_value=26.312, optimized_value=23.71875), ValueDifference(row_index=10, column='i_item_id', original_value='AAAAAAAAAAAEBAAA', optimized_value='AAAAAAAAAABAAAAA')]\nOriginal row 0: {'i_item_id': 'AAAAAAAAAAAABAAA', 'agg1': 61.0, 'agg2': 68.065, 'agg3': 0.0, 'agg4': 33.606}\nOptimized row 0: {'i_item_id': 'AAAAAAAAAAAABAAA', 'agg1': 61.0, 'agg2': 68.065, 'agg3': 0.0, 'agg4': 33.606}\nYour optimized SQL that failed:\n```sql\nWITH date_filtered AS (SELECT d_date_sk FROM date_dim WHERE d_year = 2001), cd_filtered AS (SELECT cd_demo_sk FROM customer_demographics WHERE cd_gender = 'F' AND cd_marital_status = 'W' AND cd_education_status = 'College'), promo_email AS (SELECT p_promo_sk FROM promotion WHERE p_channel_email = 'N'), promo_event AS (SELECT p_promo_sk FROM promotion WHERE p_channel_event = 'N' AND p_channel_email <> 'N') SELECT i_item_id, AVG(ss_quantity) AS agg1, AVG(ss_list_price) AS agg2, AVG(ss_coupon_amt) AS agg3, AVG(ss_sales_price) AS agg4 FROM ((SELECT ss_item_sk, ss_quantity, ss_list_price, ss_coupon_amt, ss_sales_price FROM store_sales JOIN date_filtered ON ss_sold_date_sk = d_date_sk JOIN cd_filtered ON ss_cdemo_sk = cd_demo_sk JOIN promo_email ON ss_promo_sk = p_promo_sk) UNION ALL (SELECT ss_item_sk, ss_quantity, ss_list_price, ss_coupon_amt, ss_sales_price FROM store_sales JOIN date_filtered ON ss_sold_date_sk = d_date_sk JOIN cd_filtered ON ss_cdemo_sk = cd_demo_sk JOIN promo_event ON ss_promo_sk = p_promo_sk)) AS combined JOIN item ON ss_item_sk = i_item_sk GROUP BY i_item_id ORDER BY i_item_id LIMIT 100\n```"
  },
  {
    "iteration": 4,
    "status": "success",
    "speedup": 0.9904815519417692,
    "improved": false
  },
  {
    "iteration": 5,
    "status": "success",
    "speedup": 0.9909128455208867,
    "improved": false
  }
]