{
  "id": "IN_LIST_TO_VALUES_JOIN",
  "name": "In List To Values Join",
  "description": "Convert large IN lists to VALUES clause with join for better plan\n      optimization with many values.",
  "category": "set_operations",
  "priority": "medium",
  "verified_speedup": "unknown",
  "example": {
    "before_sql": "SELECT * FROM orders \n      WHERE customer_id IN (1001, 1002, 1003, ..., 1500);",
    "after_sql": "SELECT o.* FROM orders o\n      JOIN (VALUES (1001), (1002), (1003), ..., (1500)) AS v(id)\n      ON o.customer_id = v.id;",
    "alternative_sql": "SELECT * FROM orders \n      WHERE customer_id = ANY(ARRAY[1001, 1002, 1003, ..., 1500]);\n\n  # ============================================================================\n  # INDEX STRATEGIES\n  # ============================================================================",
    "key_insight": "IN lists with dozens to thousands of values where optimizer\n      estimates become unreliable.",
    "transforms": [
      "in_list_to_values_join"
    ]
  },
  "metadata": {
    "pg_version": "All",
    "auto_applied_by_pg": "false",
    "research_source": "",
    "notes": ""
  }
}