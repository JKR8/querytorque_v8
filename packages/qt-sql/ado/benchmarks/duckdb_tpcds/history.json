{
  "benchmark": "duckdb_tpcds",
  "scale_factor": 10,
  "states_completed": 0,
  "cumulative_learnings": {
    "effective_patterns": {
      "date_cte_isolate": {"wins": 12, "avg_speedup": 1.34, "notes": "Most broadly effective pattern"},
      "or_to_union": {"wins": 3, "avg_speedup": 3.04, "notes": "Highest individual wins (Q88 6.28x) but risky >3 branches"},
      "single_pass_aggregation": {"wins": 2, "avg_speedup": 3.29, "notes": "Q9 4.47x - consolidate repeated scans"},
      "early_filter": {"wins": 4, "avg_speedup": 1.45, "notes": "Push dimension filters before fact joins"},
      "decorrelate": {"wins": 3, "avg_speedup": 1.52, "notes": "Convert correlated subquery to JOIN+CTE"},
      "prefetch_fact_join": {"wins": 3, "avg_speedup": 2.30, "notes": "Pre-join filtered dates with fact table"},
      "dimension_cte_isolate": {"wins": 2, "avg_speedup": 1.67, "notes": "Pre-filter all dimensions"},
      "multi_dimension_prefetch": {"wins": 2, "avg_speedup": 1.95, "notes": "Pre-filter date + store dims"},
      "pushdown": {"wins": 2, "avg_speedup": 1.41, "notes": "Push predicates into CTEs"},
      "intersect_to_exists": {"wins": 1, "avg_speedup": 1.83, "notes": "Q14 only"},
      "materialize_cte": {"wins": 1, "avg_speedup": 1.37, "notes": "Q95 only"},
      "union_cte_split": {"wins": 1, "avg_speedup": 1.36, "notes": "Q74 only"},
      "multi_date_range_cte": {"wins": 1, "avg_speedup": 2.35, "notes": "Q29 only"}
    },
    "known_regressions": {
      "or_to_union_over_split": "Splitting OR into >3 UNION branches causes severe regression (0.23x-0.41x). Q13, Q48 had 9 branches = disaster.",
      "window_function_rewrite": "Window function rewrites (AVG OVER PARTITION) show no improvement on most engines.",
      "multi_scan_rewrites": "Rewrites that cause multiple scans of the same fact table are BAD (2x regression)."
    },
    "constraint_violations_seen": [
      "cte_column_completeness: Most common error - LLM drops columns when rewriting CTEs",
      "or_to_union_guard: Must limit to <=3 UNION branches",
      "literal_preservation: LLM sometimes modifies date literals"
    ]
  },
  "top_targets": {
    "tier_1_longest": ["q23", "q4", "q14", "q78"],
    "tier_2_medium": ["q24", "q59", "q64", "q11"],
    "tier_3_skip": ["q42", "q52", "q96"]
  }
}
