{
  "id": "AGGREGATE_PULL_UP_CONSTANTS",
  "name": "Aggregate Pull Up Constants",
  "description": "Pull up constant GROUP BY keys (SF=100 cited)",
  "verified_speedup": "unknown",
  "example": {
    "opportunity": "AGGREGATE_PULL_UP_CONSTANTS",
    "before_sql": "SELECT k, SUM(x) FROM t WHERE sf = 100 GROUP BY k",
    "output": {
      "rewrite_sets": [
        {
          "id": "rs_01",
          "transform": "aggregate_pull_up_constants",
          "nodes": {
            "main_query": "SELECT k, SUM(x) FROM t WHERE sf = 100 GROUP BY k"
          },
          "invariants_kept": ["same result rows", "same output columns"],
          "expected_speedup": "1.5x",
          "risk": "low"
        }
      ]
    },
    "key_insight": "When a GROUP BY key is constant, avoid unnecessary grouping work or move constant filters earlier."
  }
}
