{
  "id": "LIKE_PREFIX_INDEX_USAGE",
  "name": "Like Prefix Index Usage",
  "description": "Ensure LIKE 'prefix%' uses index by creating text_pattern_ops index\n      for non-C locale databases.",
  "category": "predicate_rewrites",
  "priority": "medium",
  "verified_speedup": "unknown",
  "example": {
    "before_sql": "-- May not use index with non-C collation\n      SELECT * FROM paths WHERE path LIKE '/media/photos/%';",
    "after_sql": "-- Create pattern_ops index\n      CREATE INDEX idx_path_pattern ON paths (path text_pattern_ops);\n      \n      SELECT * FROM paths WHERE path LIKE '/media/photos/%';",
    "alternative_sql": "-- Explicit range predicate always works\n      SELECT * FROM paths \n      WHERE path >= '/media/photos/' \n        AND path < '/media/photot/';",
    "key_insight": "Prefix searches on text columns in non-C collation databases.",
    "transforms": [
      "like_prefix_index_usage"
    ]
  },
  "metadata": {
    "pg_version": "All",
    "auto_applied_by_pg": "Only with C locale or pattern_ops index",
    "research_source": "",
    "notes": ""
  }
}