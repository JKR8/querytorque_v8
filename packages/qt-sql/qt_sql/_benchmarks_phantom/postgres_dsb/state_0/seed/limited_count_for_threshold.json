{
  "id": "LIMITED_COUNT_FOR_THRESHOLD",
  "name": "Limited Count For Threshold",
  "description": "When checking if count exceeds threshold, use LIMIT to avoid\n      counting all rows.",
  "category": "aggregation_optimization",
  "priority": "medium",
  "verified_speedup": "unknown",
  "example": {
    "before_sql": "SELECT CASE WHEN COUNT(*) >= 100 THEN true ELSE false END\n      FROM orders WHERE customer_id = 123;",
    "after_sql": "SELECT COUNT(*) >= 100\n      FROM (\n          SELECT 1 FROM orders \n          WHERE customer_id = 123 LIMIT 100\n      ) sub;",
    "alternative_sql": "",
    "key_insight": "Need to know if \"at least N\" rows exist, not exact count.",
    "transforms": [
      "limited_count_for_threshold"
    ]
  },
  "metadata": {
    "pg_version": "All",
    "auto_applied_by_pg": "false",
    "research_source": "",
    "notes": ""
  }
}