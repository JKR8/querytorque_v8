{
  "id": "JOIN_ORDER_COLLAPSE_LIMIT",
  "name": "Join Order Collapse Limit",
  "description": "Set join_collapse_limit = 1 to force PostgreSQL to respect explicit\n      JOIN clause ordering instead of reordering for optimization.",
  "category": "join_optimization",
  "priority": "medium",
  "verified_speedup": "unknown",
  "example": {
    "before_sql": "-- PostgreSQL may reorder JOINs arbitrarily\n      SELECT * FROM orders o\n      JOIN customers c ON o.customer_id = c.id\n      JOIN products p ON o.product_id = p.id\n      WHERE c.region = 'WEST';",
    "after_sql": "SET LOCAL join_collapse_limit = 1;\n      \n      -- Now joins in written order: orders \u2192 customers \u2192 products\n      SELECT * FROM orders o\n      JOIN customers c ON o.customer_id = c.id\n      JOIN products p ON o.product_id = p.id\n      WHERE c.region = 'WEST';",
    "alternative_sql": "",
    "key_insight": "- Optimizer consistently chooses suboptimal join order\n      - Specific knowledge about data distribution optimizer lacks\n      - Complex queries where planning time is excessive",
    "transforms": [
      "join_order_collapse_limit"
    ]
  },
  "metadata": {
    "pg_version": "All",
    "auto_applied_by_pg": "false",
    "research_source": "",
    "notes": ""
  }
}