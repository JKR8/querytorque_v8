engine_optimizer_workflow:
  description: "Step-by-step logic for an LLM to apply tuning flags based on scanner findings."

  step_1_apply_baseline_globals:
    description: "Apply to ALL queries. Reference findings that justify each command."
    rationale: "Brief explanation of why these defaults are suboptimal."
    commands:
      - "SET param = value;"

  step_2_analyze_and_apply_conditionals:
    logic: "Check query structure and intent to apply specific overrides."
    branches:
      - case: "Short descriptive name"
        condition: "Observable query characteristic that triggers this branch."
        finding_ref: "SF-NNN (Finding title)"
        action: "What to do. Prepend: SET param = value;"

  step_3_safety_constraints:
    description: "Critical anti-patterns to avoid. Reference findings with evidence."
    rules:
      - "NEVER generate 'SET param = value;' (Risk: Nx regression on Y)."

  step_4_fallback_strategy:
    description: "What to try if the query remains slow despite baseline."
    finding_ref: "SF-NNN, SF-NNN"
    action: "Suggest trying: SET param = value;"
