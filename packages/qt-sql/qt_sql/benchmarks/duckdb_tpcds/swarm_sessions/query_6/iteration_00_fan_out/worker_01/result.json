{
  "worker_id": 1,
  "strategy": "decorrelate",
  "examples_used": [
    "decorrelate",
    "composite_decorrelate_union"
  ],
  "optimized_sql": "WITH item_avg_cte AS (SELECT j.i_category, AVG(j.i_current_price) AS avg_price FROM item AS j GROUP BY j.i_category) SELECT a.ca_state AS state, COUNT(*) AS cnt FROM customer_address AS a, customer AS c, store_sales AS s, date_dim AS d, item AS i, item_avg_cte AS ia WHERE a.ca_address_sk = c.c_current_addr_sk AND c.c_customer_sk = s.ss_customer_sk AND s.ss_sold_date_sk = d.d_date_sk AND s.ss_item_sk = i.i_item_sk AND i.i_category = ia.i_category AND d.d_month_seq = (SELECT DISTINCT d_month_seq FROM date_dim WHERE d_year = 2002 AND d_moy = 3) AND i.i_current_price > 1.2 * ia.avg_price GROUP BY a.ca_state HAVING COUNT(*) >= 10 ORDER BY cnt, a.ca_state LIMIT 100",
  "speedup": 2.367589931322506,
  "status": "WIN",
  "transforms": [
    "decorrelate"
  ],
  "hint": "- decorrelate: Apply the pattern of converting correlated AVG subquery to CTE+JO",
  "error_message": null,
  "error_messages": [],
  "error_category": null
}