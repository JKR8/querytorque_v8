### Part 1: Modified Logic Tree
```
QUERY: (single statement)
├── [CTE] filtered_date  [+]  — Filter date_dim for January 2002
├── [CTE] filtered_address  [+]  — Filter customer_address for GMT offset -5
├── [CTE] filtered_item  [+]  — Filter item for Home category
├── [CTE] ss_agg  [~]  — Changed: Replaced dimension scans with filtered CTE joins
│   ├── SCAN (store_sales)
│   ├── JOIN filtered_date (ss_sold_date_sk = d_date_sk)
│   ├── JOIN filtered_address (ss_addr_sk = ca_address_sk)
│   └── JOIN filtered_item (ss_item_sk = i_item_sk)
├── [CTE] cs_agg  [~]  — Changed: Replaced dimension scans with filtered CTE joins
│   ├── SCAN (catalog_sales)
│   ├── JOIN filtered_date (cs_sold_date_sk = d_date_sk)
│   ├── JOIN filtered_address (cs_bill_addr_sk = ca_address_sk)
│   └── JOIN filtered_item (cs_item_sk = i_item_sk)
├── [CTE] ws_agg  [~]  — Changed: Replaced dimension scans with filtered CTE joins
│   ├── SCAN (web_sales)
│   ├── JOIN filtered_date (ws_sold_date_sk = d_date_sk)
│   ├── JOIN filtered_address (ws_bill_addr_sk = ca_address_sk)
│   └── JOIN filtered_item (ws_item_sk = i_item_sk)
├── [CTE] union_all  [=]  — UNION ALL of three channel aggregations
└── [MAIN] final_agg  [~]  — Changed: Wrapped in WITH clause containing all CTEs
    ├── SCAN (union_all)
    ├── AGG (GROUP BY i_manufact_id)
    ├── SORT (total_sales ASC)
    └── OUTPUT (i_manufact_id, total_sales)
```

### Part 2: Component Payload JSON
```json
{
  "spec_version": "1.0",
  "dialect": "duckdb",
  "rewrite_rules": [
    {"id": "R1", "type": "dimension_cte_isolate", "description": "Extracted shared dimension filters (date, address, item) into separate CTEs to avoid redundant scans", "applied_to": ["filtered_date", "filtered_address", "filtered_item"]},
    {"id": "R2", "type": "shared_dimension_multi_channel", "description": "Reused filtered dimension CTEs across all three channel aggregations (store, catalog, web)", "applied_to": ["ss_agg", "cs_agg", "ws_agg"]}
  ],
  "statements": [{
    "target_table": null,
    "change": "modified",
    "components": {
      "filtered_date": {
        "type": "cte",
        "change": "new",
        "sql": "SELECT d_date_sk FROM date_dim WHERE d_year = 2002 AND d_moy = 1",
        "interfaces": {"outputs": ["d_date_sk"], "consumes": []}
      },
      "filtered_address": {
        "type": "cte",
        "change": "new",
        "sql": "SELECT ca_address_sk FROM customer_address WHERE ca_gmt_offset = -5",
        "interfaces": {"outputs": ["ca_address_sk"], "consumes": []}
      },
      "filtered_item": {
        "type": "cte",
        "change": "new",
        "sql": "SELECT i_item_sk, i_manufact_id FROM item WHERE i_category = 'Home'",
        "interfaces": {"outputs": ["i_item_sk", "i_manufact_id"], "consumes": []}
      },
      "ss_agg": {
        "type": "cte",
        "change": "modified",
        "sql": "SELECT i_manufact_id, SUM(ss_ext_sales_price) AS total_sales FROM store_sales INNER JOIN filtered_date ON ss_sold_date_sk = d_date_sk INNER JOIN filtered_address ON ss_addr_sk = ca_address_sk INNER JOIN filtered_item ON ss_item_sk = i_item_sk GROUP BY i_manufact_id",
        "interfaces": {"outputs": ["i_manufact_id", "total_sales"], "consumes": ["filtered_date", "filtered_address", "filtered_item"]}
      },
      "cs_agg": {
        "type": "cte",
        "change": "modified",
        "sql": "SELECT i_manufact_id, SUM(cs_ext_sales_price) AS total_sales FROM catalog_sales INNER JOIN filtered_date ON cs_sold_date_sk = d_date_sk INNER JOIN filtered_address ON cs_bill_addr_sk = ca_address_sk INNER JOIN filtered_item ON cs_item_sk = i_item_sk GROUP BY i_manufact_id",
        "interfaces": {"outputs": ["i_manufact_id", "total_sales"], "consumes": ["filtered_date", "filtered_address", "filtered_item"]}
      },
      "ws_agg": {
        "type": "cte",
        "change": "modified",
        "sql": "SELECT i_manufact_id, SUM(ws_ext_sales_price) AS total_sales FROM web_sales INNER JOIN filtered_date ON ws_sold_date_sk = d_date_sk INNER JOIN filtered_address ON ws_bill_addr_sk = ca_address_sk INNER JOIN filtered_item ON ws_item_sk = i_item_sk GROUP BY i_manufact_id",
        "interfaces": {"outputs": ["i_manufact_id", "total_sales"], "consumes": ["filtered_date", "filtered_address", "filtered_item"]}
      },
      "union_all": {
        "type": "cte",
        "change": "modified",
        "sql": "SELECT i_manufact_id, total_sales FROM ss_agg UNION ALL SELECT i_manufact_id, total_sales FROM cs_agg UNION ALL SELECT i_manufact_id, total_sales FROM ws_agg",
        "interfaces": {"outputs": ["i_manufact_id", "total_sales"], "consumes": ["ss_agg", "cs_agg", "ws_agg"]}
      },
      "final_agg": {
        "type": "main_query",
        "change": "modified",
        "sql": "SELECT i_manufact_id, SUM(total_sales) AS total_sales FROM union_all GROUP BY i_manufact_id ORDER BY total_sales ASC LIMIT 100",
        "interfaces": {"outputs": ["i_manufact_id", "total_sales"], "consumes": ["union_all"]}
      }
    },
    "reconstruction_order": ["filtered_date", "filtered_address", "filtered_item", "ss_agg", "cs_agg", "ws_agg", "union_all", "final_agg"],
    "assembly_template": "WITH filtered_date AS ({filtered_date}), filtered_address AS ({filtered_address}), filtered_item AS ({filtered_item}), ss_agg AS ({ss_agg}), cs_agg AS ({cs_agg}), ws_agg AS ({ws_agg}), union_all AS ({union_all}) {final_agg}"
  }],
  "macros": {},
  "frozen_blocks": [],
  "validation_checks": []
}
```

**Changes:** The structural change extracts shared dimension filters into common CTEs and joins them sequentially with each fact table (avoiding cross-joins). This isolates small dimension scans (31 dates, 91K addresses, 10K items) that become hash tables for efficient probing during fact table joins.

**Expected speedup:** ~1.9x from dimension CTE isolation plus ~1.3x from shared dimension multi-channel reuse → ~2.5x total speedup (dimension scans reduced from 9 to 3, hash tables built once per dimension).