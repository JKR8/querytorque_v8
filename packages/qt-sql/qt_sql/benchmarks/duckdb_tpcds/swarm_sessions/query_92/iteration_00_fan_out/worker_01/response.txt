### Part 1: Modified Logic Tree
```
QUERY: (single statement)
└── [MAIN] main_query  [~]  — Replaced original join structure with CTE-based decorrelation pipeline
    ├── [CTE] filtered_item  [+]  — Isolate manufacturer filter
    ├── [CTE] filtered_date  [+]  — Isolate date range filter  
    ├── [CTE] item_avg_discount  [+]  — Decorrelate subquery: precompute per-item averages
    ├── [CTE] main_join  [+]  — Join filtered facts with precomputed averages
    ├── [CTE] filter_agg  [+]  — Aggregate excess amounts
    ├── [CTE] top_n  [+]  — Apply ordering and limit
    └── OUTPUT (Excess Discount Amount)
```

### Part 2: Component Payload JSON
```json
{
  "spec_version": "1.0",
  "dialect": "duckdb",
  "rewrite_rules": [
    {"id": "R1", "type": "decorrelate", "description": "Convert correlated subquery to standalone CTE with GROUP BY, then JOIN", "applied_to": ["item_avg_discount"]},
    {"id": "R2", "type": "pushdown", "description": "Push manufacturer and date filters into subquery via CTE joins", "applied_to": ["item_avg_discount", "main_join"]},
    {"id": "R3", "type": "date_cte_isolate", "description": "Extract date dimension filter into reusable CTE", "applied_to": ["filtered_date"]},
    {"id": "R4", "type": "dimension_cte_isolate", "description": "Extract item dimension filter into reusable CTE", "applied_to": ["filtered_item"]}
  ],
  "statements": [{
    "target_table": null,
    "change": "modified",
    "components": {
      "filtered_item": {
        "type": "cte",
        "change": "added",
        "sql": "SELECT i_item_sk, i_manufact_id FROM item WHERE i_manufact_id = 320",
        "interfaces": {"outputs": ["i_item_sk", "i_manufact_id"], "consumes": []}
      },
      "filtered_date": {
        "type": "cte",
        "change": "added", 
        "sql": "SELECT d_date_sk, d_date FROM date_dim WHERE d_date BETWEEN '2002-02-26' AND (CAST('2002-02-26' AS DATE) + INTERVAL 90 DAY)",
        "interfaces": {"outputs": ["d_date_sk", "d_date"], "consumes": []}
      },
      "item_avg_discount": {
        "type": "cte",
        "change": "added",
        "sql": "SELECT ws.ws_item_sk AS i_item_sk, AVG(ws.ws_ext_discount_amt) AS avg_disc FROM web_sales ws INNER JOIN filtered_date fd ON ws.ws_sold_date_sk = fd.d_date_sk INNER JOIN filtered_item fi ON ws.ws_item_sk = fi.i_item_sk GROUP BY ws.ws_item_sk",
        "interfaces": {"outputs": ["i_item_sk", "avg_disc"], "consumes": ["filtered_date", "filtered_item"]}
      },
      "main_join": {
        "type": "cte",
        "change": "added",
        "sql": "SELECT ws.ws_ext_discount_amt FROM web_sales ws INNER JOIN filtered_item fi ON ws.ws_item_sk = fi.i_item_sk INNER JOIN filtered_date fd ON ws.ws_sold_date_sk = fd.d_date_sk INNER JOIN item_avg_discount iad ON ws.ws_item_sk = iad.i_item_sk WHERE ws.ws_ext_discount_amt > 1.3 * iad.avg_disc",
        "interfaces": {"outputs": ["ws_ext_discount_amt"], "consumes": ["filtered_item", "filtered_date", "item_avg_discount"]}
      },
      "filter_agg": {
        "type": "cte",
        "change": "added",
        "sql": "SELECT SUM(ws_ext_discount_amt) AS \"Excess Discount Amount\" FROM main_join",
        "interfaces": {"outputs": ["Excess Discount Amount"], "consumes": ["main_join"]}
      },
      "top_n": {
        "type": "cte",
        "change": "added",
        "sql": "SELECT \"Excess Discount Amount\" FROM filter_agg ORDER BY \"Excess Discount Amount\" ASC LIMIT 100",
        "interfaces": {"outputs": ["Excess Discount Amount"], "consumes": ["filter_agg"]}
      },
      "main_query": {
        "type": "main_query",
        "change": "modified",
        "sql": "SELECT \"Excess Discount Amount\" FROM top_n",
        "interfaces": {"outputs": ["Excess Discount Amount"], "consumes": ["top_n"]}
      }
    },
    "reconstruction_order": ["filtered_item", "filtered_date", "item_avg_discount", "main_join", "filter_agg", "top_n", "main_query"],
    "assembly_template": "WITH filtered_item AS ({filtered_item}), filtered_date AS ({filtered_date}), item_avg_discount AS ({item_avg_discount}), main_join AS ({main_join}), filter_agg AS ({filter_agg}), top_n AS ({top_n}) {main_query}"
  }],
  "macros": {},
  "frozen_blocks": [],
  "validation_checks": []
}
```

**Changes**: Decorrelated the subquery by precomputing per-item average discounts in a CTE, then joining. Isolated dimension filters into reusable CTEs to eliminate redundant scans.

**Expected speedup**: ~2.9x (based on decorrelate pattern). The CTE materialization benefits from DuckDB's columnar processing and eliminates per-row subquery execution.