{
  "worker_id": 2,
  "strategy": "or_to_union",
  "examples_used": [
    "or_to_union"
  ],
  "optimized_sql": "WITH hd_branch1 AS (SELECT hd_demo_sk FROM household_demographics WHERE hd_dep_count = 8), hd_branch2 AS (SELECT hd_demo_sk FROM household_demographics WHERE hd_vehicle_count = -1), union_hd AS (SELECT hd_demo_sk FROM hd_branch1 UNION DISTINCT SELECT hd_demo_sk FROM hd_branch2), filtered_date AS (SELECT d_date_sk FROM date_dim WHERE d_dom BETWEEN 1 AND 2 AND d_year IN (1998, 1999, 2000)), filtered_store AS (SELECT s_store_sk FROM store WHERE s_city IN ('Pleasant Hill', 'Five Points')), join_fact AS (SELECT ss_ticket_number, ss_customer_sk, ca_city AS bought_city, ss_ext_sales_price, ss_ext_list_price, ss_ext_tax FROM store_sales JOIN filtered_date ON ss_sold_date_sk = d_date_sk JOIN filtered_store ON ss_store_sk = s_store_sk JOIN union_hd ON ss_hdemo_sk = hd_demo_sk JOIN customer_address ON ss_addr_sk = ca_address_sk), agg AS (SELECT ss_ticket_number, ss_customer_sk, bought_city, SUM(ss_ext_sales_price) AS extended_price, SUM(ss_ext_list_price) AS list_price, SUM(ss_ext_tax) AS extended_tax FROM join_fact GROUP BY ss_ticket_number, ss_customer_sk, bought_city), join_customer AS (SELECT c_last_name, c_first_name, bought_city, ss_ticket_number, extended_price, extended_tax, list_price, c_current_addr_sk FROM agg JOIN customer ON ss_customer_sk = c_customer_sk), join_current_addr AS (SELECT c_last_name, c_first_name, ca_city, bought_city, ss_ticket_number, extended_price, extended_tax, list_price FROM join_customer JOIN customer_address current_addr ON c_current_addr_sk = ca_address_sk AND ca_city <> bought_city) SELECT c_last_name, c_first_name, ca_city, bought_city, ss_ticket_number, extended_price, extended_tax, list_price FROM join_current_addr ORDER BY c_last_name, ss_ticket_number LIMIT 100",
  "speedup": 0.8467891252542206,
  "status": "REGRESSION",
  "transforms": [
    "or_to_union"
  ],
  "hint": "- or_to_union: Apply splitting of OR on different columns (hd_dep_count, hd_vehi",
  "error_message": null,
  "error_messages": [],
  "error_category": null
}