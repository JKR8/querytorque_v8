{
  "worker_id": 2,
  "strategy": "star_join_prefetch",
  "examples_used": [
    "dimension_cte_isolate (Q26)",
    "prefetch_fact_join (Q63)",
    "multi_dimension_prefetch (Q43)"
  ],
  "optimized_sql": "-- start query 13 in stream 0 using template query13.tpl\nselect avg(ss_quantity)\n       ,avg(ss_ext_sales_price)\n       ,avg(ss_ext_wholesale_cost)\n       ,sum(ss_ext_wholesale_cost)\n from store_sales\n     ,store\n     ,customer_demographics\n     ,household_demographics\n     ,customer_address\n     ,date_dim\n where s_store_sk = ss_store_sk\n and  ss_sold_date_sk = d_date_sk and d_year = 2001\n and((ss_hdemo_sk=hd_demo_sk\n  and cd_demo_sk = ss_cdemo_sk\n  and cd_marital_status = 'D'\n  and cd_education_status = 'Unknown'\n  and ss_sales_price between 100.00 and 150.00\n  and hd_dep_count = 3   \n     )or\n     (ss_hdemo_sk=hd_demo_sk\n  and cd_demo_sk = ss_cdemo_sk\n  and cd_marital_status = 'S'\n  and cd_education_status = 'College'\n  and ss_sales_price between 50.00 and 100.00   \n  and hd_dep_count = 1\n     ) or \n     (ss_hdemo_sk=hd_demo_sk\n  and cd_demo_sk = ss_cdemo_sk\n  and cd_marital_status = 'M'\n  and cd_education_status = '4 yr Degree'\n  and ss_sales_price between 150.00 and 200.00 \n  and hd_dep_count = 1  \n     ))\n and((ss_addr_sk = ca_address_sk\n  and ca_country = 'United States'\n  and ca_state in ('SD', 'KS', 'MI')\n  and ss_net_profit between 100 and 200  \n     ) or\n     (ss_addr_sk = ca_address_sk\n  and ca_country = 'United States'\n  and ca_state in ('MO', 'ND', 'CO')\n  and ss_net_profit between 150 and 300  \n     ) or\n     (ss_addr_sk = ca_address_sk\n  and ca_country = 'United States'\n  and ca_state in ('NH', 'OH', 'TX')\n  and ss_net_profit between 50 and 250  \n     ))\n;\n\n-- end query 13 in stream 0 using template query13.tpl",
  "speedup": 1.0583648841371172,
  "status": "IMPROVED",
  "transforms": [],
  "hint": "Apply pre-filtering all dimension tables into CTEs before joining with fact. Q26",
  "error_message": "INTERFACE: [main_query] declares outputs ['avg(ss_ext_sales_price)', 'avg(ss_ext_wholesale_cost)', 'avg(ss_quantity)', 'sum(ss_ext_wholesale_cost)'] but SELECT only produces ['avg_ss_ext_sales_price', 'avg_ss_ext_wholesale_cost', 'avg_ss_quantity', 'sum_ss_ext_wholesale_cost'] | INTERFACE: [main_query] SELECT produces ['avg_ss_ext_sales_price', 'avg_ss_ext_wholesale_cost', 'avg_ss_quantity', 'sum_ss_ext_wholesale_cost'] not declared in outputs",
  "error_messages": [
    "INTERFACE: [main_query] declares outputs ['avg(ss_ext_sales_price)', 'avg(ss_ext_wholesale_cost)', 'avg(ss_quantity)', 'sum(ss_ext_wholesale_cost)'] but SELECT only produces ['avg_ss_ext_sales_price', 'avg_ss_ext_wholesale_cost', 'avg_ss_quantity', 'sum_ss_ext_wholesale_cost']",
    "INTERFACE: [main_query] SELECT produces ['avg_ss_ext_sales_price', 'avg_ss_ext_wholesale_cost', 'avg_ss_quantity', 'sum_ss_ext_wholesale_cost'] not declared in outputs"
  ],
  "error_category": null
}