{
  "id": "FILTER_INTO_JOIN",
  "name": "Filter Into Join",
  "description": "Push filters to one side of a join",
  "verified_speedup": "unknown",
  "example": {
    "opportunity": "FILTER_INTO_JOIN",
    "before_sql": "SELECT f.id, f.value, d.name FROM fact f JOIN dim d ON f.key = d.key WHERE d.region = 'US'",
    "output": {
      "rewrite_sets": [
        {
          "id": "rs_01",
          "transform": "filter_into_join",
          "nodes": {
            "filtered_dim": "SELECT * FROM dim WHERE region = 'US'",
            "main_query": "SELECT ... FROM fact f JOIN filtered_dim d ON f.key = d.key"
          },
          "invariants_kept": ["same result rows", "same output columns"],
          "expected_speedup": "2x",
          "risk": "low"
        }
      ]
    },
    "key_insight": "Push selective predicates into the joined table to reduce join input size."
  }
}
