{
  "run_id": "beam_sweep_20260216",
  "started_at": "2026-02-16T14:06:04",
  "finished_at": "2026-02-16T16:40:46.868847",
  "engine": "postgresql",
  "benchmark": "dsb",
  "database": "postgres://jakc9:***@127.0.0.1:5434/dsb_sf10",
  "scale_factor": 10,
  "analyst_model": "deepseek/deepseek-r1",
  "worker_model": "qwen/qwen3-coder",
  "target_speedup": 100.0,
  "max_iterations": 3,
  "validation_method": "3x (warmup + avg last 2) + row_count + MD5 checksum",
  "semantic_pre_check": "Tier-1 (AST structural) + Tier-2 (2% TABLESAMPLE)",
  "n_queries": 76,
  "summary": {
    "WIN": 36,
    "IMPROVED": 11,
    "NEUTRAL": 5,
    "NO_WINNER": 14,
    "REGRESSION": 10
  },
  "queries": {
    "query001_multi_i1": {
      "status": "WIN",
      "best_speedup": 14.51,
      "best_transform": "materialize_cte",
      "best_family": "E",
      "best_patch_id": "syn_w3",
      "winning_iteration": 0,
      "original_ms": 6550.7,
      "optimized_ms": 451.5,
      "n_iterations": 1,
      "total_patches_tried": 4,
      "patches_passed_semantic": 3,
      "patches_won": 3,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "B",
          "transform": "decorrelate_subquery",
          "status": "WIN",
          "speedup": 14.04,
          "original_ms": 6550.7,
          "patch_ms": 466.7,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "A",
          "transform": "push_store_filters+push_reason_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: COLUMN REF MISMATCH: Original columns missing from rewrite \u2014 ['ctr_reason_sk']. The rewrite references different table columns.",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "WIN",
          "speedup": 14.33,
          "original_ms": 6550.7,
          "patch_ms": 457.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        },
        {
          "iteration": 0,
          "patch_id": "syn_w3",
          "family": "E",
          "transform": "materialize_cte",
          "status": "WIN",
          "speedup": 14.51,
          "original_ms": 6550.7,
          "patch_ms": 451.5,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        }
      ]
    },
    "query001_multi_i2": {
      "status": "WIN",
      "best_speedup": 61.86,
      "best_transform": "explicit_join",
      "best_family": "F",
      "best_patch_id": "t2",
      "winning_iteration": 0,
      "original_ms": 29213.7,
      "optimized_ms": 472.3,
      "n_iterations": 3,
      "total_patches_tried": 11,
      "patches_passed_semantic": 7,
      "patches_won": 4,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "B",
          "transform": "shared_scan_decorrelate",
          "status": "WIN",
          "speedup": 61.44,
          "original_ms": 29213.7,
          "patch_ms": 475.5,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "F",
          "transform": "explicit_join",
          "status": "WIN",
          "speedup": 61.86,
          "original_ms": 29213.7,
          "patch_ms": 472.3,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.65
        },
        {
          "iteration": 0,
          "patch_id": "syn_w1",
          "family": "A",
          "transform": "early_filter",
          "status": "WIN",
          "speedup": 61.41,
          "original_ms": 29213.7,
          "patch_ms": 475.7,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "WIN",
          "speedup": 60.17,
          "original_ms": 29213.7,
          "patch_ms": 485.5,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        },
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "B+A",
          "transform": "decorrelate_then_early_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: COLUMN REF MISMATCH: Original columns missing from rewrite \u2014 ['ctr_reason_sk']. The rewrite references different table columns.",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "t2",
          "family": "A",
          "transform": "push_store_state_to_cte",
          "status": "NEUTRAL",
          "speedup": 1.0,
          "original_ms": 28983.7,
          "patch_ms": 28877.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 1,
          "patch_id": "t4",
          "family": "B+A+F",
          "transform": "full_dimension_pushdown",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column c.c_current_cdemo_sk does not exist\nLINE 1: ...NNER JOIN customer_demographics_filtered AS cd ON c.c_curren...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.75
        },
        {
          "iteration": 1,
          "patch_id": "t3",
          "family": "E",
          "transform": "precompute_filtered_cte",
          "status": "NEUTRAL",
          "speedup": 0.99,
          "original_ms": 28983.7,
          "patch_ms": 29259.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.8
        },
        {
          "iteration": 2,
          "patch_id": "ctr1_early_filter",
          "family": "B+A",
          "transform": "decorrelate_subquery_and_push_filters",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s2 failed: Cannot parse body sql_fragment: Failed to parse any statement following CTE. Line 1, Col: 455.\n  sk BETWEEN 17 AND 20 and sr_store_sk = s_store_sk group by sr_customer_sk ,sr_store_sk, sr_reason_sk\u001b[4m)\u001b[0m",
          "has_explain": false,
          "relevance_score": 0.98
        },
        {
          "iteration": 2,
          "patch_id": "prefilter_demo",
          "family": "B+E+F",
          "transform": "prefilter_customer_demographics+explicit_join_store_in_cte",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s7 failed: Could not locate expression to delete for label=None hash='172e78014ed65e1b'",
          "has_explain": false,
          "relevance_score": 0.9
        },
        {
          "iteration": 2,
          "patch_id": "fix_t4_error",
          "family": "E",
          "transform": "rescue_dimension_prefetch",
          "status": "NEUTRAL",
          "speedup": 1.03,
          "original_ms": 30631.3,
          "patch_ms": 29795.5,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.8
        }
      ]
    },
    "query010_multi_i1": {
      "status": "NEUTRAL",
      "best_speedup": 0.99,
      "best_transform": "customer_early_filter",
      "best_family": "A",
      "best_patch_id": "t3",
      "winning_iteration": 0,
      "original_ms": 1123.5,
      "optimized_ms": 1138.1,
      "n_iterations": 2,
      "total_patches_tried": 7,
      "patches_passed_semantic": 2,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "B",
          "transform": "shared_scan_decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['0.01', '20.0', '3.0', '30.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.98
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "A",
          "transform": "customer_early_filter",
          "status": "NEUTRAL",
          "speedup": 0.99,
          "original_ms": 1123.5,
          "patch_ms": 1138.1,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "E",
          "transform": "dimension_prefetch",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['0.01', '20.0', '3.0', '30.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.9
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['0.01', '20.0', '3.0', '30.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "B+E",
          "transform": "decorrelate_with_prefetch",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['0.01', '20.0', '3.0', '30.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.98
        },
        {
          "iteration": 2,
          "patch_id": "t4",
          "family": "A+F",
          "transform": "early_county_filter_explicit_join",
          "status": "NEUTRAL",
          "speedup": 0.97,
          "original_ms": 1269.5,
          "patch_ms": 1305.0,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.75
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "C+B",
          "transform": "push_agg_into_sales_cte+decorrelate_preserve_literals",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['0.01', '20.0', '3.0', '30.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.85
        }
      ]
    },
    "query010_multi_i2": {
      "status": "NEUTRAL",
      "best_speedup": 0.99,
      "best_transform": "decorrelate_with_prefetch",
      "best_family": "B+E",
      "best_patch_id": "S0",
      "winning_iteration": 1,
      "original_ms": 875.6,
      "optimized_ms": 881.2,
      "n_iterations": 1,
      "total_patches_tried": 3,
      "patches_passed_semantic": 3,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 1,
          "patch_id": "S0",
          "family": "B+E",
          "transform": "decorrelate_with_prefetch",
          "status": "NEUTRAL",
          "speedup": 0.99,
          "original_ms": 875.6,
          "patch_ms": 881.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "S0",
          "family": "B+E",
          "transform": "decorrelate_with_prefetch",
          "status": "NEUTRAL",
          "speedup": 0.99,
          "original_ms": 875.6,
          "patch_ms": 881.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "S0",
          "family": "B+E",
          "transform": "decorrelate_with_prefetch",
          "status": "NEUTRAL",
          "speedup": 0.99,
          "original_ms": 875.6,
          "patch_ms": 881.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        }
      ]
    },
    "query013_agg_i1": {
      "status": "IMPROVED",
      "best_speedup": 1.02,
      "best_transform": "predicate_pushback",
      "best_family": "A",
      "best_patch_id": "t2",
      "winning_iteration": 0,
      "original_ms": 499.2,
      "optimized_ms": 487.8,
      "n_iterations": 2,
      "total_patches_tried": 6,
      "patches_passed_semantic": 2,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "E",
          "transform": "multi_dimension_prefetch",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence (after retry): checksum 275542bcad9f56dce5055ced8bc67d5a vs a8d26fedf6d60643e5127cf5957489ee",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "A",
          "transform": "predicate_pushback",
          "status": "NEUTRAL",
          "speedup": 1.02,
          "original_ms": 499.2,
          "patch_ms": 487.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence (after retry): checksum 275542bcad9f56dce5055ced8bc67d5a vs a8d26fedf6d60643e5127cf5957489ee",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 0,
          "patch_id": "syn_w3",
          "family": "E",
          "transform": "materialize_cte",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence (after retry): checksum 275542bcad9f56dce5055ced8bc67d5a vs a8d26fedf6d60643e5127cf5957489ee",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 2,
          "patch_id": "t3",
          "family": "E+F",
          "transform": "corrected_store_sales_prefilter_explicit_joins",
          "status": "REGRESSION",
          "speedup": 0.89,
          "original_ms": 962.8,
          "patch_ms": 1084.7,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.98
        },
        {
          "iteration": 2,
          "patch_id": "t4",
          "family": "A+E",
          "transform": "customer_demographics_address_prefilter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence retry execution error: column \"cd_marital_status\" does not exist\nLINE 1: ...addr_sk = ca_address_sk WHERE d_year = 2001 AND ((cd_marital...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.85
        }
      ]
    },
    "query013_agg_i2": {
      "status": "NEUTRAL",
      "best_speedup": 0.97,
      "best_transform": "early_date_store_prefetch",
      "best_family": "A+E",
      "best_patch_id": "t1",
      "winning_iteration": 1,
      "original_ms": 516.7,
      "optimized_ms": 531.7,
      "n_iterations": 1,
      "total_patches_tried": 3,
      "patches_passed_semantic": 2,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "A+E",
          "transform": "early_date_store_prefetch",
          "status": "NEUTRAL",
          "speedup": 0.97,
          "original_ms": 516.7,
          "patch_ms": 531.7,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "t3",
          "family": "A+F+D",
          "transform": "prefetch_explicit_join_reorder+or_to_union_all",
          "status": "REGRESSION",
          "speedup": 0.04,
          "original_ms": 516.7,
          "patch_ms": 13430.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        },
        {
          "iteration": 1,
          "patch_id": "t4",
          "family": "E",
          "transform": "fact_table_materialize",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column fs.ss_sales_price does not exist\nLINE 1: ...M' AND cd.cd_education_status = '2 yr Degree' AND fs.ss_sale...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.8
        }
      ]
    },
    "query013_spj_i1": {
      "status": "NO_WINNER",
      "best_speedup": 0,
      "best_transform": "",
      "best_family": "",
      "best_patch_id": "",
      "winning_iteration": -1,
      "original_ms": null,
      "optimized_ms": null,
      "n_iterations": 0,
      "total_patches_tried": 0,
      "patches_passed_semantic": 0,
      "patches_won": 0,
      "all_patches": []
    },
    "query013_spj_i2": {
      "status": "NO_WINNER",
      "best_speedup": 0,
      "best_transform": "",
      "best_family": "",
      "best_patch_id": "",
      "winning_iteration": -1,
      "original_ms": null,
      "optimized_ms": null,
      "n_iterations": 0,
      "total_patches_tried": 0,
      "patches_passed_semantic": 0,
      "patches_won": 0,
      "all_patches": []
    },
    "query014_multi_i1": {
      "status": "IMPROVED",
      "best_speedup": 1.03,
      "best_transform": "cte_materialization",
      "best_family": "E",
      "best_patch_id": "novel_1",
      "winning_iteration": 1,
      "original_ms": 10558.5,
      "optimized_ms": 10235.3,
      "n_iterations": 2,
      "total_patches_tried": 7,
      "patches_passed_semantic": 2,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "D",
          "transform": "set_operation_to_exists",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 strings: ['store'], numbers: ['12.0', '20.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "C",
          "transform": "aggregation_pushdown",
          "status": "NEUTRAL",
          "speedup": 1.02,
          "original_ms": 9030.6,
          "patch_ms": 8840.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "syn_w1",
          "family": "A",
          "transform": "early_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s1 failed: No target found for replace_from step s1",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 0,
          "patch_id": "syn_w3",
          "family": "E",
          "transform": "materialize_cte",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s1 failed: No target found for replace_from step s1",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 1,
          "patch_id": "combo_1",
          "family": "C+D",
          "transform": "aggregation_pushdown_then_setop_rewrite",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: COLUMN REF MISMATCH: Original columns missing from rewrite \u2014 ['brand_id', 'category_id', 'class_id']. The rewrite references different table columns.",
          "has_explain": false,
          "relevance_score": 0.97
        },
        {
          "iteration": 1,
          "patch_id": "refine_1",
          "family": "A+D",
          "transform": "push_week_filter_into_cte+fixed_setop_to_exists",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 strings: ['store']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.92
        },
        {
          "iteration": 1,
          "patch_id": "novel_1",
          "family": "E",
          "transform": "cte_materialization",
          "status": "NEUTRAL",
          "speedup": 1.03,
          "original_ms": 10558.5,
          "patch_ms": 10235.3,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        }
      ]
    },
    "query014_multi_i2": {
      "status": "WIN",
      "best_speedup": 1.2,
      "best_transform": "cte_materialize_avg_sales",
      "best_family": "E",
      "best_patch_id": "t2",
      "winning_iteration": 1,
      "original_ms": 10206.3,
      "optimized_ms": 8522.4,
      "n_iterations": 2,
      "total_patches_tried": 7,
      "patches_passed_semantic": 2,
      "patches_won": 1,
      "all_patches": [
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "D+E",
          "transform": "setop_to_exists_with_materialization",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 strings: ['store'], numbers: ['12.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.98
        },
        {
          "iteration": 1,
          "patch_id": "t3",
          "family": "D",
          "transform": "intersect_to_exists",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 strings: ['store'], numbers: ['12.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 1,
          "patch_id": "t4",
          "family": "C",
          "transform": "preaggregate_cross_items",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 strings: ['store'], numbers: ['12.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.8
        },
        {
          "iteration": 1,
          "patch_id": "t2",
          "family": "E",
          "transform": "cte_materialize_avg_sales",
          "status": "WIN",
          "speedup": 1.2,
          "original_ms": 10206.3,
          "patch_ms": 8522.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "D+F",
          "transform": "setop_to_exists_with_merge_join",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s4 failed: No target found for replace_body step s4",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "t3",
          "family": "D+A",
          "transform": "intersect_to_exists_preserve_literals+remove_redundant_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s4 failed: No target found for replace_from step s4",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "F",
          "transform": "merge_join_avoid_sort",
          "status": "NEUTRAL",
          "speedup": 1.01,
          "original_ms": 8732.6,
          "patch_ms": 8622.7,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        }
      ]
    },
    "query018_agg_i1": {
      "status": "WIN",
      "best_speedup": 1.05,
      "best_transform": "prefetch_customer_address",
      "best_family": "A+E",
      "best_patch_id": "t2",
      "winning_iteration": 1,
      "original_ms": 241.2,
      "optimized_ms": 230.5,
      "n_iterations": 1,
      "total_patches_tried": 4,
      "patches_passed_semantic": 2,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "A+F",
          "transform": "early_filter_explicit_join",
          "status": "NEUTRAL",
          "speedup": 1.03,
          "original_ms": 241.2,
          "patch_ms": 234.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "t2",
          "family": "A+E",
          "transform": "prefetch_customer_address",
          "status": "NEUTRAL",
          "speedup": 1.05,
          "original_ms": 241.2,
          "patch_ms": 230.5,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        },
        {
          "iteration": 1,
          "patch_id": "t3",
          "family": "C",
          "transform": "preaggregate_fact",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column \"cs_quantity\" does not exist\nLINE 1: ...tem_id, ca_country, ca_state, ca_county, AVG(CAST(cs_quantit...\n                                                             ^\nHINT:  Perhaps you meant to reference the column \"cs.avg_quantity\".\n",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 1,
          "patch_id": "t4",
          "family": "F+B",
          "transform": "decorrelate_demographics",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.8
        }
      ]
    },
    "query018_agg_i2": {
      "status": "WIN",
      "best_speedup": 1.16,
      "best_transform": "decorrelate_fact_scan",
      "best_family": "B",
      "best_patch_id": "t3",
      "winning_iteration": 2,
      "original_ms": 406.5,
      "optimized_ms": 350.5,
      "n_iterations": 2,
      "total_patches_tried": 7,
      "patches_passed_semantic": 6,
      "patches_won": 1,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "F",
          "transform": "join_restructure_materialized",
          "status": "NEUTRAL",
          "speedup": 0.96,
          "original_ms": 367.7,
          "patch_ms": 384.0,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.98
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "A",
          "transform": "predicate_pushdown",
          "status": "NEUTRAL",
          "speedup": 0.99,
          "original_ms": 367.7,
          "patch_ms": 370.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "E",
          "transform": "dimension_prefetch",
          "status": "NEUTRAL",
          "speedup": 1.0,
          "original_ms": 367.7,
          "patch_ms": 368.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "NEUTRAL",
          "speedup": 0.98,
          "original_ms": 367.7,
          "patch_ms": 375.7,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "C",
          "transform": "agg_pushdown_sum_count",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: COLUMN REF MISMATCH: Original columns missing from rewrite \u2014 ['cs_sold_date_sk']. The rewrite references different table columns.",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "A+F",
          "transform": "early_filter_explicit_join",
          "status": "NEUTRAL",
          "speedup": 1.01,
          "original_ms": 406.5,
          "patch_ms": 400.6,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        },
        {
          "iteration": 2,
          "patch_id": "t3",
          "family": "B",
          "transform": "decorrelate_fact_scan",
          "status": "WIN",
          "speedup": 1.16,
          "original_ms": 406.5,
          "patch_ms": 350.5,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.8
        }
      ]
    },
    "query019_agg_i1": {
      "status": "WIN",
      "best_speedup": 1.11,
      "best_transform": "early_filter_geo_materialize",
      "best_family": "A+E",
      "best_patch_id": "t1",
      "winning_iteration": 1,
      "original_ms": 160.1,
      "optimized_ms": 143.8,
      "n_iterations": 3,
      "total_patches_tried": 10,
      "patches_passed_semantic": 5,
      "patches_won": 2,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "A",
          "transform": "early_filtering",
          "status": "IMPROVED",
          "speedup": 1.1,
          "original_ms": 108.2,
          "patch_ms": 98.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.98
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "C",
          "transform": "aggregation_pushdown",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column \"ss_ext_sales_price\" does not exist\nLINE 1: ... i_brand AS brand, i_manufact_id, i_manufact, SUM(ss_ext_sal...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "F+E",
          "transform": "explicit_join_materialized+prefetch_geo",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.92
        },
        {
          "iteration": 0,
          "patch_id": "syn_w1",
          "family": "A",
          "transform": "early_filter",
          "status": "NEUTRAL",
          "speedup": 1.03,
          "original_ms": 108.2,
          "patch_ms": 104.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        },
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "A+E",
          "transform": "early_filter_geo_materialize",
          "status": "WIN",
          "speedup": 1.11,
          "original_ms": 160.1,
          "patch_ms": 143.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.7
        },
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "A+E",
          "transform": "early_filter_geo_materialize",
          "status": "WIN",
          "speedup": 1.11,
          "original_ms": 160.1,
          "patch_ms": 143.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.7
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "C",
          "transform": "aggregate_after_item_join",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s6 failed: Could not locate expression to replace",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "t5",
          "family": "A+E",
          "transform": "prefilter_item_materialize",
          "status": "NEUTRAL",
          "speedup": 0.97,
          "original_ms": 172.1,
          "patch_ms": 177.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.8
        },
        {
          "iteration": 2,
          "patch_id": "t4",
          "family": "C",
          "transform": "aggregate_pushdown_rescue",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column ss.ss_sold_date_sk does not exist\nLINE 1: ... JOIN filtered_store_sales AS ss ON d.d_date_sk = ss.ss_sold...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.75
        },
        {
          "iteration": 2,
          "patch_id": "t3",
          "family": "F",
          "transform": "reorder_joins_early_geo",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: COLUMN REF MISMATCH: Original columns missing from rewrite \u2014 ['c_current_addr_sk']. The rewrite references different table columns.",
          "has_explain": false,
          "relevance_score": 0.85
        }
      ]
    },
    "query019_agg_i2": {
      "status": "IMPROVED",
      "best_speedup": 1.03,
      "best_transform": "early_filtering",
      "best_family": "A",
      "best_patch_id": "t1",
      "winning_iteration": 0,
      "original_ms": 335.0,
      "optimized_ms": 323.8,
      "n_iterations": 2,
      "total_patches_tried": 7,
      "patches_passed_semantic": 2,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "A",
          "transform": "early_filtering",
          "status": "NEUTRAL",
          "speedup": 1.03,
          "original_ms": 335.0,
          "patch_ms": 323.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.98
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "F",
          "transform": "explicit_join_reorder",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column \"i_brand_id\" does not exist\nLINE 1: ...m_sk FROM item WHERE i_category = 'Shoes') SELECT i_brand_id...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.92
        },
        {
          "iteration": 0,
          "patch_id": "syn_w1",
          "family": "A",
          "transform": "early_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 2,
          "patch_id": "t6",
          "family": "A+F",
          "transform": "early_filter_explicit_join_fixed",
          "status": "NEUTRAL",
          "speedup": 0.97,
          "original_ms": 320.8,
          "patch_ms": 332.1,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "t8",
          "family": "A+E",
          "transform": "precomputed_customer_address+early_zip_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column \"ca_zip\" does not exist\nLINE 1: ...store_sk WHERE i_category = 'Shoes' AND SUBSTRING(ca_zip FRO...\n                                                             ^\nHINT:  Perhaps you meant to reference the column \"store.s_zip\".\n",
          "has_explain": false,
          "relevance_score": 0.8
        },
        {
          "iteration": 2,
          "patch_id": "t7",
          "family": "C",
          "transform": "agg_pushdown_fixed_keys",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.85
        }
      ]
    },
    "query023_multi_i1": {
      "status": "WIN",
      "best_speedup": 1.05,
      "best_transform": "cte_materialization",
      "best_family": "E",
      "best_patch_id": "t1",
      "winning_iteration": 0,
      "original_ms": 1418.6,
      "optimized_ms": 1355.0,
      "n_iterations": 1,
      "total_patches_tried": 4,
      "patches_passed_semantic": 1,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "E",
          "transform": "cte_materialization",
          "status": "NEUTRAL",
          "speedup": 1.05,
          "original_ms": 1418.6,
          "patch_ms": 1355.0,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "A",
          "transform": "predicate_pushdown",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['10.0', '1934.0', '1940.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t4",
          "family": "C",
          "transform": "preaggregation",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s2 failed: No target found for replace_from step s2",
          "has_explain": false,
          "relevance_score": 0.7
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "F",
          "transform": "explicit_join_ordering",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s1 failed: Cannot parse body sql_fragment: Required keyword: 'expressions' missing for <class 'sqlglot.expressions.Aliases'>. Line 1, Col: 28.\n  frequent_ss_items AS (\u001b[4mSELECT\u001b[0m SUBSTRING(i_item_desc, 1, 30) AS itemdesc, i_item_sk AS item_sk, d_date AS solddate, COUNT(*) AS cn",
          "has_explain": false,
          "relevance_score": 0.75
        }
      ]
    },
    "query023_multi_i2": {
      "status": "WIN",
      "best_speedup": 8.97,
      "best_transform": "materialization_prefetch",
      "best_family": "E",
      "best_patch_id": "t1",
      "winning_iteration": 0,
      "original_ms": 1098.2,
      "optimized_ms": 122.5,
      "n_iterations": 3,
      "total_patches_tried": 10,
      "patches_passed_semantic": 7,
      "patches_won": 3,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "E",
          "transform": "materialization_prefetch",
          "status": "WIN",
          "speedup": 8.97,
          "original_ms": 1098.2,
          "patch_ms": 122.5,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "A",
          "transform": "predicate_pushback",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s1 failed: No target found for replace_body step s1",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "WIN",
          "speedup": 8.77,
          "original_ms": 1098.2,
          "patch_ms": 125.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        },
        {
          "iteration": 0,
          "patch_id": "syn_w3",
          "family": "E",
          "transform": "materialize_cte",
          "status": "WIN",
          "speedup": 8.72,
          "original_ms": 1098.2,
          "patch_ms": 125.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        },
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "A+C",
          "transform": "preagg_early_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s6 failed: Could not locate expression to replace",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "t3",
          "family": "A",
          "transform": "push_year_filter",
          "status": "REGRESSION",
          "speedup": 0.81,
          "original_ms": 1283.9,
          "patch_ms": 1590.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.75
        },
        {
          "iteration": 1,
          "patch_id": "t2",
          "family": "C",
          "transform": "preagg_best_customer",
          "status": "IMPROVED",
          "speedup": 1.08,
          "original_ms": 1283.9,
          "patch_ms": 1186.7,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "C+E",
          "transform": "preagg_and_materialize_cte",
          "status": "NEUTRAL",
          "speedup": 0.97,
          "original_ms": 1114.4,
          "patch_ms": 1152.3,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        },
        {
          "iteration": 2,
          "patch_id": "t3",
          "family": "A",
          "transform": "push_ss_wholesale_to_best_customer",
          "status": "REGRESSION",
          "speedup": 0.58,
          "original_ms": 1114.4,
          "patch_ms": 1930.7,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.75
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "B",
          "transform": "decorrelate_max_store_sales",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['5.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.85
        }
      ]
    },
    "query025_agg_i1": {
      "status": "REGRESSION",
      "best_speedup": 0.1,
      "best_transform": "prefetch_literal_fix",
      "best_family": "E",
      "best_patch_id": "t2_rescue",
      "winning_iteration": 1,
      "original_ms": 359.3,
      "optimized_ms": 3422.8,
      "n_iterations": 1,
      "total_patches_tried": 3,
      "patches_passed_semantic": 1,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 1,
          "patch_id": "t2_rescue",
          "family": "E",
          "transform": "prefetch_literal_fix",
          "status": "REGRESSION",
          "speedup": 0.1,
          "original_ms": 359.3,
          "patch_ms": 3422.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.98
        },
        {
          "iteration": 1,
          "patch_id": "syn_w1_rescue",
          "family": "A+E",
          "transform": "early_filter_literal_fix+prefetch_agg_pushdown",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column reference \"d_date_sk\" is ambiguous\nLINE 1: ... cs_item_sk JOIN filtered_d3 ON cs_sold_date_sk = d_date_sk ...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "t3_rescue",
          "family": "C",
          "transform": "preagg_literal_fix",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.85
        }
      ]
    },
    "query025_agg_i2": {
      "status": "WIN",
      "best_speedup": 1.34,
      "best_transform": "date_dim_prefetch",
      "best_family": "E",
      "best_patch_id": "t2",
      "winning_iteration": 0,
      "original_ms": 391.3,
      "optimized_ms": 292.5,
      "n_iterations": 3,
      "total_patches_tried": 10,
      "patches_passed_semantic": 5,
      "patches_won": 1,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "F",
          "transform": "explicit_join_restructure",
          "status": "REGRESSION",
          "speedup": 0.95,
          "original_ms": 391.3,
          "patch_ms": 413.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "E",
          "transform": "date_dim_prefetch",
          "status": "WIN",
          "speedup": 1.34,
          "original_ms": 391.3,
          "patch_ms": 292.5,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "syn_w1",
          "family": "A",
          "transform": "early_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column reference \"d_date_sk\" is ambiguous\nLINE 1: ...umber) JOIN filtered_d2 ON (sr_returned_date_sk = d_date_sk)...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 1,
          "patch_id": "t2",
          "family": "E+C",
          "transform": "prefilter_plus_agg_pushdown",
          "status": "NEUTRAL",
          "speedup": 1.01,
          "original_ms": 337.4,
          "patch_ms": 334.0,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "S0",
          "family": "A",
          "transform": "early_filter_fixed_aliases",
          "status": "REGRESSION",
          "speedup": 0.93,
          "original_ms": 337.4,
          "patch_ms": 363.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "E+C",
          "transform": "prefetch_plus_agg_pushdown",
          "status": "ERROR",
          "speedup": 0.0,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": true,
          "error": "canceling statement due to statement timeout\n",
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "t3",
          "family": "A",
          "transform": "early_filter_fixed_join_order",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column reference \"d_date_sk\" is ambiguous\nLINE 1: ..._number JOIN filtered_d2 ON sr_returned_date_sk = d_date_sk ...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.8
        },
        {
          "iteration": 2,
          "patch_id": "t4",
          "family": "B",
          "transform": "decorrelate_fact_joins",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.75
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "F",
          "transform": "explicit_join_restructure",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.85
        }
      ]
    },
    "query027_agg_i1": {
      "status": "REGRESSION",
      "best_speedup": 0.87,
      "best_transform": "multi_dimension_prefetch",
      "best_family": "E",
      "best_patch_id": "t1",
      "winning_iteration": 0,
      "original_ms": 7.4,
      "optimized_ms": 8.5,
      "n_iterations": 1,
      "total_patches_tried": 4,
      "patches_passed_semantic": 1,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "E",
          "transform": "multi_dimension_prefetch",
          "status": "REGRESSION",
          "speedup": 0.87,
          "original_ms": 7.4,
          "patch_ms": 8.5,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "A",
          "transform": "predicate_pushback",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column \"i_item_id\" does not exist\nLINE 1: ...= 'M' AND cd_education_status = 'Primary') SELECT i_item_id,...\n                                                             ^\nHINT:  Perhaps you meant to reference the column \"prefiltered_item.i_item_sk\".\n",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "F",
          "transform": "explicit_join_restructure",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.75
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.3
        }
      ]
    },
    "query027_agg_i2": {
      "status": "IMPROVED",
      "best_speedup": 1.03,
      "best_transform": "prefilter_dimensions_materialize_corrected",
      "best_family": "A+E",
      "best_patch_id": "t1",
      "winning_iteration": 2,
      "original_ms": 94.8,
      "optimized_ms": 92.1,
      "n_iterations": 2,
      "total_patches_tried": 7,
      "patches_passed_semantic": 2,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "C",
          "transform": "aggregation_pushdown",
          "status": "REGRESSION",
          "speedup": 0.26,
          "original_ms": 82.4,
          "patch_ms": 316.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "A",
          "transform": "dimension_filter_ctes",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column \"i_item_id\" does not exist\nLINE 1: ...m_sk FROM item WHERE i_category = 'Music') SELECT i_item_id,...\n                                                             ^\nHINT:  Perhaps you meant to reference the column \"filtered_item.i_item_sk\".\n",
          "has_explain": false,
          "relevance_score": 0.8
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "F",
          "transform": "explicit_join_restructure",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "A+E",
          "transform": "prefilter_dimensions_materialize_corrected",
          "status": "NEUTRAL",
          "speedup": 1.03,
          "original_ms": 94.8,
          "patch_ms": 92.1,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "t3",
          "family": "A+C",
          "transform": "prefilter_then_aggregate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column \"s_state\" does not exist\nLINE 1: ...education_status = 'Secondary') SELECT i_item_id, s_state, G...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.8
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "C",
          "transform": "aggregate_before_joins",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.85
        }
      ]
    },
    "query030_multi_i1": {
      "status": "WIN",
      "best_speedup": 1.77,
      "best_transform": "predicate_pushback",
      "best_family": "A",
      "best_patch_id": "t2",
      "winning_iteration": 0,
      "original_ms": 81.9,
      "optimized_ms": 46.4,
      "n_iterations": 2,
      "total_patches_tried": 7,
      "patches_passed_semantic": 5,
      "patches_won": 1,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "B",
          "transform": "shared_scan_decorrelate",
          "status": "NEUTRAL",
          "speedup": 0.99,
          "original_ms": 81.9,
          "patch_ms": 82.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "A",
          "transform": "predicate_pushback",
          "status": "WIN",
          "speedup": 1.77,
          "original_ms": 81.9,
          "patch_ms": 46.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "NEUTRAL",
          "speedup": 0.98,
          "original_ms": 81.9,
          "patch_ms": 83.7,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        },
        {
          "iteration": 0,
          "patch_id": "syn_w3",
          "family": "E",
          "transform": "materialize_cte",
          "status": "NEUTRAL",
          "speedup": 0.97,
          "original_ms": 81.9,
          "patch_ms": 84.6,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        },
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "A+B",
          "transform": "push_reason_then_decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: COLUMN REF MISMATCH: Original columns missing from rewrite \u2014 ['ctr_reason_sk']. The rewrite references different table columns.",
          "has_explain": false,
          "relevance_score": 0.97
        },
        {
          "iteration": 1,
          "patch_id": "t2",
          "family": "A",
          "transform": "push_state_into_cte",
          "status": "NEUTRAL",
          "speedup": 1.0,
          "original_ms": 80.1,
          "patch_ms": 80.1,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 1,
          "patch_id": "t3",
          "family": "E",
          "transform": "materialize_tiny_cte",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column \"c_current_addr_sk\" does not exist\nLINE 1: ... AS ctr1 JOIN customer_address ON ca_address_sk = c_current_...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.75
        }
      ]
    },
    "query030_multi_i2": {
      "status": "IMPROVED",
      "best_speedup": 1.03,
      "best_transform": "decorrelate_state_thresholds",
      "best_family": "B",
      "best_patch_id": "t2",
      "winning_iteration": 2,
      "original_ms": 115.6,
      "optimized_ms": 112.6,
      "n_iterations": 1,
      "total_patches_tried": 2,
      "patches_passed_semantic": 1,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "B",
          "transform": "decorrelate_state_thresholds",
          "status": "NEUTRAL",
          "speedup": 1.03,
          "original_ms": 115.6,
          "patch_ms": 112.6,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.98
        },
        {
          "iteration": 2,
          "patch_id": "t3",
          "family": "A+B",
          "transform": "push_reason_filter_then_decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: COLUMN REF MISMATCH: Original columns missing from rewrite \u2014 ['ctr_reason_sk']. The rewrite references different table columns.",
          "has_explain": false,
          "relevance_score": 0.9
        }
      ]
    },
    "query031_multi_i1": {
      "status": "NEUTRAL",
      "best_speedup": 1.0,
      "best_transform": "early_aggregate_web_sales",
      "best_family": "C",
      "best_patch_id": "t4",
      "winning_iteration": 1,
      "original_ms": 66.9,
      "optimized_ms": 67.0,
      "n_iterations": 3,
      "total_patches_tried": 8,
      "patches_passed_semantic": 5,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "F",
          "transform": "eliminate_self_join_via_pivot",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.98
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "A",
          "transform": "push_quarter_year_filters",
          "status": "REGRESSION",
          "speedup": 0.18,
          "original_ms": 88.3,
          "patch_ms": 497.3,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "E",
          "transform": "prefilter_dimensions",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.75
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: missing FROM-clause entry for table \"ss1\"\nLINE 1: ...y IN (1, 2, 3) GROUP BY ca_county, d_year) SELECT ss1.ca_cou...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "B+A",
          "transform": "pivot_quarters_with_early_filters",
          "status": "REGRESSION",
          "speedup": 0.12,
          "original_ms": 66.9,
          "patch_ms": 566.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "t4",
          "family": "C",
          "transform": "early_aggregate_web_sales",
          "status": "NEUTRAL",
          "speedup": 1.0,
          "original_ms": 66.9,
          "patch_ms": 67.0,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.75
        },
        {
          "iteration": 1,
          "patch_id": "t2",
          "family": "E+B+F+A",
          "transform": "prefilter_dimensions_then_pivot+explicit_joins_with_filter_pushdown",
          "status": "NEUTRAL",
          "speedup": 1.0,
          "original_ms": 66.9,
          "patch_ms": 66.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "A+E",
          "transform": "push_date_filters_and_prefilter_dimensions",
          "status": "REGRESSION",
          "speedup": 0.26,
          "original_ms": 76.8,
          "patch_ms": 299.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.98
        }
      ]
    },
    "query031_multi_i2": {
      "status": "WIN",
      "best_speedup": 2.43,
      "best_transform": "early_filtering",
      "best_family": "A",
      "best_patch_id": "t1",
      "winning_iteration": 0,
      "original_ms": 848.0,
      "optimized_ms": 349.6,
      "n_iterations": 1,
      "total_patches_tried": 4,
      "patches_passed_semantic": 2,
      "patches_won": 2,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "A",
          "transform": "early_filtering",
          "status": "WIN",
          "speedup": 2.43,
          "original_ms": 848.0,
          "patch_ms": 349.6,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "E+F",
          "transform": "dimension_prefetch+self_join_elimination",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['1999.0', '2.0', '3.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "syn_w1",
          "family": "A",
          "transform": "early_filter",
          "status": "WIN",
          "speedup": 2.41,
          "original_ms": 848.0,
          "patch_ms": 352.5,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s1 failed: No target found for replace_body step s1",
          "has_explain": false,
          "relevance_score": 0.3
        }
      ]
    },
    "query032_multi_i1": {
      "status": "NO_WINNER",
      "best_speedup": 0,
      "best_transform": "",
      "best_family": "",
      "best_patch_id": "",
      "winning_iteration": -1,
      "original_ms": null,
      "optimized_ms": null,
      "n_iterations": 0,
      "total_patches_tried": 0,
      "patches_passed_semantic": 0,
      "patches_won": 0,
      "all_patches": []
    },
    "query032_multi_i2": {
      "status": "NO_WINNER",
      "best_speedup": 0,
      "best_transform": "",
      "best_family": "",
      "best_patch_id": "",
      "winning_iteration": -1,
      "original_ms": null,
      "optimized_ms": null,
      "n_iterations": 0,
      "total_patches_tried": 0,
      "patches_passed_semantic": 0,
      "patches_won": 0,
      "all_patches": []
    },
    "query038_multi_i1": {
      "status": "REGRESSION",
      "best_speedup": 0.94,
      "best_transform": "intersect_to_exists_with_prefetch",
      "best_family": "D+E",
      "best_patch_id": "t1",
      "winning_iteration": 1,
      "original_ms": 837.0,
      "optimized_ms": 888.8,
      "n_iterations": 2,
      "total_patches_tried": 6,
      "patches_passed_semantic": 4,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "D+E",
          "transform": "intersect_to_exists_with_prefetch",
          "status": "REGRESSION",
          "speedup": 0.94,
          "original_ms": 837.0,
          "patch_ms": 888.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.97
        },
        {
          "iteration": 1,
          "patch_id": "t2",
          "family": "D+C",
          "transform": "intersect_to_exists_with_agg_pushdown",
          "status": "REGRESSION",
          "speedup": 0.86,
          "original_ms": 837.0,
          "patch_ms": 967.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 1,
          "patch_id": "t3",
          "family": "E",
          "transform": "safe_multi_dimension_prefetch",
          "status": "REGRESSION",
          "speedup": 0.49,
          "original_ms": 837.0,
          "patch_ms": 1692.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.75
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "E+A",
          "transform": "prefetch_with_early_sales_filter",
          "status": "REGRESSION",
          "speedup": 0.59,
          "original_ms": 880.8,
          "patch_ms": 1503.1,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.97
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "A+D",
          "transform": "push_sales_filters_into_scan+intersect_to_exists_optimized",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: missing FROM-clause entry for table \"d\"\nLINE 1: ...S (SELECT DISTINCT c.c_last_name, c.c_first_name, d.d_date F...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.93
        },
        {
          "iteration": 2,
          "patch_id": "t4",
          "family": "F",
          "transform": "convert_to_explicit_join_order",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.85
        }
      ]
    },
    "query038_multi_i2": {
      "status": "IMPROVED",
      "best_speedup": 1.04,
      "best_transform": "predicate_pushback",
      "best_family": "A",
      "best_patch_id": "t3",
      "winning_iteration": 0,
      "original_ms": 1625.4,
      "optimized_ms": 1562.7,
      "n_iterations": 2,
      "total_patches_tried": 7,
      "patches_passed_semantic": 2,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "D",
          "transform": "intersect_to_exists",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence (after retry): checksum 23741c356c789badef33447f1f27f2b6 vs 2a9ccd09d8f9afdc982ef7c840c1fcc0",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "A",
          "transform": "predicate_pushback",
          "status": "NEUTRAL",
          "speedup": 1.04,
          "original_ms": 1625.4,
          "patch_ms": 1562.7,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.8
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "E+F",
          "transform": "multi_dimension_prefetch+explicit_join_order",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['11.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['11.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "B+E",
          "transform": "decorrelate_intersect_prefetch",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence (retry failed): Checksum mismatch: original=2a9ccd09d8f9afdc982ef7c840c1fcc0, patch=d8c0bbe35f3055ed02c1bafcc61e044c",
          "has_explain": false,
          "relevance_score": 0.97
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "D",
          "transform": "intersect_to_exists_refined",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence (retry failed): Checksum mismatch: original=2a9ccd09d8f9afdc982ef7c840c1fcc0, patch=23741c356c789badef33447f1f27f2b6",
          "has_explain": false,
          "relevance_score": 0.93
        },
        {
          "iteration": 2,
          "patch_id": "t3",
          "family": "C",
          "transform": "early_aggregation",
          "status": "REGRESSION",
          "speedup": 0.91,
          "original_ms": 1987.8,
          "patch_ms": 2189.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        }
      ]
    },
    "query039_multi_i1": {
      "status": "WIN",
      "best_speedup": 1.82,
      "best_transform": "decorrelate",
      "best_family": "B",
      "best_patch_id": "syn_w2",
      "winning_iteration": 0,
      "original_ms": 4028.8,
      "optimized_ms": 2215.6,
      "n_iterations": 1,
      "total_patches_tried": 4,
      "patches_passed_semantic": 1,
      "patches_won": 1,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "A",
          "transform": "early_filtering",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s1 failed: No target found for replace_body step s1",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "F+E",
          "transform": "self_join_elimination+cte_materialization",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: COLUMN REF MISMATCH: Original columns missing from rewrite \u2014 ['cov']. The rewrite references different table columns.",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "syn_w1",
          "family": "A",
          "transform": "early_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: missing FROM-clause entry for table \"inv1\"\nLINE 1: ...n WHEN 0 THEN 0 ELSE stdev / mean END > 1) SELECT inv1.w_war...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "WIN",
          "speedup": 1.82,
          "original_ms": 4028.8,
          "patch_ms": 2215.6,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        }
      ]
    },
    "query039_multi_i2": {
      "status": "IMPROVED",
      "best_speedup": 1.02,
      "best_transform": "prefilter_aggregate_materialize",
      "best_family": "A+E",
      "best_patch_id": "t2_refined",
      "winning_iteration": 2,
      "original_ms": 4504.3,
      "optimized_ms": 4407.9,
      "n_iterations": 1,
      "total_patches_tried": 2,
      "patches_passed_semantic": 1,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 2,
          "patch_id": "t1_refined",
          "family": "A+F",
          "transform": "early_month_filter_with_window_refined",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: Column mismatch: 0 missing, 5 extra",
          "has_explain": false,
          "relevance_score": 0.98
        },
        {
          "iteration": 2,
          "patch_id": "t2_refined",
          "family": "A+E",
          "transform": "prefilter_aggregate_materialize",
          "status": "NEUTRAL",
          "speedup": 1.02,
          "original_ms": 4504.3,
          "patch_ms": 4407.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.92
        }
      ]
    },
    "query040_agg_i1": {
      "status": "WIN",
      "best_speedup": 1.06,
      "best_transform": "explicit_inner_join_with_early_filters",
      "best_family": "F",
      "best_patch_id": "t1",
      "winning_iteration": 0,
      "original_ms": 149.1,
      "optimized_ms": 141.0,
      "n_iterations": 2,
      "total_patches_tried": 7,
      "patches_passed_semantic": 4,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "F",
          "transform": "explicit_inner_join_with_early_filters",
          "status": "IMPROVED",
          "speedup": 1.06,
          "original_ms": 149.1,
          "patch_ms": 141.0,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "A",
          "transform": "early_filtering_with_ctes",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column \"cs_item_sk\" does not exist\nLINE 1: ..., w_state FROM item JOIN warehouse ON i_item_sk = cs_item_sk...\n                                                             ^\nHINT:  Perhaps you meant to reference the column \"item.i_item_sk\".\n",
          "has_explain": false,
          "relevance_score": 0.9
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 0,
          "patch_id": "syn_w3",
          "family": "E",
          "transform": "materialize_cte",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 2,
          "patch_id": "S0",
          "family": "A+E",
          "transform": "materialize_dims_fixed_condition+early_wholesale_cost_filter",
          "status": "NEUTRAL",
          "speedup": 1.03,
          "original_ms": 153.6,
          "patch_ms": 148.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.75
        },
        {
          "iteration": 2,
          "patch_id": "S0",
          "family": "A+E",
          "transform": "materialize_dims_fixed_condition+early_wholesale_cost_filter",
          "status": "NEUTRAL",
          "speedup": 1.03,
          "original_ms": 153.6,
          "patch_ms": 148.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.75
        },
        {
          "iteration": 2,
          "patch_id": "S0",
          "family": "A+E",
          "transform": "materialize_dims_fixed_condition+early_wholesale_cost_filter",
          "status": "NEUTRAL",
          "speedup": 1.03,
          "original_ms": 153.6,
          "patch_ms": 148.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.75
        }
      ]
    },
    "query040_agg_i2": {
      "status": "NEUTRAL",
      "best_speedup": 0.96,
      "best_transform": "materialize_filtered_dims",
      "best_family": "A+E",
      "best_patch_id": "S0",
      "winning_iteration": 2,
      "original_ms": 106.5,
      "optimized_ms": 111.1,
      "n_iterations": 1,
      "total_patches_tried": 4,
      "patches_passed_semantic": 4,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 2,
          "patch_id": "S0",
          "family": "A+E",
          "transform": "materialize_filtered_dims",
          "status": "NEUTRAL",
          "speedup": 0.96,
          "original_ms": 106.5,
          "patch_ms": 111.1,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.55
        },
        {
          "iteration": 2,
          "patch_id": "S0",
          "family": "A+E",
          "transform": "materialize_filtered_dims",
          "status": "NEUTRAL",
          "speedup": 0.96,
          "original_ms": 106.5,
          "patch_ms": 111.1,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.55
        },
        {
          "iteration": 2,
          "patch_id": "S0",
          "family": "A+E",
          "transform": "materialize_filtered_dims",
          "status": "NEUTRAL",
          "speedup": 0.96,
          "original_ms": 106.5,
          "patch_ms": 111.1,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.55
        },
        {
          "iteration": 2,
          "patch_id": "S0",
          "family": "A+E",
          "transform": "materialize_filtered_dims",
          "status": "NEUTRAL",
          "speedup": 0.96,
          "original_ms": 106.5,
          "patch_ms": 111.1,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.55
        }
      ]
    },
    "query050_agg_i1": {
      "status": "REGRESSION",
      "best_speedup": 0.74,
      "best_transform": "explicit_join_materialized",
      "best_family": "F",
      "best_patch_id": "t1",
      "winning_iteration": 0,
      "original_ms": 485.7,
      "optimized_ms": 657.3,
      "n_iterations": 1,
      "total_patches_tried": 4,
      "patches_passed_semantic": 1,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "F",
          "transform": "explicit_join_materialized",
          "status": "REGRESSION",
          "speedup": 0.74,
          "original_ms": 485.7,
          "patch_ms": 657.3,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "syn_w1",
          "family": "A",
          "transform": "early_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column \"sr_returned_date_sk\" does not exist\nLINE 1: ... s_city, s_county, s_state, s_zip, SUM(CASE WHEN (sr_returne...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 0,
          "patch_id": "syn_w3",
          "family": "E",
          "transform": "materialize_cte",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.3
        }
      ]
    },
    "query050_agg_i2": {
      "status": "WIN",
      "best_speedup": 1.14,
      "best_transform": "early_filtering",
      "best_family": "A",
      "best_patch_id": "t2",
      "winning_iteration": 0,
      "original_ms": 518.3,
      "optimized_ms": 454.1,
      "n_iterations": 1,
      "total_patches_tried": 4,
      "patches_passed_semantic": 1,
      "patches_won": 1,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "C",
          "transform": "aggregation_pushdown",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "A",
          "transform": "early_filtering",
          "status": "WIN",
          "speedup": 1.14,
          "original_ms": 518.3,
          "patch_ms": 454.1,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "F",
          "transform": "join_transform",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column reference \"d_date_sk\" is ambiguous\nLINE 1: ...9 AND d_moy = 7), filtered_date_dim_d1 AS (SELECT d_date_sk,...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.75
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.3
        }
      ]
    },
    "query054_multi_i1": {
      "status": "WIN",
      "best_speedup": 1.18,
      "best_transform": "date_dim_prefetch",
      "best_family": "E",
      "best_patch_id": "t1",
      "winning_iteration": 0,
      "original_ms": 58.8,
      "optimized_ms": 49.7,
      "n_iterations": 1,
      "total_patches_tried": 4,
      "patches_passed_semantic": 1,
      "patches_won": 1,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "E",
          "transform": "date_dim_prefetch",
          "status": "WIN",
          "speedup": 1.18,
          "original_ms": 58.8,
          "patch_ms": 49.7,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "A",
          "transform": "push_into_union_branches",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s3 failed: No target found for replace_from step s3",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t4",
          "family": "C",
          "transform": "preaggregate_sales",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column \"segment\" does not exist\nLINE 1: ...OUP BY customer_sk, item_sk, sold_date_sk) SELECT segment, C...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.65
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "F",
          "transform": "explicit_join_chain",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s1 failed: Cannot parse body sql_fragment: Required keyword: 'expressions' missing for <class 'sqlglot.expressions.Aliases'>. Line 1, Col: 23.\n  my_customers AS (\u001b[4mSELECT\u001b[0m DISTINCT c_customer_sk, c_current_addr_sk FROM (SELECT cs_sold_date_sk AS sold_date_sk, cs_bill_cus",
          "has_explain": false,
          "relevance_score": 0.75
        }
      ]
    },
    "query054_multi_i2": {
      "status": "WIN",
      "best_speedup": 1.18,
      "best_transform": "materialize_date_dim_subqueries+restructure_my_customers_joins",
      "best_family": "E+F",
      "best_patch_id": "S0 by_node_id CTE_Q_S0_my_revenue",
      "winning_iteration": 2,
      "original_ms": 64.2,
      "optimized_ms": 54.6,
      "n_iterations": 2,
      "total_patches_tried": 7,
      "patches_passed_semantic": 3,
      "patches_won": 1,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "B",
          "transform": "subquery_decorrelation",
          "status": "IMPROVED",
          "speedup": 1.07,
          "original_ms": 60.5,
          "patch_ms": 56.5,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "A",
          "transform": "push_filters_into_union_branches",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s1 failed: No target found for replace_body step s1",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "F",
          "transform": "explicit_join_restructure",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s1 failed: Cannot parse body sql_fragment: Required keyword: 'expressions' missing for <class 'sqlglot.expressions.Aliases'>. Line 1, Col: 23.\n  my_customers AS (\u001b[4mSELECT\u001b[0m DISTINCT c_customer_sk, c_current_addr_sk FROM (SELECT cs_sold_date_sk AS sold_date_sk, cs_bill_cus",
          "has_explain": false,
          "relevance_score": 0.75
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "NEUTRAL",
          "speedup": 1.03,
          "original_ms": 60.5,
          "patch_ms": 58.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        },
        {
          "iteration": 2,
          "patch_id": "S0 by_anchor_hash b05f804bc25a41cf",
          "family": "A",
          "transform": "push_wholesale_filter_into_union_branches",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s3 failed: No target found for replace_from step s3",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "S0 + my_revenue",
          "family": "A+E",
          "transform": "combined_early_filter_and_materialize",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: COLUMN REF MISMATCH: Original columns missing from rewrite \u2014 ['sold_date_sk', 'wholesale_cost']. The rewrite references different table columns.",
          "has_explain": false,
          "relevance_score": 0.88
        },
        {
          "iteration": 2,
          "patch_id": "S0 by_node_id CTE_Q_S0_my_revenue",
          "family": "E+F",
          "transform": "materialize_date_dim_subqueries+restructure_my_customers_joins",
          "status": "WIN",
          "speedup": 1.18,
          "original_ms": 64.2,
          "patch_ms": 54.6,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        }
      ]
    },
    "query058_multi_i1": {
      "status": "WIN",
      "best_speedup": 1.26,
      "best_transform": "date_prefetch",
      "best_family": "E",
      "best_patch_id": "t1",
      "winning_iteration": 0,
      "original_ms": 143.9,
      "optimized_ms": 113.9,
      "n_iterations": 2,
      "total_patches_tried": 7,
      "patches_passed_semantic": 3,
      "patches_won": 2,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "E",
          "transform": "date_prefetch",
          "status": "WIN",
          "speedup": 1.26,
          "original_ms": 143.9,
          "patch_ms": 113.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "A",
          "transform": "predicate_push_into_cte",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s2 failed: No target found for replace_body step s2",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "B",
          "transform": "decorrelate_date_subquery",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s2 failed: No target found for replace_from step s2",
          "has_explain": false,
          "relevance_score": 0.75
        },
        {
          "iteration": 0,
          "patch_id": "t4",
          "family": "F",
          "transform": "explicit_join_syntax",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s2 failed: Cannot parse body sql_fragment: Required keyword: 'expressions' missing for <class 'sqlglot.expressions.Aliases'>. Line 1, Col: 19.\n  ss_items AS (\u001b[4mSELECT\u001b[0m i_item_id item_id, c_birth_year birth_year, sum(ss_ext_sales_price) ss_item_rev FROM store_sales IN",
          "has_explain": false,
          "relevance_score": 0.65
        },
        {
          "iteration": 2,
          "patch_id": "t6",
          "family": "E+A",
          "transform": "prefetch_dimensions_and_early_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['0.9', '1.1', '3.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "t8",
          "family": "B",
          "transform": "decorrelate_date_as_join",
          "status": "WIN",
          "speedup": 1.2,
          "original_ms": 138.7,
          "patch_ms": 115.7,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.8
        },
        {
          "iteration": 2,
          "patch_id": "t7",
          "family": "E+C+F",
          "transform": "prefetch_then_aggregate_fact+explicit_join_main_query",
          "status": "REGRESSION",
          "speedup": 0.89,
          "original_ms": 138.7,
          "patch_ms": 155.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        }
      ]
    },
    "query058_multi_i2": {
      "status": "WIN",
      "best_speedup": 1.11,
      "best_transform": "push_sales_filters_into_ctes",
      "best_family": "A",
      "best_patch_id": "t2",
      "winning_iteration": 2,
      "original_ms": 533.8,
      "optimized_ms": 479.4,
      "n_iterations": 2,
      "total_patches_tried": 3,
      "patches_passed_semantic": 2,
      "patches_won": 1,
      "all_patches": [
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "B+E",
          "transform": "decorrelate_date_subquery",
          "status": "REGRESSION",
          "speedup": 0.03,
          "original_ms": 359.9,
          "patch_ms": 11857.1,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "E+F",
          "transform": "prefetch_date_range_explicit_join",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s2 failed: Cannot parse body sql_fragment: Required keyword: 'expressions' missing for <class 'sqlglot.expressions.Aliases'>. Line 1, Col: 19.\n  ss_items AS (\u001b[4mSELECT\u001b[0m i_item_id item_id, c_birth_year birth_year, sum(ss_ext_sales_price) ss_item_rev FROM store_sales IN",
          "has_explain": false,
          "relevance_score": 0.97
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "A",
          "transform": "push_sales_filters_into_ctes",
          "status": "WIN",
          "speedup": 1.11,
          "original_ms": 533.8,
          "patch_ms": 479.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.65
        }
      ]
    },
    "query059_multi_i1": {
      "status": "WIN",
      "best_speedup": 2.12,
      "best_transform": "early_filtering",
      "best_family": "A",
      "best_patch_id": "t1",
      "winning_iteration": 0,
      "original_ms": 5113.1,
      "optimized_ms": 2414.4,
      "n_iterations": 2,
      "total_patches_tried": 7,
      "patches_passed_semantic": 4,
      "patches_won": 3,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "A",
          "transform": "early_filtering",
          "status": "WIN",
          "speedup": 2.12,
          "original_ms": 5113.1,
          "patch_ms": 2414.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.98
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "E",
          "transform": "multi_dimension_prefetch",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['100.0', '11.0', '52.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.9
        },
        {
          "iteration": 0,
          "patch_id": "syn_w1",
          "family": "A",
          "transform": "early_filter",
          "status": "WIN",
          "speedup": 2.1,
          "original_ms": 5113.1,
          "patch_ms": 2430.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "WIN",
          "speedup": 2.1,
          "original_ms": 5113.1,
          "patch_ms": 2432.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "A+E",
          "transform": "early_filter_then_multi_prefetch",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "t3",
          "family": "C",
          "transform": "push_agg_into_cte_preserve_literals",
          "status": "REGRESSION",
          "speedup": 0.89,
          "original_ms": 6261.0,
          "patch_ms": 7051.6,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.75
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "F+E",
          "transform": "explicit_join_order+prefetch_then_join_transform",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column \"s_store_name2\" does not exist\nLINE 1: ...OM period_agg WHERE period = 1) AS y JOIN (SELECT s_store_na...\n                                                             ^\nHINT:  Perhaps you meant to reference the column \"period_agg.s_store_name1\" or the column \"y.s_store_name1\".\n",
          "has_explain": false,
          "relevance_score": 0.85
        }
      ]
    },
    "query059_multi_i2": {
      "status": "NO_WINNER",
      "best_speedup": 0,
      "best_transform": "",
      "best_family": "",
      "best_patch_id": "",
      "winning_iteration": -1,
      "original_ms": null,
      "optimized_ms": null,
      "n_iterations": 0,
      "total_patches_tried": 0,
      "patches_passed_semantic": 0,
      "patches_won": 0,
      "all_patches": []
    },
    "query064_multi_i1": {
      "status": "NO_WINNER",
      "best_speedup": 0,
      "best_transform": "",
      "best_family": "",
      "best_patch_id": "",
      "winning_iteration": -1,
      "original_ms": null,
      "optimized_ms": null,
      "n_iterations": 0,
      "total_patches_tried": 0,
      "patches_passed_semantic": 0,
      "patches_won": 0,
      "all_patches": []
    },
    "query064_multi_i2": {
      "status": "NO_WINNER",
      "best_speedup": 0,
      "best_transform": "",
      "best_family": "",
      "best_patch_id": "",
      "winning_iteration": -1,
      "original_ms": null,
      "optimized_ms": null,
      "n_iterations": 0,
      "total_patches_tried": 0,
      "patches_passed_semantic": 0,
      "patches_won": 0,
      "all_patches": []
    },
    "query065_multi_i1": {
      "status": "WIN",
      "best_speedup": 152.12,
      "best_transform": "pushdown_fix_projection",
      "best_family": "A",
      "best_patch_id": "t3",
      "winning_iteration": 1,
      "original_ms": 1629.9,
      "optimized_ms": 10.7,
      "n_iterations": 1,
      "total_patches_tried": 3,
      "patches_passed_semantic": 2,
      "patches_won": 2,
      "all_patches": [
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "E",
          "transform": "base_sales_rescue",
          "status": "WIN",
          "speedup": 1.58,
          "original_ms": 1629.9,
          "patch_ms": 1030.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.98
        },
        {
          "iteration": 1,
          "patch_id": "t3",
          "family": "A",
          "transform": "pushdown_fix_projection",
          "status": "WIN",
          "speedup": 152.12,
          "original_ms": 1629.9,
          "patch_ms": 10.7,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.8
        },
        {
          "iteration": 1,
          "patch_id": "t2",
          "family": "E+A+F",
          "transform": "base_sales_plus_early_filter+explicit_join_with_materialization",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: missing FROM-clause entry for table \"sc\"\nLINE 1: ...ost, i_brand FROM store JOIN item ON s_store_sk = sc.ss_stor...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.9
        }
      ]
    },
    "query065_multi_i2": {
      "status": "NO_WINNER",
      "best_speedup": 0,
      "best_transform": "",
      "best_family": "",
      "best_patch_id": "",
      "winning_iteration": -1,
      "original_ms": null,
      "optimized_ms": null,
      "n_iterations": 0,
      "total_patches_tried": 0,
      "patches_passed_semantic": 0,
      "patches_won": 0,
      "all_patches": []
    },
    "query069_multi_i1": {
      "status": "WIN",
      "best_speedup": 1.08,
      "best_transform": "demographics_filter_push",
      "best_family": "A",
      "best_patch_id": "t4",
      "winning_iteration": 0,
      "original_ms": 14517.7,
      "optimized_ms": 13456.3,
      "n_iterations": 1,
      "total_patches_tried": 4,
      "patches_passed_semantic": 1,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "B",
          "transform": "shared_scan_decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['2.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t4",
          "family": "A",
          "transform": "demographics_filter_push",
          "status": "IMPROVED",
          "speedup": 1.08,
          "original_ms": 14517.7,
          "patch_ms": 13456.3,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.7
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "E+F",
          "transform": "date_dim_prefetch+explicit_join_restructure",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['2.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['2.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.3
        }
      ]
    },
    "query069_multi_i2": {
      "status": "REGRESSION",
      "best_speedup": 0.75,
      "best_transform": "date_materialization_rescue+explicit_join_optimize",
      "best_family": "E+F",
      "best_patch_id": "t3",
      "winning_iteration": 1,
      "original_ms": 339.7,
      "optimized_ms": 455.0,
      "n_iterations": 1,
      "total_patches_tried": 3,
      "patches_passed_semantic": 2,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "E+B",
          "transform": "date_materialization_then_decorrelate",
          "status": "REGRESSION",
          "speedup": 0.67,
          "original_ms": 339.7,
          "patch_ms": 505.3,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "t2",
          "family": "A",
          "transform": "dimension_prefilter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['2.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.9
        },
        {
          "iteration": 1,
          "patch_id": "t3",
          "family": "E+F",
          "transform": "date_materialization_rescue+explicit_join_optimize",
          "status": "REGRESSION",
          "speedup": 0.75,
          "original_ms": 339.7,
          "patch_ms": 455.0,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        }
      ]
    },
    "query072_agg_i1": {
      "status": "WIN",
      "best_speedup": 7.77,
      "best_transform": "multi_dimension_prefetch",
      "best_family": "E",
      "best_patch_id": "t1",
      "winning_iteration": 0,
      "original_ms": 449.9,
      "optimized_ms": 57.9,
      "n_iterations": 2,
      "total_patches_tried": 8,
      "patches_passed_semantic": 5,
      "patches_won": 3,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "E",
          "transform": "multi_dimension_prefetch",
          "status": "WIN",
          "speedup": 7.77,
          "original_ms": 449.9,
          "patch_ms": 57.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "A",
          "transform": "dimension_filter_pushdown",
          "status": "NEUTRAL",
          "speedup": 1.0,
          "original_ms": 449.9,
          "patch_ms": 450.3,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "F",
          "transform": "date_self_join_elimination",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: missing FROM-clause entry for table \"d1\"\nLINE 1: ...ear = 1998) SELECT i_item_desc, w_warehouse_name, d1.d_week_...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.75
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 1,
          "patch_id": "t1_plus_A",
          "family": "A+E",
          "transform": "prefetch_dates_and_filter_demographics",
          "status": "WIN",
          "speedup": 7.76,
          "original_ms": 460.6,
          "patch_ms": 59.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "t1_cd_filter",
          "family": "A",
          "transform": "customer_demographics_pushdown",
          "status": "NEUTRAL",
          "speedup": 0.97,
          "original_ms": 460.6,
          "patch_ms": 476.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        },
        {
          "iteration": 1,
          "patch_id": "t1_agg_pushdown",
          "family": "C",
          "transform": "aggregate_before_joins",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column cs.cs_bill_cdemo_sk does not exist\nLINE 1: ...item_sk = cs.cs_item_sk JOIN filtered_cd AS cd ON cs.cs_bill...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.75
        },
        {
          "iteration": 1,
          "patch_id": "t1_fixed_t3",
          "family": "F",
          "transform": "date_self_join_elimination_fixed",
          "status": "WIN",
          "speedup": 7.75,
          "original_ms": 460.6,
          "patch_ms": 59.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.8
        }
      ]
    },
    "query072_agg_i2": {
      "status": "WIN",
      "best_speedup": 3.63,
      "best_transform": "date_prefetch+join_restructure",
      "best_family": "E+F",
      "best_patch_id": "t2",
      "winning_iteration": 0,
      "original_ms": 567.5,
      "optimized_ms": 156.4,
      "n_iterations": 2,
      "total_patches_tried": 7,
      "patches_passed_semantic": 4,
      "patches_won": 2,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "A",
          "transform": "predicate_pushback",
          "status": "NEUTRAL",
          "speedup": 0.97,
          "original_ms": 567.5,
          "patch_ms": 583.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "C",
          "transform": "fact_agg_pushdown",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: COLUMN REF MISMATCH: Original columns missing from rewrite \u2014 ['inv_date_sk']. The rewrite references different table columns.",
          "has_explain": false,
          "relevance_score": 0.8
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "E+F",
          "transform": "date_prefetch+join_restructure",
          "status": "WIN",
          "speedup": 3.63,
          "original_ms": 567.5,
          "patch_ms": 156.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        },
        {
          "iteration": 0,
          "patch_id": "syn_w1",
          "family": "A",
          "transform": "early_filter",
          "status": "WIN",
          "speedup": 1.2,
          "original_ms": 567.5,
          "patch_ms": 472.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "E+F+C",
          "transform": "prefetch_plus_agg_pushdown",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: COLUMN REF MISMATCH: Original columns missing from rewrite \u2014 ['inv_date_sk']. The rewrite references different table columns.",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "A",
          "transform": "push_week_filter",
          "status": "NEUTRAL",
          "speedup": 1.05,
          "original_ms": 567.3,
          "patch_ms": 541.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        },
        {
          "iteration": 2,
          "patch_id": "t3",
          "family": "E+F+A",
          "transform": "prefetch_dates_fixed+materialize_group_keys",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column d3.d_date does not exist\nLINE 1: ...q AND i.inv_quantity_on_hand < ps.cs_quantity AND d3.d_date ...\n                                                             ^\nHINT:  Perhaps you meant to reference the column \"d3.d_date_sk\".\n",
          "has_explain": false,
          "relevance_score": 0.85
        }
      ]
    },
    "query075_multi_i1": {
      "status": "WIN",
      "best_speedup": 1.45,
      "best_transform": "preagg_returns_early_filter",
      "best_family": "A+C",
      "best_patch_id": "t1",
      "winning_iteration": 1,
      "original_ms": 1060.3,
      "optimized_ms": 729.3,
      "n_iterations": 3,
      "total_patches_tried": 11,
      "patches_passed_semantic": 4,
      "patches_won": 2,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "A",
          "transform": "early_filtering",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s1 failed: No target found for replace_body step s1",
          "has_explain": false,
          "relevance_score": 1.0
        },
        {
          "iteration": 0,
          "patch_id": "t4",
          "family": "C",
          "transform": "channel_agg_pushdown",
          "status": "NEUTRAL",
          "speedup": 1.01,
          "original_ms": 1003.2,
          "patch_ms": 992.7,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.75
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "F+E",
          "transform": "self_join_to_conditional_agg+item_prefetch",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s2 failed: Cannot parse body sql_fragment: Failed to parse any statement following CTE. Line 1, Col: 1751.\n  l WHERE d_year IN (1998, 1999) GROUP BY d_year, i_brand_id, i_class_id, i_category_id, i_manufact_id\u001b[4m)\u001b[0m",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "syn_w1",
          "family": "A",
          "transform": "early_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s1 failed: No target found for replace_body step s1",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "A+C",
          "transform": "preagg_returns_early_filter",
          "status": "WIN",
          "speedup": 1.45,
          "original_ms": 1060.3,
          "patch_ms": 729.3,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.98
        },
        {
          "iteration": 1,
          "patch_id": "t2",
          "family": "A",
          "transform": "push_reason_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s4 failed: No target found for replace_body step s4",
          "has_explain": false,
          "relevance_score": 0.9
        },
        {
          "iteration": 1,
          "patch_id": "t3",
          "family": "F+E",
          "transform": "self_join_to_conditional+prefetch_home_items",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: relation \"conditional_sales\" does not exist\nLINE 1: ... curr_yr_amt - prev_yr_amt AS sales_amt_diff FROM conditiona...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "A+C+E",
          "transform": "preagg_returns_with_item_prefetch",
          "status": "WIN",
          "speedup": 1.12,
          "original_ms": 1189.5,
          "patch_ms": 1066.7,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "A",
          "transform": "push_sales_ratio_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s4 failed: No target found for replace_body step s4",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 2,
          "patch_id": "t4",
          "family": "C",
          "transform": "preagg_sales_before_returns",
          "status": "IMPROVED",
          "speedup": 1.08,
          "original_ms": 1189.5,
          "patch_ms": 1106.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.75
        },
        {
          "iteration": 2,
          "patch_id": "t3",
          "family": "F",
          "transform": "self_join_to_conditional_agg",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: relation \"aggregated_sales\" does not exist\nLINE 1: ... curr_yr_amt - prev_yr_amt AS sales_amt_diff FROM aggregated...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.8
        }
      ]
    },
    "query075_multi_i2": {
      "status": "WIN",
      "best_speedup": 1.62,
      "best_transform": "self_join_to_window",
      "best_family": "F",
      "best_patch_id": "t1",
      "winning_iteration": 1,
      "original_ms": 1444.0,
      "optimized_ms": 889.4,
      "n_iterations": 3,
      "total_patches_tried": 10,
      "patches_passed_semantic": 6,
      "patches_won": 5,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "F",
          "transform": "self_join_to_window",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s3 failed: Could not locate expression to replace",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "D+A",
          "transform": "union_to_union_all+push_returns_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s1 failed: No target found for replace_body step s1",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "E",
          "transform": "precompute_filtered_items",
          "status": "REGRESSION",
          "speedup": 0.8,
          "original_ms": 1546.6,
          "patch_ms": 1925.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.75
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s4 failed: Could not locate expression to replace",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "F",
          "transform": "self_join_to_window",
          "status": "WIN",
          "speedup": 1.62,
          "original_ms": 1444.0,
          "patch_ms": 889.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.97
        },
        {
          "iteration": 1,
          "patch_id": "t2",
          "family": "A+E",
          "transform": "push_returns_filter_and_precompute_items+push_ratio_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s4 failed: No target found for replace_body step s4",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "t3",
          "family": "F",
          "transform": "comma_to_inner_join",
          "status": "WIN",
          "speedup": 1.11,
          "original_ms": 1444.0,
          "patch_ms": 1298.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "A+E",
          "transform": "push_returns_filter_and_precompute_items",
          "status": "WIN",
          "speedup": 1.56,
          "original_ms": 2205.3,
          "patch_ms": 1415.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "A+E",
          "transform": "push_returns_filter_and_precompute_items",
          "status": "WIN",
          "speedup": 1.56,
          "original_ms": 2205.3,
          "patch_ms": 1415.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "A+E",
          "transform": "push_returns_filter_and_precompute_items",
          "status": "WIN",
          "speedup": 1.56,
          "original_ms": 2205.3,
          "patch_ms": 1415.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        }
      ]
    },
    "query080_multi_i1": {
      "status": "IMPROVED",
      "best_speedup": 1.02,
      "best_transform": "preagg_fact_early_filter",
      "best_family": "C+A",
      "best_patch_id": "t1",
      "winning_iteration": 2,
      "original_ms": 83.5,
      "optimized_ms": 81.9,
      "n_iterations": 1,
      "total_patches_tried": 3,
      "patches_passed_semantic": 2,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "C+A",
          "transform": "preagg_fact_early_filter",
          "status": "NEUTRAL",
          "speedup": 1.02,
          "original_ms": 83.5,
          "patch_ms": 81.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.98
        },
        {
          "iteration": 2,
          "patch_id": "t4",
          "family": "B",
          "transform": "decorrelate_item_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s5 failed: Could not locate expression to delete for label=None hash='4b0c667df090d0ee'",
          "has_explain": false,
          "relevance_score": 0.8
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "E+F",
          "transform": "dimension_prefetch+comma_to_explicit_join",
          "status": "REGRESSION",
          "speedup": 0.93,
          "original_ms": 83.5,
          "patch_ms": 89.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        }
      ]
    },
    "query080_multi_i2": {
      "status": "WIN",
      "best_speedup": 1.14,
      "best_transform": "returns_preagg_with_dim_prefetch",
      "best_family": "C+E",
      "best_patch_id": "t1",
      "winning_iteration": 1,
      "original_ms": 110.8,
      "optimized_ms": 96.9,
      "n_iterations": 2,
      "total_patches_tried": 6,
      "patches_passed_semantic": 3,
      "patches_won": 2,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "E",
          "transform": "multi_dimension_prefetch",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s4 failed: No target found for replace_from step s4",
          "has_explain": false,
          "relevance_score": 0.98
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "C",
          "transform": "returns_preaggregation",
          "status": "WIN",
          "speedup": 1.11,
          "original_ms": 134.9,
          "patch_ms": 122.0,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "F",
          "transform": "explicit_join_restructure",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s4 failed: Cannot parse body sql_fragment: Required keyword: 'expressions' missing for <class 'sqlglot.expressions.Aliases'>. Line 1, Col: 14.\n  ssr AS (\u001b[4mSELECT\u001b[0m s_store_id AS store_id, SUM(ss_ext_sales_price) AS sales, SUM(COALESCE(sr_return_amt, 0)) AS return",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "syn_w1",
          "family": "A",
          "transform": "early_filter",
          "status": "IMPROVED",
          "speedup": 1.06,
          "original_ms": 134.9,
          "patch_ms": 127.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        },
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "C+E",
          "transform": "returns_preagg_with_dim_prefetch",
          "status": "WIN",
          "speedup": 1.14,
          "original_ms": 110.8,
          "patch_ms": 96.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.97
        },
        {
          "iteration": 1,
          "patch_id": "t2",
          "family": "E+F",
          "transform": "dimension_prefetch_reuse+explicit_join_fixed",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 strings: ['catalog channel', 'catalog_page', 'store', 'store channel', 'web channel'], numbers: ['100.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.9
        }
      ]
    },
    "query081_multi_i1": {
      "status": "NO_WINNER",
      "best_speedup": 0,
      "best_transform": "",
      "best_family": "",
      "best_patch_id": "",
      "winning_iteration": -1,
      "original_ms": null,
      "optimized_ms": null,
      "n_iterations": 1,
      "total_patches_tried": 4,
      "patches_passed_semantic": 3,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "B",
          "transform": "shared_scan_decorrelate",
          "status": "PENDING",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "F",
          "transform": "explicit_join_restructure",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s1 failed: Cannot parse body sql_fragment: Required keyword: 'expressions' missing for <class 'sqlglot.expressions.Aliases'>. Line 1, Col: 32.\n  customer_total_return AS (\u001b[4mSELECT\u001b[0m cr_returning_customer_sk AS ctr_customer_sk, ca_state AS ctr_state, SUM(cr_return_amt_inc_tax) AS c",
          "has_explain": false,
          "relevance_score": 0.8
        },
        {
          "iteration": 0,
          "patch_id": "syn_w1",
          "family": "A",
          "transform": "early_filter",
          "status": "PENDING",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "PENDING",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.3
        }
      ]
    },
    "query081_multi_i2": {
      "status": "NO_WINNER",
      "best_speedup": 0,
      "best_transform": "",
      "best_family": "",
      "best_patch_id": "",
      "winning_iteration": -1,
      "original_ms": null,
      "optimized_ms": null,
      "n_iterations": 0,
      "total_patches_tried": 0,
      "patches_passed_semantic": 0,
      "patches_won": 0,
      "all_patches": []
    },
    "query083_multi_i1": {
      "status": "REGRESSION",
      "best_speedup": 0.86,
      "best_transform": "prefilter_date_rescue",
      "best_family": "E",
      "best_patch_id": "t1",
      "winning_iteration": 2,
      "original_ms": 372.5,
      "optimized_ms": 433.9,
      "n_iterations": 1,
      "total_patches_tried": 3,
      "patches_passed_semantic": 2,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "E",
          "transform": "prefilter_date_rescue",
          "status": "REGRESSION",
          "speedup": 0.86,
          "original_ms": 372.5,
          "patch_ms": 433.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "t3",
          "family": "B+E",
          "transform": "decorrelate_date_subquery",
          "status": "REGRESSION",
          "speedup": 0.74,
          "original_ms": 372.5,
          "patch_ms": 506.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.8
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "E+A+F",
          "transform": "prefilter_date_and_item+explicit_join_item_pushdown",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['100.0', '3.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.85
        }
      ]
    },
    "query083_multi_i2": {
      "status": "WIN",
      "best_speedup": 1.26,
      "best_transform": "dimension_prefilter",
      "best_family": "A",
      "best_patch_id": "t2",
      "winning_iteration": 0,
      "original_ms": 605.5,
      "optimized_ms": 479.8,
      "n_iterations": 2,
      "total_patches_tried": 5,
      "patches_passed_semantic": 3,
      "patches_won": 1,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "E",
          "transform": "multi_dimension_prefetch",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s2 failed: No target found for replace_body step s2",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "A",
          "transform": "dimension_prefilter",
          "status": "WIN",
          "speedup": 1.26,
          "original_ms": 605.5,
          "patch_ms": 479.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "F",
          "transform": "explicit_join",
          "status": "REGRESSION",
          "speedup": 0.77,
          "original_ms": 605.5,
          "patch_ms": 783.3,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.65
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Step s2 failed: No target found for replace_body step s2",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "A+E",
          "transform": "prefilter_items_and_date",
          "status": "REGRESSION",
          "speedup": 0.78,
          "original_ms": 283.8,
          "patch_ms": 361.6,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        }
      ]
    },
    "query084_agg_i1": {
      "status": "WIN",
      "best_speedup": 1.05,
      "best_transform": "early_filter_explicit_join",
      "best_family": "A+F",
      "best_patch_id": "t1",
      "winning_iteration": 2,
      "original_ms": 31.9,
      "optimized_ms": 30.3,
      "n_iterations": 1,
      "total_patches_tried": 4,
      "patches_passed_semantic": 2,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "A+F",
          "transform": "early_filter_explicit_join",
          "status": "IMPROVED",
          "speedup": 1.05,
          "original_ms": 31.9,
          "patch_ms": 30.3,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "A+E",
          "transform": "prefetch_high_selectivity",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence (after retry): row count 19 vs 100",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 2,
          "patch_id": "t4",
          "family": "B",
          "transform": "decorrelate_optional_scan",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence (retry failed): Row count mismatch: original=100, patch=0",
          "has_explain": false,
          "relevance_score": 0.75
        },
        {
          "iteration": 2,
          "patch_id": "t3",
          "family": "E",
          "transform": "literal_preserve_prefetch",
          "status": "REGRESSION",
          "speedup": 0.9,
          "original_ms": 31.9,
          "patch_ms": 35.3,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.8
        }
      ]
    },
    "query084_agg_i2": {
      "status": "NO_WINNER",
      "best_speedup": 0,
      "best_transform": "",
      "best_family": "",
      "best_patch_id": "",
      "winning_iteration": -1,
      "original_ms": null,
      "optimized_ms": null,
      "n_iterations": 0,
      "total_patches_tried": 0,
      "patches_passed_semantic": 0,
      "patches_won": 0,
      "all_patches": []
    },
    "query085_agg_i1": {
      "status": "IMPROVED",
      "best_speedup": 1.04,
      "best_transform": "explicit_join_restructure",
      "best_family": "F",
      "best_patch_id": "t1",
      "winning_iteration": 0,
      "original_ms": 577.2,
      "optimized_ms": 555.3,
      "n_iterations": 1,
      "total_patches_tried": 4,
      "patches_passed_semantic": 1,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "F",
          "transform": "explicit_join_restructure",
          "status": "NEUTRAL",
          "speedup": 1.04,
          "original_ms": 577.2,
          "patch_ms": 555.3,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "A",
          "transform": "cd_ca_predicate_pushdown",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column cd1.cd_marital_status does not exist\nLINE 1: ...wr_returning_cdemo_sk AND cd2.cd_marital_status = cd1.cd_mar...\n                                                             ^\nHINT:  Perhaps you meant to reference the column \"cd2.cd_marital_status\".\n",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "E",
          "transform": "cd_prefetch_cte",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.8
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.3
        }
      ]
    },
    "query085_agg_i2": {
      "status": "WIN",
      "best_speedup": 1.12,
      "best_transform": "explicit_join_reorder",
      "best_family": "F",
      "best_patch_id": "t1",
      "winning_iteration": 0,
      "original_ms": 393.9,
      "optimized_ms": 352.9,
      "n_iterations": 3,
      "total_patches_tried": 10,
      "patches_passed_semantic": 3,
      "patches_won": 1,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "F",
          "transform": "explicit_join_reorder",
          "status": "WIN",
          "speedup": 1.12,
          "original_ms": 393.9,
          "patch_ms": 352.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "A",
          "transform": "dimension_prefilter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column \"ca_state\" does not exist\nLINE 1: ...ws_sales_price BETWEEN 150.00 AND 200.00))) AND ((ca_state I...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "E",
          "transform": "shared_dimension_scan",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.8
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "A+F",
          "transform": "explicit_join_plus_early_fact_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence (retry failed): Row count mismatch: original=16, patch=41",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "t2",
          "family": "A+E",
          "transform": "fact_table_preagg+rescue_dimension_prefilter",
          "status": "REGRESSION",
          "speedup": 0.26,
          "original_ms": 396.3,
          "patch_ms": 1528.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        },
        {
          "iteration": 1,
          "patch_id": "t4",
          "family": "C",
          "transform": "push_agg_to_web_returns",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: COLUMN REF MISMATCH: Original columns missing from rewrite \u2014 ['wr_reason_sk', 'wr_refunded_addr_sk', 'wr_refunded_cdemo_sk', 'wr_returning_cdemo_sk']. The rewrite references different table columns.",
          "has_explain": false,
          "relevance_score": 0.8
        },
        {
          "iteration": 2,
          "patch_id": "S0:03014fca41c49153",
          "family": "A+F",
          "transform": "explicit_join_order_push_date_filter",
          "status": "NEUTRAL",
          "speedup": 0.98,
          "original_ms": 276.1,
          "patch_ms": 283.1,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        },
        {
          "iteration": 2,
          "patch_id": "S0",
          "family": "C",
          "transform": "web_returns_preagg_correct_cols",
          "status": "PENDING",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": null,
          "has_explain": false,
          "relevance_score": 0.8
        },
        {
          "iteration": 2,
          "patch_id": "S0",
          "family": "C",
          "transform": "web_returns_preagg_correct_cols",
          "status": "PENDING",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": null,
          "has_explain": false,
          "relevance_score": 0.8
        }
      ]
    },
    "query087_multi_i1": {
      "status": "WIN",
      "best_speedup": 2.08,
      "best_transform": "distinct_pushdown_then_except_to_exists",
      "best_family": "C+D",
      "best_patch_id": "t1_comb",
      "winning_iteration": 1,
      "original_ms": 778.0,
      "optimized_ms": 374.5,
      "n_iterations": 3,
      "total_patches_tried": 8,
      "patches_passed_semantic": 5,
      "patches_won": 2,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "E",
          "transform": "multi_dimension_prefetch",
          "status": "REGRESSION",
          "speedup": 0.59,
          "original_ms": 956.2,
          "patch_ms": 1629.6,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "D",
          "transform": "intersect_to_exists",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: missing FROM-clause entry for table \"d\"\nLINE 1: ...OM catalog_sales AS cs WHERE cs.cs_sold_date_sk = d.d_date_s...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "C",
          "transform": "distinct_pushdown",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.75
        },
        {
          "iteration": 0,
          "patch_id": "syn_w3",
          "family": "E",
          "transform": "materialize_cte",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 1,
          "patch_id": "t1_comb",
          "family": "C+D",
          "transform": "distinct_pushdown_then_except_to_exists",
          "status": "WIN",
          "speedup": 2.08,
          "original_ms": 778.0,
          "patch_ms": 374.5,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "t3_rescue",
          "family": "D+A+E",
          "transform": "except_to_exists_corrected+prefilter_dimensions_materialize",
          "status": "REGRESSION",
          "speedup": 0.92,
          "original_ms": 778.0,
          "patch_ms": 843.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 1,
          "patch_id": "t2_refine",
          "family": "C",
          "transform": "distinct_pushdown_corrected",
          "status": "REGRESSION",
          "speedup": 0.42,
          "original_ms": 778.0,
          "patch_ms": 1837.0,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "D+E",
          "transform": "prefilter_dimensions_then_except_to_exists",
          "status": "WIN",
          "speedup": 1.2,
          "original_ms": 1171.9,
          "patch_ms": 974.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        }
      ]
    },
    "query087_multi_i2": {
      "status": "REGRESSION",
      "best_speedup": 0.7,
      "best_transform": "prefetch_dimensions_and_aggregate_sales+prefetch_dimensions_only",
      "best_family": "E+C",
      "best_patch_id": "t2",
      "winning_iteration": 1,
      "original_ms": 1022.2,
      "optimized_ms": 1453.9,
      "n_iterations": 1,
      "total_patches_tried": 3,
      "patches_passed_semantic": 1,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "E+D",
          "transform": "prefetch_dimensions_and_convert_to_anti_join",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence (after retry): checksum 4dcb616549f308de8e921c0b3aac141b vs 16e8d651dae324ecaa5373a43eba823c",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "t4",
          "family": "D",
          "transform": "convert_except_to_not_exists",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence (after retry): checksum 4dcb616549f308de8e921c0b3aac141b vs 16e8d651dae324ecaa5373a43eba823c",
          "has_explain": false,
          "relevance_score": 0.75
        },
        {
          "iteration": 1,
          "patch_id": "t2",
          "family": "E+C",
          "transform": "prefetch_dimensions_and_aggregate_sales+prefetch_dimensions_only",
          "status": "REGRESSION",
          "speedup": 0.7,
          "original_ms": 1022.2,
          "patch_ms": 1453.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        }
      ]
    },
    "query091_agg_i1": {
      "status": "NO_WINNER",
      "best_speedup": 0,
      "best_transform": "",
      "best_family": "",
      "best_patch_id": "",
      "winning_iteration": -1,
      "original_ms": null,
      "optimized_ms": null,
      "n_iterations": 0,
      "total_patches_tried": 0,
      "patches_passed_semantic": 0,
      "patches_won": 0,
      "all_patches": []
    },
    "query091_agg_i2": {
      "status": "WIN",
      "best_speedup": 1.09,
      "best_transform": "early_filtering",
      "best_family": "A",
      "best_patch_id": "t1",
      "winning_iteration": 0,
      "original_ms": 199.4,
      "optimized_ms": 183.4,
      "n_iterations": 2,
      "total_patches_tried": 7,
      "patches_passed_semantic": 3,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "A",
          "transform": "early_filtering",
          "status": "IMPROVED",
          "speedup": 1.09,
          "original_ms": 199.4,
          "patch_ms": 183.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "E+F",
          "transform": "multi_dimension_prefetch+explicit_join_ordering",
          "status": "NEUTRAL",
          "speedup": 1.02,
          "original_ms": 199.4,
          "patch_ms": 196.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "syn_w1",
          "family": "A",
          "transform": "early_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column \"cd_marital_status\" does not exist\nLINE 1: ... GROUP BY cc_call_center_id, cc_name, cc_manager, cd_marital...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "A+C",
          "transform": "early_filter_and_agg_pushdown",
          "status": "REGRESSION",
          "speedup": 0.94,
          "original_ms": 197.9,
          "patch_ms": 209.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "t4",
          "family": "C",
          "transform": "agg_pushdown_after_fact_joins",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column \"cr_net_loss\" does not exist\nLINE 1: ...e AS Call_Center_Name, cc_manager AS Manager, SUM(cr_net_los...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.75
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "E+F",
          "transform": "prefetch_dims_with_propagated_columns+explicit_join_reordering",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: Column mismatch: 0 missing, 2 extra",
          "has_explain": false,
          "relevance_score": 0.85
        }
      ]
    },
    "query092_multi_i1": {
      "status": "NO_WINNER",
      "best_speedup": 0,
      "best_transform": "",
      "best_family": "",
      "best_patch_id": "",
      "winning_iteration": -1,
      "original_ms": null,
      "optimized_ms": null,
      "n_iterations": 1,
      "total_patches_tried": 4,
      "patches_passed_semantic": 1,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "B",
          "transform": "decorrelation_shared_scan",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['0.01', '35.0', '50.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "E+F",
          "transform": "materialize_shared_filters+explicit_join_syntax",
          "status": "PENDING",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "syn_w1",
          "family": "A",
          "transform": "early_filter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['0.01', '35.0', '50.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.3
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['0.01', '35.0', '50.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.3
        }
      ]
    },
    "query092_multi_i2": {
      "status": "NO_WINNER",
      "best_speedup": 0,
      "best_transform": "",
      "best_family": "",
      "best_patch_id": "",
      "winning_iteration": -1,
      "original_ms": null,
      "optimized_ms": null,
      "n_iterations": 1,
      "total_patches_tried": 3,
      "patches_passed_semantic": 2,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 1,
          "patch_id": "t1_rescue",
          "family": "B+E",
          "transform": "decorrelate_subquery_with_prefilter",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence (after retry): checksum c3a8064db6e63f6372e7e728577502b0 vs c68bea3e0cd84340929d2991a7779b9c",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "syn_w1_rescue",
          "family": "A+B",
          "transform": "push_item_filters_early",
          "status": "PENDING",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.8
        },
        {
          "iteration": 1,
          "patch_id": "t2_refine",
          "family": "F",
          "transform": "explicit_join_order",
          "status": "PENDING",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        }
      ]
    },
    "query094_multi_i1": {
      "status": "IMPROVED",
      "best_speedup": 1.02,
      "best_transform": "prefiltered_returns_cte",
      "best_family": "A",
      "best_patch_id": "t1",
      "winning_iteration": 2,
      "original_ms": 283.2,
      "optimized_ms": 277.6,
      "n_iterations": 1,
      "total_patches_tried": 2,
      "patches_passed_semantic": 1,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "A",
          "transform": "prefiltered_returns_cte",
          "status": "NEUTRAL",
          "speedup": 1.02,
          "original_ms": 283.2,
          "patch_ms": 277.6,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.98
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "A+B+F",
          "transform": "prefiltered_returns_decorrelated_exists+prefilter_dimensions_and_returns",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column reference \"ws_order_number\" is ambiguous\nLINE 1: ..._sk IN (7, 25, 26, 52, 69)) SELECT COUNT(DISTINCT ws_order_n...\n                                                             ^\n",
          "has_explain": false,
          "relevance_score": 0.9
        }
      ]
    },
    "query094_multi_i2": {
      "status": "WIN",
      "best_speedup": 1.09,
      "best_transform": "not_exists_to_anti_join+early_dimension_filters",
      "best_family": "D+A",
      "best_patch_id": "t2",
      "winning_iteration": 2,
      "original_ms": 744.5,
      "optimized_ms": 683.6,
      "n_iterations": 1,
      "total_patches_tried": 3,
      "patches_passed_semantic": 3,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "A",
          "transform": "early_filter_web_returns_fixed",
          "status": "NEUTRAL",
          "speedup": 0.98,
          "original_ms": 744.5,
          "patch_ms": 759.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "D+A",
          "transform": "not_exists_to_anti_join+early_dimension_filters",
          "status": "IMPROVED",
          "speedup": 1.09,
          "original_ms": 744.5,
          "patch_ms": 683.6,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 2,
          "patch_id": "t3",
          "family": "B+A",
          "transform": "decorrelate_exists_with_early_filter",
          "status": "ERROR",
          "speedup": 0.0,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": true,
          "error": "canceling statement due to statement timeout\n",
          "has_explain": true,
          "relevance_score": 0.9
        }
      ]
    },
    "query099_agg_i1": {
      "status": "IMPROVED",
      "best_speedup": 1.02,
      "best_transform": "explicit_join_rescue_fixed",
      "best_family": "F",
      "best_patch_id": "t10",
      "winning_iteration": 2,
      "original_ms": 64.0,
      "optimized_ms": 62.9,
      "n_iterations": 1,
      "total_patches_tried": 3,
      "patches_passed_semantic": 3,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 2,
          "patch_id": "t9",
          "family": "A+C+E",
          "transform": "prefilter_join_hybrid",
          "status": "REGRESSION",
          "speedup": 0.8,
          "original_ms": 64.0,
          "patch_ms": 79.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.98
        },
        {
          "iteration": 2,
          "patch_id": "t11",
          "family": "C",
          "transform": "fact_aggr_pushdown",
          "status": "REGRESSION",
          "speedup": 0.9,
          "original_ms": 64.0,
          "patch_ms": 71.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 2,
          "patch_id": "t10",
          "family": "F",
          "transform": "explicit_join_rescue_fixed",
          "status": "NEUTRAL",
          "speedup": 1.02,
          "original_ms": 64.0,
          "patch_ms": 62.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        }
      ]
    },
    "query099_agg_i2": {
      "status": "WIN",
      "best_speedup": 1.09,
      "best_transform": "preagg_with_date_math",
      "best_family": "C",
      "best_patch_id": "t3",
      "winning_iteration": 2,
      "original_ms": 5219.7,
      "optimized_ms": 4806.8,
      "n_iterations": 2,
      "total_patches_tried": 7,
      "patches_passed_semantic": 4,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "F",
          "transform": "join_restructure_dimension_first",
          "status": "IMPROVED",
          "speedup": 1.08,
          "original_ms": 4024.1,
          "patch_ms": 3734.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.98
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "A",
          "transform": "push_dimension_filters",
          "status": "NEUTRAL",
          "speedup": 1.02,
          "original_ms": 4024.1,
          "patch_ms": 3956.1,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "C",
          "transform": "aggregate_before_dimension_join",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column \"cs_ship_date_sk\" does not exist\nLINE 1: ... FROM 1 FOR 20), sm_type, cc_name, SUM(CASE WHEN (cs_ship_da...\n                                                             ^\nHINT:  Perhaps you meant to reference the column \"agg_cs.cs_ship_mode_sk\".\n",
          "has_explain": false,
          "relevance_score": 0.9
        },
        {
          "iteration": 0,
          "patch_id": "t4",
          "family": "E",
          "transform": "materialize_dimensions",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.8
        },
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "A+F+C",
          "transform": "preagg_after_date_join",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: Column mismatch: 1 missing, 1 extra",
          "has_explain": false,
          "relevance_score": 0.97
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "A+E+B",
          "transform": "materialize_dims_early+semi_join_prefilter",
          "status": "IMPROVED",
          "speedup": 1.06,
          "original_ms": 5219.7,
          "patch_ms": 4940.5,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        },
        {
          "iteration": 2,
          "patch_id": "t3",
          "family": "C",
          "transform": "preagg_with_date_math",
          "status": "IMPROVED",
          "speedup": 1.09,
          "original_ms": 5219.7,
          "patch_ms": 4806.8,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        }
      ]
    },
    "query100_agg_i1": {
      "status": "WIN",
      "best_speedup": 1.08,
      "best_transform": "predicate_pushdown_items",
      "best_family": "A",
      "best_patch_id": "t3",
      "winning_iteration": 0,
      "original_ms": 1832.1,
      "optimized_ms": 1690.6,
      "n_iterations": 1,
      "total_patches_tried": 4,
      "patches_passed_semantic": 2,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "E",
          "transform": "multi_dimension_prefetch",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence (after retry): row count 294 vs 304",
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "A",
          "transform": "predicate_pushdown_items",
          "status": "IMPROVED",
          "speedup": 1.08,
          "original_ms": 1832.1,
          "patch_ms": 1690.6,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "F",
          "transform": "join_order_restructure",
          "status": "IMPROVED",
          "speedup": 1.07,
          "original_ms": 1832.1,
          "patch_ms": 1718.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        },
        {
          "iteration": 0,
          "patch_id": "syn_w2",
          "family": "B",
          "transform": "decorrelate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence (after retry): row count 294 vs 304",
          "has_explain": false,
          "relevance_score": 0.3
        }
      ]
    },
    "query100_agg_i2": {
      "status": "REGRESSION",
      "best_speedup": 0.62,
      "best_transform": "explicit_join_restructure",
      "best_family": "F",
      "best_patch_id": "t2",
      "winning_iteration": 0,
      "original_ms": 2938.7,
      "optimized_ms": 4773.1,
      "n_iterations": 2,
      "total_patches_tried": 7,
      "patches_passed_semantic": 4,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 0,
          "patch_id": "t1",
          "family": "E",
          "transform": "multi_dimension_prefetch",
          "status": "REGRESSION",
          "speedup": 0.5,
          "original_ms": 2938.7,
          "patch_ms": 5868.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.98
        },
        {
          "iteration": 0,
          "patch_id": "t3",
          "family": "A",
          "transform": "item_filter_pushdown",
          "status": "REGRESSION",
          "speedup": 0.49,
          "original_ms": 2938.7,
          "patch_ms": 6012.9,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.9
        },
        {
          "iteration": 0,
          "patch_id": "t4",
          "family": "C",
          "transform": "ticket_item_aggregate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: COLUMN REF MISMATCH: Original columns missing from rewrite \u2014 ['c_current_addr_sk', 'ca_address_sk', 'cd_education_status', 'cd_marital_status']. The rewrite references different table columns.",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 0,
          "patch_id": "t2",
          "family": "F",
          "transform": "explicit_join_restructure",
          "status": "REGRESSION",
          "speedup": 0.62,
          "original_ms": 2938.7,
          "patch_ms": 4773.1,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "t1",
          "family": "A+C",
          "transform": "early_filter_plus_aggregate",
          "status": "REGRESSION",
          "speedup": 0.54,
          "original_ms": 2440.6,
          "patch_ms": 4506.4,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "t2",
          "family": "C",
          "transform": "fixed_ticket_aggregate",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: invalid reference to FROM-clause entry for table \"item1\"\nLINE 1: ...OIN filtered_store_sales AS s1 ON s1.ss_item_sk = item1.i_it...\n                                                             ^\nHINT:  There is an entry for table \"item1\", but it cannot be referenced from this part of the query.\n",
          "has_explain": false,
          "relevance_score": 0.9
        },
        {
          "iteration": 1,
          "patch_id": "t3",
          "family": "E+A+F",
          "transform": "prefetch_filtered_sales+join_restructure_no_cte",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: current transaction is aborted, commands ignored until end of transaction block\n",
          "has_explain": false,
          "relevance_score": 0.85
        }
      ]
    },
    "query101_agg_i1": {
      "status": "WIN",
      "best_speedup": 2.3,
      "best_transform": "early_filter_then_date_materialization_fixed",
      "best_family": "A+E",
      "best_patch_id": "t1",
      "winning_iteration": 2,
      "original_ms": 3072.4,
      "optimized_ms": 1337.7,
      "n_iterations": 1,
      "total_patches_tried": 3,
      "patches_passed_semantic": 2,
      "patches_won": 1,
      "all_patches": [
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "A+E",
          "transform": "early_filter_then_date_materialization_fixed",
          "status": "WIN",
          "speedup": 2.3,
          "original_ms": 3072.4,
          "patch_ms": 1337.7,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "C+A+B",
          "transform": "prefilter_agg_pushdown+date_pair_decorrelation",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: LITERAL MISMATCH: Original literals missing from rewrite \u2014 numbers: ['0.01', '35.0', '55.0']. The rewrite changed filter values instead of preserving them.",
          "has_explain": false,
          "relevance_score": 0.85
        },
        {
          "iteration": 2,
          "patch_id": "t3",
          "family": "F+E",
          "transform": "explicit_join_date_materialization",
          "status": "REGRESSION",
          "speedup": 0.56,
          "original_ms": 3072.4,
          "patch_ms": 5448.6,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.8
        }
      ]
    },
    "query101_agg_i2": {
      "status": "REGRESSION",
      "best_speedup": 0.73,
      "best_transform": "explicit_join_literal_preserve",
      "best_family": "F",
      "best_patch_id": "S0:f2ece665ad1a915f",
      "winning_iteration": 2,
      "original_ms": 1898.3,
      "optimized_ms": 2586.1,
      "n_iterations": 1,
      "total_patches_tried": 3,
      "patches_passed_semantic": 1,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 2,
          "patch_id": "S0",
          "family": "A+E",
          "transform": "early_filter_date_prefetch_literal_fix",
          "status": "PENDING",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": null,
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "S0",
          "family": "A+E",
          "transform": "early_filter_date_prefetch_literal_fix",
          "status": "PENDING",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": null,
          "has_explain": false,
          "relevance_score": 0.95
        },
        {
          "iteration": 2,
          "patch_id": "S0:f2ece665ad1a915f",
          "family": "F",
          "transform": "explicit_join_literal_preserve",
          "status": "REGRESSION",
          "speedup": 0.73,
          "original_ms": 1898.3,
          "patch_ms": 2586.1,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.8
        }
      ]
    },
    "query102_agg_i1": {
      "status": "WIN",
      "best_speedup": 1.16,
      "best_transform": "early_filter_then_join_restructure",
      "best_family": "A+F",
      "best_patch_id": "t1_rescue",
      "winning_iteration": 1,
      "original_ms": 952.2,
      "optimized_ms": 818.2,
      "n_iterations": 1,
      "total_patches_tried": 3,
      "patches_passed_semantic": 2,
      "patches_won": 1,
      "all_patches": [
        {
          "iteration": 1,
          "patch_id": "t1_rescue",
          "family": "A+F",
          "transform": "early_filter_then_join_restructure",
          "status": "WIN",
          "speedup": 1.16,
          "original_ms": 952.2,
          "patch_ms": 818.2,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.95
        },
        {
          "iteration": 1,
          "patch_id": "t5",
          "family": "A+B",
          "transform": "early_filter_decorrelate_warehouse",
          "status": "REGRESSION",
          "speedup": 0.76,
          "original_ms": 952.2,
          "patch_ms": 1248.3,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.8
        },
        {
          "iteration": 1,
          "patch_id": "t4",
          "family": "E",
          "transform": "customer_dimension_prefetch",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: COLUMN REF MISMATCH: Original columns missing from rewrite \u2014 ['inv_warehouse_sk']. The rewrite references different table columns.",
          "has_explain": false,
          "relevance_score": 0.85
        }
      ]
    },
    "query102_agg_i2": {
      "status": "REGRESSION",
      "best_speedup": 0.42,
      "best_transform": "rescue_filtered_dimensions",
      "best_family": "A+E",
      "best_patch_id": "t3",
      "winning_iteration": 2,
      "original_ms": 710.9,
      "optimized_ms": 1688.1,
      "n_iterations": 1,
      "total_patches_tried": 4,
      "patches_passed_semantic": 1,
      "patches_won": 0,
      "all_patches": [
        {
          "iteration": 2,
          "patch_id": "t1",
          "family": "A+F",
          "transform": "early_filter_with_explicit_joins",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: COLUMN REF MISMATCH: Original columns missing from rewrite \u2014 ['inv_warehouse_sk']. The rewrite references different table columns.",
          "has_explain": false,
          "relevance_score": 0.98
        },
        {
          "iteration": 2,
          "patch_id": "t3",
          "family": "A+E",
          "transform": "rescue_filtered_dimensions",
          "status": "REGRESSION",
          "speedup": 0.42,
          "original_ms": 710.9,
          "patch_ms": 1688.1,
          "semantic_passed": true,
          "error": null,
          "has_explain": true,
          "relevance_score": 0.85
        },
        {
          "iteration": 2,
          "patch_id": "t2",
          "family": "C",
          "transform": "pre_aggregate_customer_sales",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Tier-1 structural: COLUMN REF MISMATCH: Original columns missing from rewrite \u2014 ['c_current_cdemo_sk', 'c_current_hdemo_sk', 'inv_warehouse_sk']. The rewrite references different table columns.",
          "has_explain": false,
          "relevance_score": 0.9
        },
        {
          "iteration": 2,
          "patch_id": "t4",
          "family": "E",
          "transform": "safe_date_range_materialize",
          "status": "FAIL",
          "speedup": null,
          "original_ms": null,
          "patch_ms": null,
          "semantic_passed": false,
          "error": "Equivalence execution error: column \"w_state\" does not exist\nLINE 1: ...ty_on_hand >= ss_quantity JOIN store ON s_state = w_state JO...\n                                                             ^\nHINT:  Perhaps you meant to reference the column \"store.s_state\".\n",
          "has_explain": false,
          "relevance_score": 0.8
        }
      ]
    }
  }
}