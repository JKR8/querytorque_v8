{
  "query_id": "query072_agg_i2",
  "baseline_cost": 140073.91,
  "baseline_plan_node": "Limit",
  "baseline_joins": [
    "Nested Loop(Inner)",
    "Nested Loop(Left)",
    "Nested Loop(Inner)",
    "Nested Loop(Inner)",
    "Nested Loop(Inner)",
    "Hash Join(Inner)",
    "Nested Loop(Inner)",
    "Hash Join(Inner)",
    "Nested Loop(Inner)"
  ],
  "baseline_scans": [
    "Seq Scan(date_dim)",
    "Index Scan(date_dim,date_dim_pkey)",
    "Index Scan(catalog_sales,_dta_index_catalog_sales_6_1301579675__k1_4)",
    "Seq Scan(household_demographics)",
    "Index Scan(customer_demographics,customer_demographics_pkey)",
    "Index Scan(inventory,inventory_pkey)",
    "Seq Scan(warehouse)",
    "Index Scan(item,item_pkey)",
    "Index Only Scan(promotion,promotion_pkey)",
    "Index Scan(date_dim,date_dim_pkey)"
  ],
  "baseline_table_order": [
    "date_dim",
    "date_dim",
    "catalog_sales",
    "household_demographics",
    "customer_demographics",
    "inventory",
    "warehouse",
    "item",
    "promotion",
    "date_dim"
  ],
  "n_explains": 63,
  "n_distinct_plans": 39,
  "n_plan_changers": 10,
  "plan_changers": [
    "no_nestloop",
    "no_hashjoin",
    "no_seqscan",
    "force_hash",
    "force_merge",
    "force_nestloop",
    "no_parallel",
    "no_reorder",
    "max_reorder",
    "ssd_costs"
  ],
  "distinct_plans": [
    {
      "fingerprint_hash": 3233325143,
      "combos": [
        "baseline",
        "no_mergejoin",
        "work_mem_256mb",
        "work_mem_1gb",
        "work_mem_2gb",
        "no_jit",
        "max_parallel"
      ],
      "cost": 140073.91,
      "is_baseline": true,
      "cost_ratio": 1.0
    },
    {
      "fingerprint_hash": 2338340062,
      "combos": [
        "no_nestloop",
        "no_nestloop+max_reorder"
      ],
      "cost": 1992055.26,
      "is_baseline": false,
      "cost_ratio": 0.07031627727034039
    },
    {
      "fingerprint_hash": 701356810,
      "combos": [
        "no_hashjoin"
      ],
      "cost": 141471.43,
      "is_baseline": false,
      "cost_ratio": 0.99012153902735
    },
    {
      "fingerprint_hash": 2888835146,
      "combos": [
        "no_seqscan"
      ],
      "cost": 141191.92,
      "is_baseline": false,
      "cost_ratio": 0.9920816290337293
    },
    {
      "fingerprint_hash": 3900657289,
      "combos": [
        "force_hash",
        "no_nestloop+force_hash",
        "force_hash+ssd_costs"
      ],
      "cost": 1992179.01,
      "is_baseline": false,
      "cost_ratio": 0.07031190937003197
    },
    {
      "fingerprint_hash": 931337291,
      "combos": [
        "force_merge",
        "no_nestloop+no_hashjoin",
        "no_nestloop+force_merge",
        "no_hashjoin+force_merge",
        "force_merge+max_reorder"
      ],
      "cost": 12506972.52,
      "is_baseline": false,
      "cost_ratio": 0.011199665608604057
    },
    {
      "fingerprint_hash": 108857637,
      "combos": [
        "force_nestloop",
        "no_hashjoin+force_nestloop"
      ],
      "cost": 151151.53,
      "is_baseline": false,
      "cost_ratio": 0.9267118235587823
    },
    {
      "fingerprint_hash": 1286866071,
      "combos": [
        "no_parallel",
        "no_hashjoin+no_parallel",
        "force_nestloop+no_parallel",
        "no_parallel+ssd_costs"
      ],
      "cost": 179855.69,
      "is_baseline": false,
      "cost_ratio": 0.7788127804018877
    },
    {
      "fingerprint_hash": 1535173900,
      "combos": [
        "no_reorder"
      ],
      "cost": 22161720.62,
      "is_baseline": false,
      "cost_ratio": 0.006320534059688006
    },
    {
      "fingerprint_hash": 1213416824,
      "combos": [
        "max_reorder",
        "no_reorder+max_reorder"
      ],
      "cost": 140049.65,
      "is_baseline": false,
      "cost_ratio": 1.0001732242815315
    },
    {
      "fingerprint_hash": 1422849004,
      "combos": [
        "ssd_costs",
        "ssd_plus_mem"
      ],
      "cost": 81458.25,
      "is_baseline": false,
      "cost_ratio": 1.719579170924983
    },
    {
      "fingerprint_hash": 2088406294,
      "combos": [
        "no_nestloop+no_seqscan"
      ],
      "cost": 162904426.35,
      "is_baseline": false,
      "cost_ratio": 0.0008598533087066115
    },
    {
      "fingerprint_hash": 1055950996,
      "combos": [
        "no_nestloop+force_nestloop",
        "no_hashjoin+force_hash",
        "force_hash+force_merge",
        "force_hash+force_nestloop",
        "force_merge+force_nestloop"
      ],
      "cost": 90000935792.4,
      "is_baseline": false,
      "cost_ratio": 1.5563605952175927e-06
    },
    {
      "fingerprint_hash": 100898519,
      "combos": [
        "no_nestloop+no_parallel",
        "force_hash+no_parallel"
      ],
      "cost": 3211531.58,
      "is_baseline": false,
      "cost_ratio": 0.0436159217216852
    },
    {
      "fingerprint_hash": 3131146535,
      "combos": [
        "no_nestloop+no_reorder"
      ],
      "cost": 22166139.08,
      "is_baseline": false,
      "cost_ratio": 0.006319274163825197
    },
    {
      "fingerprint_hash": 3589854080,
      "combos": [
        "no_nestloop+ssd_costs"
      ],
      "cost": 1991763.63,
      "is_baseline": false,
      "cost_ratio": 0.07032657283736023
    },
    {
      "fingerprint_hash": 144625328,
      "combos": [
        "no_hashjoin+no_seqscan"
      ],
      "cost": 142692.07,
      "is_baseline": false,
      "cost_ratio": 0.981651678330828
    },
    {
      "fingerprint_hash": 1219706118,
      "combos": [
        "no_hashjoin+no_reorder"
      ],
      "cost": 101600703.32,
      "is_baseline": false,
      "cost_ratio": 0.0013786706727691184
    },
    {
      "fingerprint_hash": 3108327999,
      "combos": [
        "no_hashjoin+max_reorder"
      ],
      "cost": 141397.5,
      "is_baseline": false,
      "cost_ratio": 0.9906392262946657
    },
    {
      "fingerprint_hash": 1538466229,
      "combos": [
        "no_hashjoin+ssd_costs"
      ],
      "cost": 83078.77,
      "is_baseline": false,
      "cost_ratio": 1.6860373594842581
    },
    {
      "fingerprint_hash": 792525765,
      "combos": [
        "no_seqscan+force_hash"
      ],
      "cost": 162934677.9,
      "is_baseline": false,
      "cost_ratio": 0.0008596936625484316
    },
    {
      "fingerprint_hash": 780741606,
      "combos": [
        "no_seqscan+force_merge"
      ],
      "cost": 163614792.72,
      "is_baseline": false,
      "cost_ratio": 0.0008561200834677194
    },
    {
      "fingerprint_hash": 3774159110,
      "combos": [
        "no_seqscan+force_nestloop"
      ],
      "cost": 152309.26,
      "is_baseline": false,
      "cost_ratio": 0.9196677207938637
    },
    {
      "fingerprint_hash": 3381114920,
      "combos": [
        "no_seqscan+no_parallel"
      ],
      "cost": 211729.9,
      "is_baseline": false,
      "cost_ratio": 0.661568866749571
    },
    {
      "fingerprint_hash": 2018579785,
      "combos": [
        "no_seqscan+no_reorder"
      ],
      "cost": 183102178.5,
      "is_baseline": false,
      "cost_ratio": 0.0007650040602875732
    },
    {
      "fingerprint_hash": 2439712776,
      "combos": [
        "no_seqscan+max_reorder"
      ],
      "cost": 141121.93,
      "is_baseline": false,
      "cost_ratio": 0.992573655986706
    },
    {
      "fingerprint_hash": 976897266,
      "combos": [
        "no_seqscan+ssd_costs"
      ],
      "cost": 82670.53,
      "is_baseline": false,
      "cost_ratio": 1.6943632755227287
    },
    {
      "fingerprint_hash": 2894133449,
      "combos": [
        "force_hash+no_reorder"
      ],
      "cost": 22166422.6,
      "is_baseline": false,
      "cost_ratio": 0.006319193337043028
    },
    {
      "fingerprint_hash": 2834895994,
      "combos": [
        "force_hash+max_reorder"
      ],
      "cost": 1992179.0,
      "is_baseline": false,
      "cost_ratio": 0.07031190972297169
    },
    {
      "fingerprint_hash": 1952334513,
      "combos": [
        "force_merge+no_parallel"
      ],
      "cost": 28392930.81,
      "is_baseline": false,
      "cost_ratio": 0.004933407929507085
    },
    {
      "fingerprint_hash": 4240886899,
      "combos": [
        "force_merge+no_reorder"
      ],
      "cost": 308585511.89,
      "is_baseline": false,
      "cost_ratio": 0.0004539225096540873
    },
    {
      "fingerprint_hash": 1016396537,
      "combos": [
        "force_merge+ssd_costs"
      ],
      "cost": 3772060.63,
      "is_baseline": false,
      "cost_ratio": 0.03713458603659825
    },
    {
      "fingerprint_hash": 1416026857,
      "combos": [
        "force_nestloop+no_reorder"
      ],
      "cost": 74585312365.17,
      "is_baseline": false,
      "cost_ratio": 1.8780361113753545e-06
    },
    {
      "fingerprint_hash": 4069548060,
      "combos": [
        "force_nestloop+max_reorder"
      ],
      "cost": 151077.6,
      "is_baseline": false,
      "cost_ratio": 0.9271653110719259
    },
    {
      "fingerprint_hash": 2714901485,
      "combos": [
        "force_nestloop+ssd_costs"
      ],
      "cost": 83618.95,
      "is_baseline": false,
      "cost_ratio": 1.675145526223422
    },
    {
      "fingerprint_hash": 186993619,
      "combos": [
        "no_parallel+no_reorder"
      ],
      "cost": 103062331.87,
      "is_baseline": false,
      "cost_ratio": 0.0013591183845586318
    },
    {
      "fingerprint_hash": 127526544,
      "combos": [
        "no_parallel+max_reorder"
      ],
      "cost": 179781.76,
      "is_baseline": false,
      "cost_ratio": 0.779133044420079
    },
    {
      "fingerprint_hash": 1128599317,
      "combos": [
        "no_reorder+ssd_costs"
      ],
      "cost": 22161524.21,
      "is_baseline": false,
      "cost_ratio": 0.00632059007641695
    },
    {
      "fingerprint_hash": 2313523734,
      "combos": [
        "max_reorder+ssd_costs"
      ],
      "cost": 81444.6,
      "is_baseline": false,
      "cost_ratio": 1.719867369966824
    }
  ],
  "vulnerabilities": [
    {
      "type": "JOIN_TYPE_TRAP",
      "combos": [
        "no_nestloop",
        "no_hashjoin",
        "force_hash",
        "force_merge",
        "force_nestloop",
        "no_parallel",
        "no_reorder",
        "max_reorder",
        "ssd_costs",
        "ssd_plus_mem",
        "no_nestloop+no_hashjoin",
        "no_nestloop+no_seqscan",
        "no_nestloop+force_hash",
        "no_nestloop+force_merge",
        "no_nestloop+force_nestloop",
        "no_nestloop+no_parallel",
        "no_nestloop+no_reorder",
        "no_nestloop+max_reorder",
        "no_nestloop+ssd_costs",
        "no_hashjoin+no_seqscan",
        "no_hashjoin+force_hash",
        "no_hashjoin+force_merge",
        "no_hashjoin+force_nestloop",
        "no_hashjoin+no_parallel",
        "no_hashjoin+no_reorder",
        "no_hashjoin+max_reorder",
        "no_hashjoin+ssd_costs",
        "no_seqscan+force_hash",
        "no_seqscan+force_merge",
        "no_seqscan+force_nestloop",
        "no_seqscan+no_parallel",
        "no_seqscan+no_reorder",
        "no_seqscan+max_reorder",
        "no_seqscan+ssd_costs",
        "force_hash+force_merge",
        "force_hash+force_nestloop",
        "force_hash+no_parallel",
        "force_hash+no_reorder",
        "force_hash+max_reorder",
        "force_hash+ssd_costs",
        "force_merge+force_nestloop",
        "force_merge+no_parallel",
        "force_merge+no_reorder",
        "force_merge+max_reorder",
        "force_merge+ssd_costs",
        "force_nestloop+no_parallel",
        "force_nestloop+no_reorder",
        "force_nestloop+max_reorder",
        "force_nestloop+ssd_costs",
        "no_parallel+no_reorder",
        "no_parallel+max_reorder",
        "no_parallel+ssd_costs",
        "no_reorder+max_reorder",
        "no_reorder+ssd_costs",
        "max_reorder+ssd_costs"
      ],
      "description": "Optimizer join type choice is vulnerable. 55 combos change join types.",
      "detail": [
        "no_nestloop: ['Nested Loop(Inner)', 'Nested Loop(Left)'] \u2192 ['Hash Join(Left)', 'Merge Join(Inner)']",
        "no_hashjoin: ['Hash Join(Inner)'] \u2192 ['Merge Join(Inner)']",
        "force_hash: ['Nested Loop(Inner)', 'Nested Loop(Left)'] \u2192 ['Hash Join(Left)']"
      ]
    },
    {
      "type": "JOIN_ORDER_TRAP",
      "combos": [
        "no_nestloop",
        "no_hashjoin",
        "force_hash",
        "force_merge",
        "force_nestloop",
        "no_parallel",
        "no_reorder",
        "max_reorder",
        "ssd_costs",
        "ssd_plus_mem",
        "no_nestloop+no_hashjoin",
        "no_nestloop+no_seqscan",
        "no_nestloop+force_hash",
        "no_nestloop+force_merge",
        "no_nestloop+force_nestloop",
        "no_nestloop+no_parallel",
        "no_nestloop+no_reorder",
        "no_nestloop+max_reorder",
        "no_nestloop+ssd_costs",
        "no_hashjoin+no_seqscan",
        "no_hashjoin+force_hash",
        "no_hashjoin+force_merge",
        "no_hashjoin+force_nestloop",
        "no_hashjoin+no_parallel",
        "no_hashjoin+no_reorder",
        "no_hashjoin+max_reorder",
        "no_hashjoin+ssd_costs",
        "no_seqscan+force_hash",
        "no_seqscan+force_merge",
        "no_seqscan+force_nestloop",
        "no_seqscan+no_parallel",
        "no_seqscan+no_reorder",
        "no_seqscan+max_reorder",
        "no_seqscan+ssd_costs",
        "force_hash+force_merge",
        "force_hash+force_nestloop",
        "force_hash+no_parallel",
        "force_hash+no_reorder",
        "force_hash+max_reorder",
        "force_hash+ssd_costs",
        "force_merge+force_nestloop",
        "force_merge+no_parallel",
        "force_merge+no_reorder",
        "force_merge+max_reorder",
        "force_merge+ssd_costs",
        "force_nestloop+no_parallel",
        "force_nestloop+no_reorder",
        "force_nestloop+max_reorder",
        "force_nestloop+ssd_costs",
        "no_parallel+no_reorder",
        "no_parallel+max_reorder",
        "no_parallel+ssd_costs",
        "no_reorder+max_reorder",
        "no_reorder+ssd_costs",
        "max_reorder+ssd_costs"
      ],
      "description": "Join enumeration is unstable. 55 combos change table access order.",
      "detail": [
        "no_nestloop: [date_dim, date_dim, catalog_sales, household_demographics, customer_demographics, inventory] \u2192 [date_dim, date_dim, item, inventory, catalog_sales, customer_demographics]",
        "no_hashjoin: [date_dim, date_dim, catalog_sales, household_demographics, customer_demographics, inventory] \u2192 [date_dim, catalog_sales, household_demographics, customer_demographics, item, date_dim]"
      ]
    },
    {
      "type": "SCAN_TYPE_TRAP",
      "combos": [
        "no_nestloop",
        "no_hashjoin",
        "no_seqscan",
        "force_hash",
        "force_merge",
        "force_nestloop",
        "no_parallel",
        "no_reorder",
        "max_reorder",
        "ssd_costs",
        "ssd_plus_mem",
        "no_nestloop+no_hashjoin",
        "no_nestloop+no_seqscan",
        "no_nestloop+force_hash",
        "no_nestloop+force_merge",
        "no_nestloop+force_nestloop",
        "no_nestloop+no_parallel",
        "no_nestloop+no_reorder",
        "no_nestloop+max_reorder",
        "no_nestloop+ssd_costs",
        "no_hashjoin+no_seqscan",
        "no_hashjoin+force_hash",
        "no_hashjoin+force_merge",
        "no_hashjoin+force_nestloop",
        "no_hashjoin+no_parallel",
        "no_hashjoin+no_reorder",
        "no_hashjoin+max_reorder",
        "no_hashjoin+ssd_costs",
        "no_seqscan+force_hash",
        "no_seqscan+force_merge",
        "no_seqscan+force_nestloop",
        "no_seqscan+no_parallel",
        "no_seqscan+no_reorder",
        "no_seqscan+max_reorder",
        "no_seqscan+ssd_costs",
        "force_hash+force_merge",
        "force_hash+force_nestloop",
        "force_hash+no_parallel",
        "force_hash+no_reorder",
        "force_hash+max_reorder",
        "force_hash+ssd_costs",
        "force_merge+force_nestloop",
        "force_merge+no_parallel",
        "force_merge+no_reorder",
        "force_merge+max_reorder",
        "force_merge+ssd_costs",
        "force_nestloop+no_parallel",
        "force_nestloop+no_reorder",
        "force_nestloop+max_reorder",
        "force_nestloop+ssd_costs",
        "no_parallel+no_reorder",
        "no_parallel+max_reorder",
        "no_parallel+ssd_costs",
        "no_reorder+max_reorder",
        "no_reorder+ssd_costs",
        "max_reorder+ssd_costs"
      ],
      "description": "Scan type choice is vulnerable. 56 combos change scan types.",
      "detail": [
        "no_nestloop: ['Index Scan(catalog_sales,_dta_index_catalog_sales_6_1301579675__k1_4)', 'Index Scan(item,item_pkey)', 'Index Only Scan(promotion,promotion_pkey)', 'Index Scan(customer_demographics,customer_demographics_pkey)', 'Index Scan(inventory,inventory_pkey)', 'Index Scan(date_dim,date_dim_pkey)'] \u2192 ['Seq Scan(item)', 'Seq Scan(catalog_sales)', 'Index Scan(date_dim,_dta_index_date_dim_6_661577395__k7_k1)', 'Seq Scan(customer_demographics)', 'Seq Scan(promotion)', 'Seq Scan(inventory)']",
        "no_hashjoin: ['Index Only Scan(promotion,promotion_pkey)'] \u2192 ['Seq Scan(promotion)']",
        "no_seqscan: ['Seq Scan(warehouse)', 'Seq Scan(date_dim)', 'Seq Scan(household_demographics)'] \u2192 ['Index Scan(warehouse,warehouse_pkey)', 'Index Scan(household_demographics,household_demographics_pkey)']"
      ]
    },
    {
      "type": "MEMORY_SENSITIVITY",
      "combos": [
        "ssd_plus_mem",
        "ssd_plus_mem"
      ],
      "description": "Plan structure changes with memory settings \u2014 likely hash/sort spill in baseline.",
      "detail": [
        "ssd_plus_mem",
        "ssd_plus_mem"
      ]
    }
  ],
  "pair_results_novel": [
    "no_nestloop+no_seqscan",
    "no_nestloop+force_nestloop",
    "no_nestloop+no_parallel",
    "no_nestloop+no_reorder",
    "no_nestloop+ssd_costs",
    "no_hashjoin+no_seqscan",
    "no_hashjoin+no_reorder",
    "no_hashjoin+max_reorder",
    "no_hashjoin+ssd_costs",
    "no_seqscan+force_hash",
    "no_seqscan+force_merge",
    "no_seqscan+force_nestloop",
    "no_seqscan+no_parallel",
    "no_seqscan+no_reorder",
    "no_seqscan+max_reorder",
    "no_seqscan+ssd_costs",
    "force_hash+no_reorder",
    "force_hash+max_reorder",
    "force_merge+no_parallel",
    "force_merge+no_reorder",
    "force_merge+ssd_costs",
    "force_nestloop+no_reorder",
    "force_nestloop+max_reorder",
    "force_nestloop+ssd_costs",
    "no_parallel+no_reorder",
    "no_parallel+max_reorder",
    "no_reorder+ssd_costs",
    "max_reorder+ssd_costs"
  ],
  "explored_at": "2026-02-09T21:13:12.242380"
}