{
  "worker_id": 4,
  "strategy": "lateral_decorrelation_exploration",
  "examples_used": [
    "None directly matching (exploration)"
  ],
  "optimized_sql": "WITH filtered_item AS (SELECT i_item_sk FROM item WHERE (i_manufact_id BETWEEN 566 AND 765 OR i_category IN ('Children', 'Jewelry', 'Men'))), filtered_dates AS (SELECT d_date_sk FROM date_dim WHERE d_date BETWEEN '2002-03-06' AND CAST('2002-03-06' AS DATE) + INTERVAL '90 day'), ws_data AS (SELECT fi.i_item_sk, ws.ws_item_sk, ws.ws_ext_discount_amt FROM filtered_item fi INNER JOIN web_sales ws ON fi.i_item_sk = ws.ws_item_sk INNER JOIN filtered_dates fd ON fd.d_date_sk = ws.ws_sold_date_sk WHERE ws.ws_wholesale_cost BETWEEN 16 AND 36), lateral_subquery AS (SELECT ws.ws_item_sk, ws.ws_ext_discount_amt FROM web_sales ws INNER JOIN filtered_dates fd ON fd.d_date_sk = ws.ws_sold_date_sk WHERE ws.ws_wholesale_cost BETWEEN 16 AND 36 AND ws.ws_sales_price / ws.ws_list_price BETWEEN 35 * 0.01 AND 50 * 0.01), lateral_avg AS (SELECT wd.ws_ext_discount_amt, sub.threshold FROM ws_data wd LEFT JOIN LATERAL (SELECT 1.3 * AVG(ls.ws_ext_discount_amt) AS threshold FROM lateral_subquery ls WHERE ls.ws_item_sk = wd.i_item_sk) sub ON true), filter AS (SELECT ws_ext_discount_amt FROM lateral_avg WHERE ws_ext_discount_amt > threshold) SELECT SUM(ws_ext_discount_amt) AS \"Excess Discount Amount\" FROM filter ORDER BY SUM(ws_ext_discount_amt) ASC LIMIT 100",
  "speedup": 37.567615466933084,
  "status": "WIN",
  "transforms": [
    "date_cte_isolate"
  ],
  "hint": "- No direct examples; this is novel exploration of PostgreSQL's LATERAL optimiza",
  "error_message": null,
  "error_messages": [],
  "error_category": null,
  "exploratory": true
}