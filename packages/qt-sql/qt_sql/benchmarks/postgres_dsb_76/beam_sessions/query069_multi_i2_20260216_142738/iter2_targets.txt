[
  {
    "target_id": "t6",
    "family": "A+E+B",
    "transform": "early_filter_then_decorrelate",
    "relevance_score": 0.95,
    "hypothesis": "Prefilter customers (A) reduces rows for sales scans. Materialize date_range (E) avoids repeated dim scans. Decorrelate (B) converts EXISTS to semijoins, eliminating per-row re-execution of sales scans (targets Nested Loop rows=164518).",
    "target_ir": "Insert CTE for filtered_customers (customer+address+demo filters). Insert CTE for date_range. Replace EXISTS clauses with semijoins to precomputed sales sets using date_range.",
    "recommended_examples": [
      "pg_date_cte_explicit_join",
      "shared_scan_decorrelate",
      "multi_dimension_prefetch"
    ]
  },
  {
    "target_id": "t7",
    "family": "A+E",
    "transform": "filtered_customers_date_range",
    "relevance_score": 0.9,
    "hypothesis": "Prefilter customers (A) reduces Hash Join (rows=18082). Materialize date_range (E) cuts repeated date_dim scans. Targets Nested Loop (rows=164518) by reducing input customers.",
    "target_ir": "Insert CTE for filtered_customers. Insert CTE for date_range. Replace date_dim scans in subqueries with CTE reference. Replace FROM clause with filtered_customers CTE.",
    "recommended_examples": [
      "pg_date_cte_explicit_join",
      "multi_dimension_prefetch"
    ]
  },
  {
    "target_id": "t8",
    "family": "B",
    "transform": "decorrelate_sales_semijoin",
    "relevance_score": 0.85,
    "hypothesis": "Decorrelate with IN-subqueries using date_range CTE. Avoids t1's costly DISTINCT aggregates while eliminating per-row re-scans of sales tables (targets Nested Loop rows=164518).",
    "target_ir": "Insert CTE for date_range. Replace EXISTS clauses with IN (SELECT ... FROM sales JOIN date_range).",
    "recommended_examples": [
      "pg_intersect_to_exists",
      "shared_scan_decorrelate"
    ]
  },
  {
    "target_id": "t9",
    "family": "F",
    "transform": "fact_tables_last_join",
    "relevance_score": 0.8,
    "hypothesis": "Delay sales table access via explicit LEFT JOIN + date filters. Avoids early nested loops by processing sales last after customer filtering (targets Nested Loop rows=164518).",
    "target_ir": "Replace comma joins with explicit LEFT JOIN store_sales ON c_customer_sk=ss_customer_sk AND d_year=1999.... Convert EXISTS to WHERE ... IS [NOT] NULL.",
    "recommended_examples": [
      "pg_explicit_join_materialized"
    ]
  }
]