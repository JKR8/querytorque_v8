[
  {
    "target_id": "t1",
    "family": "A+E",
    "transform": "prefilter_dimensions_and_sales",
    "relevance_score": 0.95,
    "hypothesis": "Pre-filter date_dim, item, and store_sales in CTEs to shrink input to the main join. Reuse filtered sales via CTE to avoid repeated scans. Targets Nested Loop (218K rows) and duplicate store_sales scans.",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_date_cte_explicit_join",
      "multi_dimension_prefetch"
    ]
  },
  {
    "target_id": "t2",
    "family": "A+F",
    "transform": "explicit_join_early_filter",
    "relevance_score": 0.9,
    "hypothesis": "Convert comma joins to explicit INNER JOIN + push date/item filters into CTEs. Optimize join order to prioritize selective filters (date_dim first). Targets Nested Loop (218K rows) and Merge Join (77.9K rows).",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_explicit_join_materialized",
      "predicate_pushdown_items"
    ]
  },
  {
    "target_id": "t3",
    "family": "C",
    "transform": "ticket_pair_aggregation",
    "relevance_score": 0.85,
    "hypothesis": "Aggregate ticket-item pairs before joining dimensions. Since GROUP BY keys (item1, item2) = join keys, this reduces rows before customer/demographics joins. Targets Nested Loop (218K rows) and Aggregate (77.9K \u2192 304 rows).",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter"
    ]
  },
  {
    "target_id": "t4",
    "family": "A",
    "transform": "rescue_early_filter_date_items",
    "relevance_score": 0.8,
    "hypothesis": "Fix t4's syntax error by using correct aliases in SELECT/GROUP BY. Isolate date and item filters in CTEs to enable predicate pushdown. Minimalist version for reliability. Targets Nested Loop (218K rows).",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_date_cte_explicit_join"
    ]
  }
]