[
  {
    "target_id": "t1",
    "family": "B+E",
    "transform": "decorrelate_anti_joins_with_date_prefetch",
    "relevance_score": 0.98,
    "hypothesis": "Replace correlated NOT EXISTS with precomputed anti-join sets (B) while prefetching date_dim (E) to eliminate nested loops. Targets the 27.3s Nested Loop (310k rows) and repeated date_dim scans.",
    "target_ir": "S0: Replace NOT EXISTS subqueries with CTEs for excluded_web_sales/excluded_catalog_sales. Anchor 'dae945277e160f9b' for WHERE clause.",
    "recommended_examples": [
      "shared_scan_decorrelate",
      "multi_dimension_prefetch"
    ]
  },
  {
    "target_id": "t2",
    "family": "A",
    "transform": "push_state_demographics_filters",
    "relevance_score": 0.85,
    "hypothesis": "Push ca_state + cd_* filters earlier to reduce customer rows before anti-joins. Targets Hash Join (rows=22398) feeding the 1105-row Nested Loop.",
    "target_ir": "S0: Move ca_state/cd_* filters to CTEs. Anchor 'dae945277e160f9b' for WHERE clause.",
    "recommended_examples": [
      "demographics_filter_push"
    ]
  },
  {
    "target_id": "t3",
    "family": "B",
    "transform": "decorrelate_exists_only",
    "relevance_score": 0.75,
    "hypothesis": "Minimal decorrelation of only EXISTS clause to avoid literal mismatch risk. Targets Nested Loop (rows=150624) for store_sales.",
    "target_ir": "S0: Convert EXISTS to JOIN with valid_store_sales CTE. Preserve original NOT EXISTS structure.",
    "recommended_examples": [
      "shared_scan_decorrelate"
    ]
  },
  {
    "target_id": "t4",
    "family": "E",
    "transform": "date_prefetch_safe",
    "relevance_score": 0.65,
    "hypothesis": "Isolated date_dim prefetch with preserved 10+2 expression. Targets repeated date_dim scans (3x) without altering join logic.",
    "target_ir": "S0: Insert filtered_dates CTE. Replace all date_dim references in subqueries.",
    "recommended_examples": [
      "date_cte_isolate"
    ]
  }
]