[
  {
    "target_id": "combo_1",
    "family": "C+D",
    "transform": "aggregation_pushdown_then_setop_rewrite",
    "relevance_score": 0.97,
    "hypothesis": "Combine t2's aggregation pushdown (C) with INTERSECT\u2192EXISTS rewrite (D) to attack both avg_sales (1951ms) and cross_items (2893ms) bottlenecks",
    "target_ir": "S0:CTE_Q_S0_avg_sales & S0:CTE_Q_S0_cross_items",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter",
      "pg_intersect_to_exists"
    ]
  },
  {
    "target_id": "refine_1",
    "family": "A",
    "transform": "push_week_filter_into_cte",
    "relevance_score": 0.92,
    "hypothesis": "Push d_week_seq filter into cross_items CTE to reduce output rows (currently 2664) before main query Nested Loop (5099ms)",
    "target_ir": "S0:CTE_Q_S0_cross_items",
    "recommended_examples": [
      "pg_date_cte_explicit_join"
    ]
  },
  {
    "target_id": "rescue_1",
    "family": "D",
    "transform": "fixed_setop_to_exists",
    "relevance_score": 0.9,
    "hypothesis": "Rescue t1 by preserving literals during INTERSECT\u2192EXISTS rewrite to avoid 384k row materialization (7061ms)",
    "target_ir": "S0:CTE_Q_S0_cross_items",
    "recommended_examples": [
      "pg_intersect_to_exists"
    ]
  },
  {
    "target_id": "novel_1",
    "family": "E",
    "transform": "cte_materialization",
    "relevance_score": 0.85,
    "hypothesis": "Materialize cross_items as temp table to prevent redundant computation in this_year/last_year branches",
    "target_ir": "S0:CTE_Q_S0_cross_items",
    "recommended_examples": [
      "multi_dimension_prefetch"
    ]
  }
]