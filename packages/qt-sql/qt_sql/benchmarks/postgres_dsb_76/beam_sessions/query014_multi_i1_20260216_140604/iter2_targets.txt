[
  {
    "target_id": "t1",
    "family": "E+C",
    "transform": "materialize_cte_then_aggregation_pushdown",
    "relevance_score": 0.95,
    "hypothesis": "Pre-aggregate store_sales by ss_item_sk in this_year/last_year subqueries before joining with item, reducing input rows to the 271K-row Nested Loop (time=8988ms in novel_1 plan).",
    "target_ir": "S0:Q_S0",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter",
      "pg_shared_scan_decorrelate"
    ]
  },
  {
    "target_id": "t2",
    "family": "C",
    "transform": "push_aggregation_into_cross_items",
    "relevance_score": 0.85,
    "hypothesis": "Pre-aggregate sales tables in cross_items CTE by (i_brand_id, i_class_id, i_category_id) to reduce INTERSECT input from 384K rows.",
    "target_ir": "S0:CTE_Q_S0_cross_items",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter"
    ]
  },
  {
    "target_id": "t3",
    "family": "D",
    "transform": "fixed_setop_to_exists",
    "relevance_score": 0.8,
    "hypothesis": "Replace INTERSECT with EXISTS in cross_items while preserving column references to avoid materializing 384K rows.",
    "target_ir": "S0:CTE_Q_S0_cross_items",
    "recommended_examples": [
      "pg_intersect_to_exists"
    ]
  },
  {
    "target_id": "t4",
    "family": "A",
    "transform": "push_week_filter_into_cte",
    "relevance_score": 0.75,
    "hypothesis": "Move d_week_seq filter into cross_items CTE to avoid full scans of sales tables in main query.",
    "target_ir": "S0:CTE_Q_S0_cross_items",
    "recommended_examples": [
      "pg_date_cte_explicit_join"
    ]
  }
]