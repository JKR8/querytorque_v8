{
  "probe_id": "p01",
  "transform_id": "inner_join_conversion",
  "family": "F",
  "dialect": "postgres",
  "hypothesis": "Convert store_returns LEFT JOIN to INNER JOIN since sr_reason_sk filter eliminates NULLs, reducing unnecessary left-join overhead and enabling hash join.",
  "reasoning_trace": [
    "Detected LEFT JOIN on store_returns with a WHERE clause filtering sr_reason_sk IS NOT NULL",
    "This makes the LEFT JOIN logically equivalent to an INNER JOIN",
    "Changing to INNER JOIN enables PostgreSQL to use more efficient Hash Join"
  ],
  "target_ir": "INNER JOIN between store_sales and store_returns with early filter on sr_reason_sk in CTE",
  "steps": [
    {
      "step_id": "s1",
      "op": "replace_join_condition",
      "target": {
        "by_node_id": "S0",
        "by_anchor_hash": "5a1a0e9548e5ef4e"
      },
      "payload": {
        "expr_sql": "ss_ticket_number = sr_ticket_number AND ss_item_sk = sr_item_sk"
      }
    }
  ]
}