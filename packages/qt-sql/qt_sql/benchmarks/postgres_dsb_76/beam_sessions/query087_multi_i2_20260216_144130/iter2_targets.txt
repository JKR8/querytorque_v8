[
  {
    "target_id": "rescue_t4",
    "family": "D",
    "transform": "convert_except_to_not_exists",
    "relevance_score": 0.95,
    "hypothesis": "Replace EXCEPT with NOT EXISTS correlated on (c_customer_sk, d_date_sk) instead of dimension columns. Avoids materialization of SetOp (1,042 ms) while preserving semantics.",
    "target_ir": "Replace entire set operation with NOT EXISTS using key-based correlation.",
    "recommended_examples": [
      "pg_intersect_to_exists"
    ]
  },
  {
    "target_id": "agg_fact",
    "family": "C",
    "transform": "aggregate_fact_by_keys",
    "relevance_score": 0.9,
    "hypothesis": "Pre-aggregate fact tables on (customer_sk, date_sk) before joining dimensions. Reduces rows in Nested Loop (27,680 rows, 360 ms) by grouping join keys early.",
    "target_ir": "Push GROUP BY ss_customer_sk, ss_sold_date_sk into store_sales/catalog_sales/web_sales subqueries.",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter"
    ]
  },
  {
    "target_id": "prefetch_dims",
    "family": "E",
    "transform": "prefetch_dimensions",
    "relevance_score": 0.85,
    "hypothesis": "Reuse filtered date_dim (scanned 3\u00d7, 3.26 ms per scan) via CTE. Eliminates redundant Seq Scans.",
    "target_ir": "Insert CTE for filtered date_dim and replace all date_dim scans with CTE.",
    "recommended_examples": [
      "multi_dimension_prefetch"
    ]
  },
  {
    "target_id": "rescue_t1",
    "family": "E+D",
    "transform": "prefetch_dimensions_and_convert_to_anti_join",
    "relevance_score": 0.8,
    "hypothesis": "Combine dimension prefetch (saves 6.5 ms) and key-correlated NOT EXISTS (avoids SetOp). Targets both dimension scans and set operations.",
    "target_ir": "Prefetch dimensions + NOT EXISTS with correlation on (c_customer_sk, d_date_sk).",
    "recommended_examples": [
      "multi_dimension_prefetch",
      "pg_intersect_to_exists"
    ]
  }
]