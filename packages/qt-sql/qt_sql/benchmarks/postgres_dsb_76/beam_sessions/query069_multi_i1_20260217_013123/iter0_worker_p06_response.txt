{
  "dialect": "postgres",
  "steps": [
    {
      "op": "insert_cte",
      "by_node_id": "S0",
      "payload": {
        "cte_name": "catalog_customers",
        "cte_query_sql": "SELECT DISTINCT cs_ship_customer_sk FROM catalog_sales JOIN date_dim ON cs_sold_date_sk = d_date_sk WHERE d_year = 2002 AND d_moy BETWEEN 10 AND 10+2 AND cs_list_price BETWEEN 80 AND 169"
      }
    },
    {
      "op": "replace_expr_subtree",
      "by_node_id": "S0",
      "payload": {
        "expr_sql": "NOT EXISTS (SELECT 1 FROM catalog_customers WHERE cs_ship_customer_sk = c.c_customer_sk)",
        "by_anchor_hash": "subquery_not_exists_catalog"
      }
    }
  ]
}