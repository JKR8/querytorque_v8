[
  {
    "target_id": "t1",
    "family": "F",
    "transform": "self_join_to_window",
    "relevance_score": 0.97,
    "hypothesis": "Replace O(n\u00b2) self-join with LAG window function to compute prev_yr metrics in a single pass. Targets Nested Loop (1966.84 ms) in main query.",
    "target_ir": "Q_S0",
    "recommended_examples": [
      "pg_explicit_join_materialized",
      "self_join_to_window"
    ]
  },
  {
    "target_id": "t2",
    "family": "A+E",
    "transform": "push_returns_filter_and_precompute_items",
    "relevance_score": 0.95,
    "hypothesis": "Precompute filtered items (E) and push returns reason_sk filter into returns scans (A). Targets Hash Join (759.088 ms) and Seq Scan on store_returns (782,272 rows).",
    "target_ir": "CTE_Q_S0_all_sales",
    "recommended_examples": [
      "pg_date_cte_explicit_join",
      "multi_dimension_prefetch"
    ]
  },
  {
    "target_id": "t3",
    "family": "F",
    "transform": "comma_to_inner_join",
    "relevance_score": 0.85,
    "hypothesis": "Convert comma join to explicit INNER JOIN + materialize CTE to hint better join order. Fallback if window transform fails.",
    "target_ir": "Q_S0",
    "recommended_examples": [
      "pg_explicit_join_materialized"
    ]
  },
  {
    "target_id": "t4",
    "family": "A",
    "transform": "push_ratio_filter",
    "relevance_score": 0.8,
    "hypothesis": "Push sales_ratio filter into sales table scans. Minimalist backup for fact table reduction.",
    "target_ir": "CTE_Q_S0_all_sales",
    "recommended_examples": [
      "pg_date_cte_explicit_join"
    ]
  }
]