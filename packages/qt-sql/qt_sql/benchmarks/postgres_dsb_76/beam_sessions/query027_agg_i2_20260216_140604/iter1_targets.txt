[
  {
    "target_id": "S0",
    "family": "A+E",
    "transform": "prefilter_dimensions_materialize",
    "relevance_score": 0.98,
    "hypothesis": "Pre-filter all dimension tables (store, item, date_dim, customer_demographics) in CTEs *before* joining with store_sales. Materialize results to break the nested loop. The original Nested Loop took 519ms over 365 date scans. Pre-filtering should reduce store_sales scans to 1.",
    "target_ir": "S0: replace_from with CTEs for all filtered dimensions",
    "recommended_examples": [
      "pg_date_cte_explicit_join",
      "multi_dimension_prefetch"
    ]
  },
  {
    "target_id": "S0",
    "family": "A+F",
    "transform": "explicit_join_early_filter",
    "relevance_score": 0.9,
    "hypothesis": "Convert implicit joins to explicit INNER JOINs while pushing filters into CTEs. Targets the same Nested Loop (519ms) by enabling hash/merge joins instead of index-driven loops.",
    "target_ir": "S0: replace_from with explicit JOINs + insert_cte for filtered dimensions",
    "recommended_examples": [
      "pg_explicit_join_materialized",
      "pg_date_cte_explicit_join"
    ]
  },
  {
    "target_id": "S0",
    "family": "C",
    "transform": "agg_pushdown_with_dimension_filters",
    "relevance_score": 0.85,
    "hypothesis": "Fix t1's regression by adding store/item filters to the pre-aggregation CTE. The original t1 scanned 1.5M store_sales rows (time=180ms). With store/item filters, input to pre_agg should match the original 1-row store scan.",
    "target_ir": "S0: replace_from with filtered pre_agg (include store/item conditions)",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter"
    ]
  },
  {
    "target_id": "S0",
    "family": "B",
    "transform": "decorrelate_fixed",
    "relevance_score": 0.75,
    "hypothesis": "Rescue decorrelation by fixing column references. The original Nested Loop (519ms) suggests per-row execution. Standalone CTEs could eliminate correlation.",
    "target_ir": "S0: replace_from with decorrelated CTEs (corrected column aliases)",
    "recommended_examples": [
      "pg_shared_scan_decorrelate"
    ]
  }
]