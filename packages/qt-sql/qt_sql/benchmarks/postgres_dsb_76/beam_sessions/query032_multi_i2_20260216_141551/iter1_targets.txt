[
  {
    "target_id": "t1_rescue",
    "family": "B+E",
    "transform": "decorrelate_with_prefetch_fixed",
    "relevance_score": 0.95,
    "hypothesis": "Fix literal mismatch in t1 while preserving decorrelation. Precompute date/item filters to reduce catalog_sales scans and avoid per-row subqueries.",
    "target_ir": "insert_cte@S0 (date_filter, item_filter, threshold); replace_where_predicate@46ed3cc4a4ef22ce; replace_from@S0",
    "recommended_examples": [
      "shared_scan_decorrelate",
      "multi_dimension_prefetch"
    ]
  },
  {
    "target_id": "t2_refined",
    "family": "B+E",
    "transform": "base_sales_prefetch",
    "relevance_score": 0.9,
    "hypothesis": "Reuse base_sales CTE (date-filtered) in main query and threshold CTE to avoid duplicate catalog_sales scans. Preserve literals in ratio filter.",
    "target_ir": "insert_cte@S0 (base_sales, item_filter); replace_expr_subtree in threshold CTE; replace_from@S0",
    "recommended_examples": [
      "multi_dimension_prefetch",
      "pg_explicit_join_materialized"
    ]
  },
  {
    "target_id": "t3_novel",
    "family": "A+B",
    "transform": "early_filter_decorrelate",
    "relevance_score": 0.85,
    "hypothesis": "Push item/date filters into CTEs before decorrelation. Pre-aggregate thresholds per item to eliminate per-row subqueries while preserving literals.",
    "target_ir": "insert_cte@S0 (item_filter, date_filter, threshold); delete_expr_subtree (original subquery); replace_where_predicate@46ed3cc4a4ef22ce",
    "recommended_examples": [
      "pg_date_cte_explicit_join",
      "pg_shared_scan_decorrelate"
    ]
  },
  {
    "target_id": "t4_fallback",
    "family": "B",
    "transform": "decorrelate_minimal",
    "relevance_score": 0.8,
    "hypothesis": "Minimal fix for t1: preserve literals verbatim in threshold CTE while decorrelating subquery.",
    "target_ir": "insert_cte@S0 (threshold); replace_where_predicate@46ed3cc4a4ef22ce",
    "recommended_examples": [
      "pg_shared_scan_decorrelate"
    ]
  }
]