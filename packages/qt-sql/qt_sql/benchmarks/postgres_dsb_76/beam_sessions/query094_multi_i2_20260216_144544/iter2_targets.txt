[
  {
    "target_id": "t1",
    "family": "A",
    "transform": "early_filter_web_returns_fixed",
    "relevance_score": 0.95,
    "hypothesis": "Prefilter web_returns for wr_reason_sk in CTE to reduce Seq Scan rows (77,366 \u2192 estimated ~7,700). Fix ambiguous column references via explicit aliasing.",
    "target_ir": "by_anchor_hash: [hash of NOT EXISTS subquery]",
    "recommended_examples": [
      "pg_date_cte_explicit_join"
    ]
  },
  {
    "target_id": "t2",
    "family": "D",
    "transform": "not_exists_to_anti_join",
    "relevance_score": 0.85,
    "hypothesis": "Convert NOT EXISTS to LEFT JOIN ... WHERE NULL to avoid full materialization of web_returns. Enables hash table reuse for Hash Join (4230 rows).",
    "target_ir": "by_anchor_hash: [hash of NOT EXISTS subquery]",
    "recommended_examples": [
      "pg_intersect_to_exists"
    ]
  },
  {
    "target_id": "t3",
    "family": "B+A",
    "transform": "decorrelate_exists_with_early_filter",
    "relevance_score": 0.9,
    "hypothesis": "Precompute multi-warehouse orders in CTE (replacing EXISTS) and prefilter web_returns. Eliminates Index Only Scan (1185 loops \u00d7 0.227 ms = 269 ms) and unfiltered Seq Scan.",
    "target_ir": "by_anchor_hash: [hash of EXISTS subquery] + [hash of NOT EXISTS subquery]",
    "recommended_examples": [
      "pg_shared_scan_decorrelate",
      "pg_date_cte_explicit_join"
    ]
  },
  {
    "target_id": "t4",
    "family": "A",
    "transform": "early_dimension_filters",
    "relevance_score": 0.8,
    "hypothesis": "Push ca_state and web_gmt_offset filters into CTEs to reduce rows earlier for customer_address and web_site scans.",
    "target_ir": "by_anchor_hash: [hash of ca_state/web_gmt_offset predicates]",
    "recommended_examples": [
      "pg_date_cte_explicit_join"
    ]
  }
]