[
  {
    "target_id": "S0",
    "family": "A+E",
    "transform": "early_filter_date_prefetch_literal_fix",
    "relevance_score": 0.95,
    "hypothesis": "Filter d1, item, and hd early in CTEs. Precompute d1-d2 date pairs to eliminate the 1.16M-row nested loop. Preserve literals (76 * 0.01) to avoid structural mismatch.",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_date_cte_explicit_join",
      "multi_dimension_prefetch"
    ]
  },
  {
    "target_id": "S0",
    "family": "C",
    "transform": "agg_pushdown_before_joins",
    "relevance_score": 0.85,
    "hypothesis": "Aggregate store_sales/store_returns by ss_customer_sk and ss_item_sk before joining with customer/item. Reduces input to the 222K-row Hash Join and 31K-row Nested Loop.",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter"
    ]
  },
  {
    "target_id": "S0:f2ece665ad1a915f",
    "family": "F",
    "transform": "explicit_join_literal_preserve",
    "relevance_score": 0.8,
    "hypothesis": "Restructure joins explicitly starting with filtered d1 \u2192 store_returns \u2192 store_sales. Preserve literal expressions (76 * 0.01) to avoid prior failures.",
    "target_ir": "S0:f2ece665ad1a915f",
    "recommended_examples": [
      "pg_explicit_join_materialized"
    ]
  },
  {
    "target_id": "S0",
    "family": "B",
    "transform": "decorrelate_date_scan",
    "relevance_score": 0.75,
    "hypothesis": "Decorrelate d2.d_date BETWEEN... by precomputing valid d1-d2 pairs in a CTE. Eliminates per-row date math in the nested loop.",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_shared_scan_decorrelate"
    ]
  }
]