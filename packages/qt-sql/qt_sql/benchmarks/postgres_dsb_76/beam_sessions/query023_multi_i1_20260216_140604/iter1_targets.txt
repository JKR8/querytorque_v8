[
  {
    "target_id": "CTE_Q_S0_best_ss_customer",
    "family": "F+E",
    "transform": "explicit_join_then_materialize",
    "relevance_score": 0.95,
    "hypothesis": "Restructure best_ss_customer with explicit JOINs to replace nested loops (2633 ms) with hash joins, then materialize for reuse in main query. Targets 24K-row scan.",
    "target_ir": "CTE_Q_S0_best_ss_customer",
    "recommended_examples": [
      "pg_explicit_join_materialized",
      "multi_dimension_prefetch"
    ]
  },
  {
    "target_id": "89fc2fb260a938e8",
    "family": "A",
    "transform": "push_item_filters_early",
    "relevance_score": 0.85,
    "hypothesis": "Push i_manager_id and i_category filters into item scan (6872 rows \u2192 3436 rows) to shrink nested loop input. Targets 452K-row operator.",
    "target_ir": "89fc2fb260a938e8",
    "recommended_examples": [
      "pg_date_cte_explicit_join"
    ]
  },
  {
    "target_id": "CTE_Q_S0_max_store_sales",
    "family": "C",
    "transform": "preaggregate_store_sales",
    "relevance_score": 0.8,
    "hypothesis": "Aggregate store_sales by c_customer_sk *before* joining customer and date_dim to reduce sort input from 135K rows.",
    "target_ir": "CTE_Q_S0_max_store_sales",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter"
    ]
  },
  {
    "target_id": "CTE_Q_S0_best_ss_customer",
    "family": "B",
    "transform": "decorrelate_scalar_subquery",
    "relevance_score": 0.75,
    "hypothesis": "Replace scalar subquery (SELECT * FROM max_store_sales) with a cross join to compute threshold once, avoiding per-group re-access.",
    "target_ir": "CTE_Q_S0_best_ss_customer",
    "recommended_examples": [
      "pg_shared_scan_decorrelate"
    ]
  }
]