{
  "plan_id": "postgres_price_ratio_rewrite",
  "dialect": "postgres",
  "description": "Rewrite division-based price ratio filter to multiplicative form to enable index usage and reduce per-row computation cost.",
  "preconditions": [
    {
      "kind": "parse_ok"
    }
  ],
  "postconditions": [
    {
      "kind": "parse_ok"
    }
  ],
  "steps": [
    {
      "step_id": "s1",
      "op": "replace_where_predicate",
      "target": {
        "by_node_id": "S0",
        "by_anchor_hash": "57528f4c700e359a"
      },
      "payload": {
        "expr_sql": "ss_sales_price BETWEEN 0.65 * ss_list_price AND 0.85 * ss_list_price AND d_date_sk = ss_sold_date_sk"
      },
      "description": "Replace division-based filter with equivalent multiplicative range predicate"
    }
  ]
}