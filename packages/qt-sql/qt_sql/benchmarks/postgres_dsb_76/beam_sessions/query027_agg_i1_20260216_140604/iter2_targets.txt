[
  {
    "target_id": "S0",
    "family": "A+F",
    "transform": "early_filter_explicit_joins",
    "relevance_score": 0.95,
    "hypothesis": "Push filters into CTEs for all dimensions (A) and restructure joins explicitly (F) to reduce input rows to the expensive Nested Loop (time=7.458) by isolating filtered date_dim (365 rows) and store (s_state='IA') early.",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_date_cte_explicit_join",
      "pg_explicit_join_materialized"
    ]
  },
  {
    "target_id": "S0",
    "family": "A+C",
    "transform": "agg_pushdown_after_early_filter",
    "relevance_score": 0.85,
    "hypothesis": "After CTE filtering (A), push aggregation to store_sales using ss_item_sk, ss_store_sk to reduce rows processed by the Nested Loop (time=7.458) and final Aggregate (time=7.898).",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter",
      "pg_date_cte_explicit_join"
    ]
  },
  {
    "target_id": "S0",
    "family": "A+C",
    "transform": "fixed_agg_pushdown",
    "relevance_score": 0.8,
    "hypothesis": "Fix t1's error by including s_state in filtered_store CTE. Pre-aggregate store_sales after joining CTEs to reduce input to the final Aggregate (time=7.898).",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter"
    ]
  },
  {
    "target_id": "S0",
    "family": "E",
    "transform": "prefetch_dimensions",
    "relevance_score": 0.75,
    "hypothesis": "Materialize all filtered dimensions in CTEs to avoid repeated scans (e.g., Seq Scan on store) and reduce nested loop overhead.",
    "target_ir": "S0",
    "recommended_examples": [
      "multi_dimension_prefetch"
    ]
  }
]