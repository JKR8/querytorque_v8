[
  {
    "target_id": "t1",
    "family": "A+C",
    "transform": "early_filter_plus_agg_pushdown",
    "relevance_score": 0.95,
    "hypothesis": "Prefilter dimensions (A) to reduce date_dim scan from 365 to 122 rows, then aggregate store_sales with item/store before joining customer_demographics to shrink the Nested Loop bottleneck (7.458ms).",
    "target_ir": "S0: insert_cte for date_dim, store, item; e163f15ec5db8f48: replace store_sales scan with aggregated subquery (GROUP BY ss_item_sk, ss_store_sk) joined to prefiltered dimensions.",
    "recommended_examples": [
      "pg_date_cte_explicit_join",
      "pg_materialized_dimension_fact_prefilter"
    ]
  },
  {
    "target_id": "t2",
    "family": "F",
    "transform": "rescue_explicit_joins",
    "relevance_score": 0.85,
    "hypothesis": "Fix syntax from failed t3 to enable explicit joins, replacing nested loops (7.458ms) with hash joins by reordering joins and pushing filters to ON clauses.",
    "target_ir": "S0: replace_from to convert comma joins to explicit INNER JOIN; e163f15ec5db8f48: delete_expr_subtree (join conditions) and move to ON clauses.",
    "recommended_examples": [
      "pg_explicit_join_materialized"
    ]
  },
  {
    "target_id": "t3",
    "family": "A",
    "transform": "date_dim_cte_isolate",
    "relevance_score": 0.8,
    "hypothesis": "Target only date_dim scan (1.833ms, 365 rows) with a lightweight CTE to reduce rows to 122, avoiding full materialization overhead from failed t1.",
    "target_ir": "S0: insert_cte for date_dim (d_date_sk WHERE d_year=2002); replace_from to join store_sales directly with date_dim CTE.",
    "recommended_examples": [
      "pg_date_cte_explicit_join"
    ]
  }
]