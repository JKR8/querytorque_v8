[
  {
    "target_id": "t1",
    "family": "A+B",
    "transform": "push_store_state_reason_into_cte_fixed",
    "relevance_score": 0.95,
    "hypothesis": "Push store state and reason filters into CTE to reduce its output rows (currently 582). Remove 'store' join from main query. Fixes literal mismatch from prior failure.",
    "target_ir": "S0: replace_where_predicate(anchor_hash='a05952426f9ba20b') to remove store/reason filters; replace_from(anchor_hash='S0') to remove 'store' table; replace_where_predicate(anchor_hash='ddc05012d854ff26') to add store join + filters to CTE.",
    "recommended_examples": [
      "pg_date_cte_explicit_join",
      "shared_scan_decorrelate"
    ]
  },
  {
    "target_id": "t2",
    "family": "A+B",
    "transform": "push_customer_demographics_into_cte",
    "relevance_score": 0.85,
    "hypothesis": "Push customer/demographics filters into CTE to further reduce rows. Current CTE scan (10,857 ms) dominates runtime; fewer rows accelerate decorrelated subquery.",
    "target_ir": "S0: replace_from(anchor_hash='S0') to remove customer/demographics tables; replace_where_predicate(anchor_hash='ddc05012d854ff26') to add customer/demographics joins + filters to CTE.",
    "recommended_examples": [
      "pg_date_cte_explicit_join",
      "multi_dimension_prefetch"
    ]
  },
  {
    "target_id": "t3",
    "family": "A+B+F",
    "transform": "cte_join_reorder_store_first",
    "relevance_score": 0.8,
    "hypothesis": "Reorder CTE joins: start with 'store' (9 rows) to filter states early. Reduces store_returns scans during CTE computation.",
    "target_ir": "S0: replace_from(anchor_hash='ddc05012d854ff26') to change join order to store \u2192 store_returns \u2192 date_dim.",
    "recommended_examples": [
      "pg_explicit_join_materialized",
      "pg_date_cte_explicit_join"
    ]
  }
]