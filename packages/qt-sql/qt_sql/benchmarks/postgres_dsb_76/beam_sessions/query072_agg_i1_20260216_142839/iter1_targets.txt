[
  {
    "target_id": "t1_plus_A",
    "family": "A+E",
    "transform": "prefetch_dates_and_filter_demographics",
    "relevance_score": 0.95,
    "hypothesis": "Add CTEs to pre-filter customer_demographics (cd_marital_status='U', cd_dep_count=9-11) and household_demographics (hd_buy_potential='>10000') while retaining date_dim prefetch. Targets the 36ms Seq Scan on customer_demographics in t1's plan.",
    "target_ir": "S0",
    "recommended_examples": [
      "dimension_filter_pushdown",
      "multi_dimension_prefetch"
    ]
  },
  {
    "target_id": "t1_cd_filter",
    "family": "A",
    "transform": "customer_demographics_pushdown",
    "relevance_score": 0.9,
    "hypothesis": "Filter customer_demographics early via CTE to avoid full Seq Scan (36ms in t1). Use WHERE-clause anchor to ensure predicates are pushed before joins.",
    "target_ir": "S0",
    "recommended_examples": [
      "dimension_filter_pushdown"
    ]
  },
  {
    "target_id": "t1_fixed_t3",
    "family": "F",
    "transform": "date_self_join_elimination_fixed",
    "relevance_score": 0.8,
    "hypothesis": "Fix t3's alias error and eliminate date_dim self-join. Targets the residual join overhead in t1's Nested Loops after date prefetch.",
    "target_ir": "S0",
    "recommended_examples": [
      "date_self_join_elimination"
    ]
  },
  {
    "target_id": "t1_agg_pushdown",
    "family": "C",
    "transform": "aggregate_before_joins",
    "relevance_score": 0.75,
    "hypothesis": "Pre-aggregate catalog_sales by item_sk/sold_date_sk to shrink the 163K-row Nested Loop in the original plan. Viable since GROUP BY keys include item and date_dim columns.",
    "target_ir": "S0",
    "recommended_examples": [
      "materialized_dimension_fact_prefilter"
    ]
  }
]