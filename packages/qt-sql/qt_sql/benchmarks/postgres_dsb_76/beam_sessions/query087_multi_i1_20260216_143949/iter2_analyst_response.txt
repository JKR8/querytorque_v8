### Step 1 — Compare EXPLAIN Plans

**WIN: t1_comb (2.08x)**  
- **Improved operators**:  
  - Original: `Nested Loop  (rows=0, time=539.122)`  
  - Winner: `Nested Loop  (rows=0, time=402.147)`  
  - Structural change: Converted `EXCEPT` to `NOT EXISTS` anti-joins (Family D), avoiding full materialization of intermediate results.  
- **Most expensive remaining operator**:  
  `Nested Loop  (rows=0, time=402.147)` on `store_sales` (still dominates execution time).  

**REGRESSION: t3_rescue (0.92x)**  
- **Worsened operators**:  
  `Nested Loop  (rows=0, time=797.397)` (vs. original 539.122 ms)  
  - Why: Materialized CTEs (`filtered_dates`/`filtered_customers`) forced repeated scans and expensive merge joins, negating anti-join gains.  

**REGRESSION: t2_refine (0.42x)**  
- **Worsened operators**:  
  `Unique  (rows=0, time=1299.683)` (vs. original 558.208 ms)  
  - Why: Premature `DISTINCT` pushdown (Family C) on large sales tables increased hashing/sorting costs.  

**Classification**:  
t1_comb is **COMPLEMENTARY**—it optimized set operations but left nested loops on large tables unaddressed. Other patches failed to resolve this bottleneck.

---

### Step 2 — Design Targets

**Baseline**: t1_comb (2.08x WIN).  
**Primary bottleneck**: `Nested Loop` on `store_sales` (402 ms).  
**Hypothesis**: Pre-filter dimensions to reduce rows fed into the nested loop.  

**Target 1: Combination (D+E)**  
- **Family**: D + E  
- **Transform**: `prefilter_dimensions_then_except_to_exists`  
- **Target ID**: `t1`  
- **Relevance**: 0.95  
- **Hypothesis**: Precompute filtered `date_dim` and `customer` (Family E) to reduce rows in the `Nested Loop` (402 ms). Layer this onto t1_comb’s anti-joins (Family D) to avoid regressions.  
- **Target IR**: `S0`  
- **Examples**: `multi_dimension_prefetch`, `pg_intersect_to_exists`  

```json
[
  {
    "family": "D+E",
    "transform": "prefilter_dimensions_then_except_to_exists",
    "target_id": "t1",
    "relevance_score": 0.95,
    "hypothesis": "Precompute filtered date_dim (rows=182) and customer (rows=47740) to shrink input to the Nested Loop (402 ms). Combine with t1_comb's anti-joins to avoid materialization costs.",
    "target_ir": "S0",
    "recommended_examples": ["multi_dimension_prefetch", "pg_intersect_to_exists"]
  }
]
```