[
  {
    "target_id": "S0",
    "family": "E+A",
    "transform": "prefilter_date_and_item",
    "relevance_score": 0.95,
    "hypothesis": "Precompute filtered date_dim (E) and item (A) to eliminate repeated scans and reduce join rows. Original shows 36k date_dim scans and late item filtering (0 rows).",
    "target_ir": "Insert CTEs: [filtered_date, filtered_item]. Replace FROM in sr_items/cr_items/wr_items CTEs. Anchor: WHERE [43a1cae356b71ca0], [e7bb6d054d52da05], [c6536d60a94eb699].",
    "recommended_examples": [
      "multi_dimension_prefetch",
      "pg_date_cte_explicit_join"
    ]
  },
  {
    "target_id": "S0",
    "family": "B",
    "transform": "decorrelate_date_subquery",
    "relevance_score": 0.85,
    "hypothesis": "Convert nested date_dim subqueries to a JOIN. Plan shows correlated execution (Nested Loop at 4.491 ms).",
    "target_ir": "Replace WHERE subquery in sr_items/cr_items/wr_items CTEs with JOIN. Anchor: WHERE [43a1cae356b71ca0], [e7bb6d054d52da05], [c6536d60a94eb699].",
    "recommended_examples": [
      "pg_shared_scan_decorrelate"
    ]
  },
  {
    "target_id": "S0",
    "family": "E+F",
    "transform": "prefilter_date_explicit_join",
    "relevance_score": 0.8,
    "hypothesis": "Materialize date_dim and convert comma joins to explicit INNER JOIN. Plan shows inefficient comma joins (Hash Join at 10.932 ms).",
    "target_ir": "Insert CTE: filtered_date. Replace FROM in sr_items/cr_items/wr_items with explicit JOIN. Anchor: WHERE [43a1cae356b71ca0], [e7bb6d054d52da05], [c6536d60a94eb699].",
    "recommended_examples": [
      "multi_dimension_prefetch",
      "pg_explicit_join_materialized"
    ]
  },
  {
    "target_id": "t1",
    "family": "E",
    "transform": "prefilter_date_rescue",
    "relevance_score": 0.75,
    "hypothesis": "Reapply materialization (E) while preserving literals. Original t1 failed due to literal changes in main query.",
    "target_ir": "Insert CTE: filtered_date. Keep main query unchanged. Anchor: WHERE [43a1cae356b71ca0], [e7bb6d054d52da05], [c6536d60a94eb699].",
    "recommended_examples": [
      "multi_dimension_prefetch"
    ]
  }
]