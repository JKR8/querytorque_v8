[
  {
    "target_id": "t1",
    "family": "A+F",
    "transform": "prefilter_dates_explicit_join",
    "relevance_score": 0.97,
    "hypothesis": "Restore hash join by converting comma joins to explicit INNER JOINs while keeping date prefetching. Targets the Nested Loop (357.996 ms) by forcing set-based joins.",
    "target_ir": "CTE_Q_S0_sr_items: replace_from to 'store_returns INNER JOIN filtered_dates ON ... INNER JOIN item ON ...'",
    "recommended_examples": [
      "pg_date_cte_explicit_join",
      "pg_explicit_join_materialized"
    ]
  },
  {
    "target_id": "t2",
    "family": "C",
    "transform": "aggregate_store_returns_first",
    "relevance_score": 0.9,
    "hypothesis": "Pre-aggregate store_returns before joining dimensions. Reduces input rows to the expensive Nested Loop (84 rows currently).",
    "target_ir": "CTE_Q_S0_sr_items: replace_expr_subtree to aggregate store_returns by sr_item_sk before joining item/dates.",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter"
    ]
  },
  {
    "target_id": "t3",
    "family": "B",
    "transform": "decorrelate_date_subquery",
    "relevance_score": 0.85,
    "hypothesis": "Eliminate correlated subqueries in date filter to avoid repeated scans. Targets Index Only Scan (5.28 ms) executed multiple times.",
    "target_ir": "S0: replace_expr_subtree at date subquery anchor_hash to standalone CTE with d_month_seq GROUP BY.",
    "recommended_examples": [
      "pg_shared_scan_decorrelate"
    ]
  }
]