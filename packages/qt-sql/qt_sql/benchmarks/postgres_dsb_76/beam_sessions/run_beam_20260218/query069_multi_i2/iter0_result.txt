{
  "iteration": 0,
  "n_api_calls": 17,
  "beam_cost_usd": 0.0482228,
  "beam_cost_priced_calls": 17,
  "beam_cost_unpriced_calls": 0,
  "beam_token_totals": {
    "prompt_tokens": 232343,
    "completion_tokens": 24315,
    "total_tokens": 256658,
    "prompt_cache_hit_tokens": 0,
    "prompt_cache_miss_tokens": 0,
    "cached_tokens": 123328,
    "reasoning_tokens": 5488
  },
  "best_speedup": 0.0,
  "best_patch_id": null,
  "best_sql": null,
  "patches": [
    {
      "patch_id": "p02",
      "family": "F",
      "transform": "date_cte_explicit_join",
      "relevance_score": 0.75,
      "status": "REGRESSION",
      "speedup": 0.58,
      "semantic_passed": true,
      "error": null,
      "original_ms": 312.2,
      "patch_ms": 538.7,
      "output_sql": "WITH date_range AS (SELECT d_date_sk FROM date_dim WHERE d_year = 1999 AND d_moy BETWEEN 3 AND 5) SELECT cd_gender, cd_marital_status, cd_education_status, count(*) cnt1, cd_purchase_estimate, count(*) cnt2, cd_credit_rating, count(*) cnt3 FROM customer c JOIN customer_address ca ON c.c_current_addr_sk = ca.ca_address_sk JOIN customer_demographics cd ON cd_demo_sk = c.c_current_cdemo_sk WHERE ca_state IN ('GA','KY','SD') AND cd_marital_status IN ('D', 'W', 'U') AND cd_education_status IN ('Primary', 'College') AND EXISTS (SELECT * FROM store_sales ss JOIN date_range dr ON ss.ss_sold_date_sk = dr.d_date_sk WHERE c.c_customer_sk = ss.ss_customer_sk AND ss.ss_list_price BETWEEN 52 AND 141) AND (NOT EXISTS (SELECT * FROM web_sales ws JOIN date_range dr ON ws.ws_sold_date_sk = dr.d_date_sk WHERE c.c_customer_sk = ws.ws_bill_customer_sk AND ws.ws_list_price BETWEEN 52 AND 141) AND NOT EXISTS (SELECT * FROM catalog_sales cs JOIN date_range dr ON cs.cs_sold_date_sk = dr.d_date_sk WHERE c.c_customer_sk = cs.cs_ship_customer_sk AND cs.cs_list_price BETWEEN 52 AND 141)) GROUP BY cd_gender, cd_marital_status, cd_education_status, cd_purchase_estimate, cd_credit_rating ORDER BY cd_gender, cd_marital_status, cd_education_status, cd_purchase_estimate, cd_credit_rating LIMIT 100;",
      "has_explain": true,
      "description": "[scout:qwen/qwen3-coder] Extract date range filter into a CTE, convert comma joins to explicit JOIN syntax, and pre\u2011filter dimensions to create tiny hash tables."
    },
    {
      "patch_id": "p01",
      "family": "B",
      "transform": "early_filter_decorrelate",
      "relevance_score": 0.85,
      "status": "REGRESSION",
      "speedup": 0.39,
      "semantic_passed": true,
      "error": null,
      "original_ms": 312.2,
      "patch_ms": 796.2,
      "output_sql": "WITH customer_base AS (SELECT c.c_customer_sk, c.c_current_addr_sk, c.c_current_cdemo_sk, ca.ca_state, cd.cd_demo_sk, cd.cd_marital_status, cd.cd_education_status FROM customer c JOIN customer_address ca ON c.c_current_addr_sk = ca.ca_address_sk JOIN customer_demographics cd ON cd.cd_demo_sk = c.c_current_cdemo_sk WHERE ca.ca_state IN ('GA','KY','SD') AND cd.cd_marital_status IN ('D', 'W', 'U') AND cd.cd_education_status IN ('Primary', 'College')), store_custs AS (SELECT DISTINCT ss.ss_customer_sk FROM store_sales ss JOIN date_dim d ON ss.ss_sold_date_sk = d.d_date_sk WHERE d.d_year = 1999 AND d.d_moy BETWEEN 3 AND 5 AND ss.ss_list_price BETWEEN 52 AND 141), web_custs AS (SELECT DISTINCT ws.ws_bill_customer_sk FROM web_sales ws JOIN date_dim d ON ws.ws_sold_date_sk = d.d_date_sk WHERE d.d_year = 1999 AND d.d_moy BETWEEN 3 AND 5 AND ws.ws_list_price BETWEEN 52 AND 141), catalog_custs AS (SELECT DISTINCT cs.cs_ship_customer_sk FROM catalog_sales cs JOIN date_dim d ON cs.cs_sold_date_sk = d.d_date_sk WHERE d.d_year = 1999 AND d.d_moy BETWEEN 3 AND 5 AND cs.cs_list_price BETWEEN 52 AND 141) SELECT cd.cd_gender, cd.cd_marital_status, cd.cd_education_status, COUNT(*) AS cnt1, cd.cd_purchase_estimate, COUNT(*) AS cnt2, cd.cd_credit_rating, COUNT(*) AS cnt3 FROM customer c JOIN customer_address ca ON c.c_current_addr_sk = ca.ca_address_sk JOIN customer_demographics cd ON cd.cd_demo_sk = c.c_current_cdemo_sk LEFT JOIN store_custs ss ON c.c_customer_sk = ss.ss_customer_sk LEFT JOIN web_custs ws ON c.c_customer_sk = ws.ws_bill_customer_sk LEFT JOIN catalog_custs cs ON c.c_customer_sk = cs.cs_ship_customer_sk WHERE ca.ca_state IN ('GA','KY','SD') AND cd.cd_marital_status IN ('D', 'W', 'U') AND cd.cd_education_status IN ('Primary', 'College') AND ss.ss_customer_sk IS NOT NULL AND ws.ws_bill_customer_sk IS NULL AND cs.cs_ship_customer_sk IS NULL GROUP BY cd.cd_gender, cd.cd_marital_status, cd.cd_education_status, cd.cd_purchase_estimate, cd.cd_credit_rating ORDER BY cd.cd_gender, cd.cd_marital_status, cd.cd_education_status, cd.cd_purchase_estimate, cd.cd_credit_rating LIMIT 100;",
      "has_explain": true,
      "description": "[scout:qwen/qwen3-coder] Decorrelate EXISTS and NOT EXISTS subqueries by pre-computing distinct customer keys from each sales channel within the date range, then anti-join for NOT EXISTS."
    },
    {
      "patch_id": "p03",
      "family": "F",
      "transform": "dimension_prefetch_star",
      "relevance_score": 0.7,
      "status": "FAIL",
      "speedup": null,
      "semantic_passed": false,
      "error": "Retry failed: Missing SQL for tree node `sales_check`",
      "original_ms": null,
      "patch_ms": null,
      "output_sql": null,
      "has_explain": false,
      "description": "[scout:qwen/qwen3-coder] Pre\u2011filter all selective dimensions (customer_address, customer_demographics, date_dim) into separate CTEs, then join with customer and sales channel keysets."
    },
    {
      "patch_id": "p05",
      "family": "A",
      "transform": "shared_dimension_multi_channel",
      "relevance_score": 0.55,
      "status": "REGRESSION",
      "speedup": 0.78,
      "semantic_passed": true,
      "error": null,
      "original_ms": 312.2,
      "patch_ms": 398.9,
      "output_sql": "select \n  cd_gender,\n  cd_marital_status,\n  cd_education_status,\n  count(*) cnt1,\n  cd_purchase_estimate,\n  count(*) cnt2,\n  cd_credit_rating,\n  count(*) cnt3\n from\n  customer c,customer_address ca,customer_demographics\n where\n  c.c_current_addr_sk = ca.ca_address_sk and\n  ca_state in ('GA','KY','SD') and\n  cd_demo_sk = c.c_current_cdemo_sk\n  and cd_marital_status in ('D', 'W', 'U')\n  and cd_education_status in ('Primary', 'College') and\n  exists (select *\n          from store_sales,date_dim\n          where c.c_customer_sk = ss_customer_sk and\n                ss_sold_date_sk = d_date_sk and\n                d_year = 1999 and\n                d_moy between 3 and 3+2\n                and ss_list_price between 52 and 141\n          ) and\n   (not exists (select *\n            from web_sales,date_dim\n            where c.c_customer_sk = ws_bill_customer_sk and\n                  ws_sold_date_sk = d_date_sk and\n                  d_year = 1999 and\n                  d_moy between 3 and 3+2\n                  and ws_list_price between 52 and 141\n            ) and\n    not exists (select *\n            from catalog_sales,date_dim\n            where c.c_customer_sk = cs_ship_customer_sk and\n                  cs_sold_date_sk = d_date_sk and\n                  d_year = 1999 and\n                  d_moy between 3 and 3+2\n                  and cs_list_price between 52 and 141)\n            )\n group by cd_gender,\n          cd_marital_status,\n          cd_education_status,\n          cd_purchase_estimate,\n          cd_credit_rating\n order by cd_gender,\n          cd_marital_status,\n          cd_education_status,\n          cd_purchase_estimate,\n          cd_credit_rating\n limit 100;",
      "has_explain": true,
      "description": "[scout:qwen/qwen3-coder] Extract shared date range filter into a single CTE, reuse it across all three sales channel subqueries to avoid repeated date_dim scans."
    },
    {
      "patch_id": "p08",
      "family": "F",
      "transform": "materialized_dimension_fact_prefilter",
      "relevance_score": 0.6,
      "status": "DEDUP",
      "speedup": null,
      "semantic_passed": false,
      "error": null,
      "original_ms": null,
      "patch_ms": null,
      "output_sql": "select \n  cd_gender,\n  cd_marital_status,\n  cd_education_status,\n  count(*) cnt1,\n  cd_purchase_estimate,\n  count(*) cnt2,\n  cd_credit_rating,\n  count(*) cnt3\n from\n  customer c,customer_address ca,customer_demographics\n where\n  c.c_current_addr_sk = ca.ca_address_sk and\n  ca_state in ('GA','KY','SD') and\n  cd_demo_sk = c.c_current_cdemo_sk\n  and cd_marital_status in ('D', 'W', 'U')\n  and cd_education_status in ('Primary', 'College') and\n  exists (select *\n          from store_sales,date_dim\n          where c.c_customer_sk = ss_customer_sk and\n                ss_sold_date_sk = d_date_sk and\n                d_year = 1999 and\n                d_moy between 3 and 3+2\n                and ss_list_price between 52 and 141\n          ) and\n   (not exists (select *\n            from web_sales,date_dim\n            where c.c_customer_sk = ws_bill_customer_sk and\n                  ws_sold_date_sk = d_date_sk and\n                  d_year = 1999 and\n                  d_moy between 3 and 3+2\n                  and ws_list_price between 52 and 141\n            ) and\n    not exists (select *\n            from catalog_sales,date_dim\n            where c.c_customer_sk = cs_ship_customer_sk and\n                  cs_sold_date_sk = d_date_sk and\n                  d_year = 1999 and\n                  d_moy between 3 and 3+2\n                  and cs_list_price between 52 and 141)\n            )\n group by cd_gender,\n          cd_marital_status,\n          cd_education_status,\n          cd_purchase_estimate,\n          cd_credit_rating\n order by cd_gender,\n          cd_marital_status,\n          cd_education_status,\n          cd_purchase_estimate,\n          cd_credit_rating\n limit 100;",
      "has_explain": false,
      "description": "[scout:qwen/qwen3-coder] Pre\u2011filter date_dim and sales tables into a materialized CTE per channel, then join with filtered customer set."
    },
    {
      "patch_id": "p04",
      "family": "B",
      "transform": "inline_decorrelate_materialized",
      "relevance_score": 0.65,
      "status": "REGRESSION",
      "speedup": 0.39,
      "semantic_passed": true,
      "error": null,
      "original_ms": 312.2,
      "patch_ms": 796.3,
      "output_sql": "WITH store_sales_keys AS (SELECT DISTINCT ss_customer_sk FROM store_sales JOIN date_dim ON ss_sold_date_sk = d_date_sk WHERE d_year = 1999 AND d_moy BETWEEN 3 AND 5 AND ss_list_price BETWEEN 52 AND 141), web_sales_keys AS (SELECT DISTINCT ws_bill_customer_sk FROM web_sales JOIN date_dim ON ws_sold_date_sk = d_date_sk WHERE d_year = 1999 AND d_moy BETWEEN 3 AND 5 AND ws_list_price BETWEEN 52 AND 141), catalog_sales_keys AS (SELECT DISTINCT cs_ship_customer_sk FROM catalog_sales JOIN date_dim ON cs_sold_date_sk = d_date_sk WHERE d_year = 1999 AND d_moy BETWEEN 3 AND 5 AND cs_list_price BETWEEN 52 AND 141) SELECT cd_gender, cd_marital_status, cd_education_status, COUNT(*) AS cnt1, cd_purchase_estimate, COUNT(*) AS cnt2, cd_credit_rating, COUNT(*) AS cnt3 FROM customer c JOIN customer_address ca ON c.c_current_addr_sk = ca.ca_address_sk JOIN customer_demographics cd ON cd_demo_sk = c.c_current_cdemo_sk WHERE ca_state IN ('GA','KY','SD') AND cd_marital_status IN ('D', 'W', 'U') AND cd_education_status IN ('Primary', 'College') AND EXISTS (SELECT 1 FROM store_sales_keys sk WHERE sk.ss_customer_sk = c.c_customer_sk) AND NOT EXISTS (SELECT 1 FROM web_sales_keys wk WHERE wk.ws_bill_customer_sk = c.c_customer_sk) AND NOT EXISTS (SELECT 1 FROM catalog_sales_keys ck WHERE ck.cs_ship_customer_sk = c.c_customer_sk) GROUP BY cd_gender, cd_marital_status, cd_education_status, cd_purchase_estimate, cd_credit_rating ORDER BY cd_gender, cd_marital_status, cd_education_status, cd_purchase_estimate, cd_credit_rating LIMIT 100;",
      "has_explain": true,
      "description": "[scout:qwen/qwen3-coder] Use MATERIALIZED CTEs to pre\u2011compute sales channel keysets, forcing PostgreSQL to materialize them once and avoid per\u2011row re\u2011execution."
    },
    {
      "patch_id": "p06",
      "family": "E",
      "transform": "pg_self_join_decomposition",
      "relevance_score": 0.5,
      "status": "REGRESSION",
      "speedup": 0.43,
      "semantic_passed": true,
      "error": null,
      "original_ms": 312.2,
      "patch_ms": 722.0,
      "output_sql": "WITH customer_base AS (SELECT c.c_customer_sk, cd.cd_gender, cd.cd_marital_status, cd.cd_education_status, cd.cd_purchase_estimate, cd.cd_credit_rating FROM customer c JOIN customer_address ca ON c.c_current_addr_sk = ca.ca_address_sk JOIN customer_demographics cd ON cd.cd_demo_sk = c.c_current_cdemo_sk WHERE ca.ca_state IN ('GA','KY','SD') AND cd.cd_marital_status IN ('D', 'W', 'U') AND cd.cd_education_status IN ('Primary', 'College')), store_sales_keys AS (SELECT DISTINCT ss.ss_customer_sk FROM store_sales ss JOIN date_dim d ON ss.ss_sold_date_sk = d.d_date_sk WHERE d.d_year = 1999 AND d.d_moy BETWEEN 3 AND 5 AND ss.ss_list_price BETWEEN 52 AND 141), web_sales_keys AS (SELECT DISTINCT ws.ws_bill_customer_sk AS ws_customer_sk FROM web_sales ws JOIN date_dim d ON ws.ws_sold_date_sk = d.d_date_sk WHERE d.d_year = 1999 AND d.d_moy BETWEEN 3 AND 5 AND ws.ws_list_price BETWEEN 52 AND 141), catalog_sales_keys AS (SELECT DISTINCT cs.cs_ship_customer_sk AS cs_customer_sk FROM catalog_sales cs JOIN date_dim d ON cs.cs_sold_date_sk = d.d_date_sk WHERE d.d_year = 1999 AND d.d_moy BETWEEN 3 AND 5 AND cs.cs_list_price BETWEEN 52 AND 141) SELECT cd_gender, cd_marital_status, cd_education_status, COUNT(*) cnt1, cd_purchase_estimate, COUNT(*) cnt2, cd_credit_rating, COUNT(*) cnt3 FROM customer_base cb JOIN store_sales_keys ss ON cb.c_customer_sk = ss.ss_customer_sk LEFT JOIN web_sales_keys ws ON cb.c_customer_sk = ws.ws_customer_sk LEFT JOIN catalog_sales_keys cs ON cb.c_customer_sk = cs.cs_customer_sk WHERE ws.ws_customer_sk IS NULL AND cs.cs_customer_sk IS NULL GROUP BY cd_gender, cd_marital_status, cd_education_status, cd_purchase_estimate, cd_credit_rating ORDER BY cd_gender, cd_marital_status, cd_education_status, cd_purchase_estimate, cd_credit_rating LIMIT 100;",
      "has_explain": true,
      "description": "[scout:qwen/qwen3-coder] Materialize the filtered customer join (customer, address, demographics) into a CTE, then join with pre\u2011computed sales channel keysets."
    },
    {
      "patch_id": "p07",
      "family": "C",
      "transform": "channel_bitmap_aggregation",
      "relevance_score": 0.45,
      "status": "FAIL",
      "speedup": null,
      "semantic_passed": false,
      "error": "Row count: orig=80, patch=100",
      "original_ms": null,
      "patch_ms": null,
      "output_sql": "WITH customer_joins AS (SELECT c.c_customer_sk, c.c_current_cdemo_sk FROM customer c JOIN customer_address ca ON c.c_current_addr_sk = ca.ca_address_sk WHERE ca.ca_state IN ('GA', 'KY', 'SD')), sales_union AS (WITH sales_union AS (SELECT ss_customer_sk AS customer_sk, 'store' AS channel FROM store_sales JOIN date_dim ON ss_sold_date_sk = d_date_sk WHERE d_year = 1999 AND d_moy BETWEEN 3 AND 5 AND ss_list_price BETWEEN 52 AND 141 UNION ALL SELECT ws_bill_customer_sk AS customer_sk, 'web' AS channel FROM web_sales JOIN date_dim ON ws_sold_date_sk = d_date_sk WHERE d_year = 1999 AND d_moy BETWEEN 3 AND 5 AND ws_list_price BETWEEN 52 AND 141 UNION ALL SELECT cs_ship_customer_sk AS customer_sk, 'catalog' AS channel FROM catalog_sales JOIN date_dim ON cs_sold_date_sk = d_date_sk WHERE d_year = 1999 AND d_moy BETWEEN 3 AND 5 AND cs_list_price BETWEEN 52 AND 141) SELECT customer_sk, BOOL_OR(channel = 'store') AS store_present, BOOL_OR(channel = 'web') AS web_present, BOOL_OR(channel = 'catalog') AS catalog_present, (BOOL_OR(channel = 'store')) AND NOT (BOOL_OR(channel = 'web')) AND NOT (BOOL_OR(channel = 'catalog')) AS channel_present FROM sales_union GROUP BY customer_sk), aggregate_demographics AS (SELECT cd.cd_gender, cd.cd_marital_status, cd.cd_education_status, cd.cd_purchase_estimate, cd.cd_credit_rating FROM customer_joins cj JOIN customer_demographics cd ON cj.c_current_cdemo_sk = cd.cd_demo_sk WHERE EXISTS (SELECT 1 FROM sales_union su WHERE su.customer_sk = cj.c_customer_sk AND su.channel_present)) SELECT cd_gender, cd_marital_status, cd_education_status, COUNT(*) cnt1, cd_purchase_estimate, COUNT(*) cnt2, cd_credit_rating, COUNT(*) cnt3 FROM aggregate_demographics GROUP BY cd_gender, cd_marital_status, cd_education_status, cd_purchase_estimate, cd_credit_rating ORDER BY cd_gender, cd_marital_status, cd_education_status, cd_purchase_estimate, cd_credit_rating LIMIT 100;",
      "has_explain": false,
      "description": "[scout:qwen/qwen3-coder] Consolidate three sales channel scans into a single scan of a union of sales tables, using conditional aggregation to compute EXISTS/ NOT EXISTS logic."
    },
    {
      "patch_id": "compile_safe_nochange",
      "family": "?",
      "transform": "tree_rewrite",
      "relevance_score": 1.0,
      "status": "REGRESSION",
      "speedup": 0.55,
      "semantic_passed": true,
      "error": null,
      "original_ms": 646.6,
      "patch_ms": 1169.6,
      "output_sql": "select \n  cd_gender,\n  cd_marital_status,\n  cd_education_status,\n  count(*) cnt1,\n  cd_purchase_estimate,\n  count(*) cnt2,\n  cd_credit_rating,\n  count(*) cnt3\n from\n  customer c,customer_address ca,customer_demographics\n where\n  c.c_current_addr_sk = ca.ca_address_sk and\n  ca_state in ('GA','KY','SD') and\n  cd_demo_sk = c.c_current_cdemo_sk\n  and cd_marital_status in ('D', 'W', 'U')\n  and cd_education_status in ('Primary', 'College') and\n  exists (select *\n          from store_sales,date_dim\n          where c.c_customer_sk = ss_customer_sk and\n                ss_sold_date_sk = d_date_sk and\n                d_year = 1999 and\n                d_moy between 3 and 3+2\n                and ss_list_price between 52 and 141\n          ) and\n   (not exists (select *\n            from web_sales,date_dim\n            where c.c_customer_sk = ws_bill_customer_sk and\n                  ws_sold_date_sk = d_date_sk and\n                  d_year = 1999 and\n                  d_moy between 3 and 3+2\n                  and ws_list_price between 52 and 141\n            ) and\n    not exists (select *\n            from catalog_sales,date_dim\n            where c.c_customer_sk = cs_ship_customer_sk and\n                  cs_sold_date_sk = d_date_sk and\n                  d_year = 1999 and\n                  d_moy between 3 and 3+2\n                  and cs_list_price between 52 and 141)\n            )\n group by cd_gender,\n          cd_marital_status,\n          cd_education_status,\n          cd_purchase_estimate,\n          cd_credit_rating\n order by cd_gender,\n          cd_marital_status,\n          cd_education_status,\n          cd_purchase_estimate,\n          cd_credit_rating\n limit 100;",
      "has_explain": true,
      "description": null
    },
    {
      "patch_id": "compile_explicit_join_only",
      "family": "?",
      "transform": "tree_rewrite",
      "relevance_score": 1.0,
      "status": "REGRESSION",
      "speedup": 0.52,
      "semantic_passed": true,
      "error": null,
      "original_ms": 646.6,
      "patch_ms": 1246.3,
      "output_sql": "select cd_gender, cd_marital_status, cd_education_status, count(*) cnt1, cd_purchase_estimate, count(*) cnt2, cd_credit_rating, count(*) cnt3 from customer c join customer_address ca on c.c_current_addr_sk = ca.ca_address_sk join customer_demographics on cd_demo_sk = c.c_current_cdemo_sk where ca_state in ('GA','KY','SD') and cd_marital_status in ('D', 'W', 'U') and cd_education_status in ('Primary', 'College') and exists (select * from store_sales, date_dim where c.c_customer_sk = ss_customer_sk and ss_sold_date_sk = d_date_sk and d_year = 1999 and d_moy between 3 and 3+2 and ss_list_price between 52 and 141) and (not exists (select * from web_sales, date_dim where c.c_customer_sk = ws_bill_customer_sk and ws_sold_date_sk = d_date_sk and d_year = 1999 and d_moy between 3 and 3+2 and ws_list_price between 52 and 141) and not exists (select * from catalog_sales, date_dim where c.c_customer_sk = cs_ship_customer_sk and cs_sold_date_sk = d_date_sk and d_year = 1999 and d_moy between 3 and 3+2 and cs_list_price between 52 and 141)) group by cd_gender, cd_marital_status, cd_education_status, cd_purchase_estimate, cd_credit_rating order by cd_gender, cd_marital_status, cd_education_status, cd_purchase_estimate, cd_credit_rating limit 100;",
      "has_explain": true,
      "description": null
    },
    {
      "patch_id": "compile_explicit_join_only",
      "family": "?",
      "transform": "tree_rewrite",
      "relevance_score": 1.0,
      "status": "REGRESSION",
      "speedup": 0.64,
      "semantic_passed": true,
      "error": null,
      "original_ms": 646.6,
      "patch_ms": 1005.2,
      "output_sql": "SELECT cd_gender, cd_marital_status, cd_education_status, COUNT(*) cnt1, cd_purchase_estimate, COUNT(*) cnt2, cd_credit_rating, COUNT(*) cnt3 FROM customer c JOIN customer_address ca ON c.c_current_addr_sk = ca.ca_address_sk JOIN customer_demographics cd ON cd_demo_sk = c.c_current_cdemo_sk WHERE ca_state IN ('GA','KY','SD') AND cd_marital_status IN ('D', 'W', 'U') AND cd_education_status IN ('Primary','College') AND EXISTS (SELECT * FROM store_sales, date_dim WHERE c.c_customer_sk = ss_customer_sk AND ss_sold_date_sk = d_date_sk AND d_year = 1999 AND d_moy BETWEEN 3 AND 3+2 AND ss_list_price BETWEEN 52 AND 141) AND (NOT EXISTS (SELECT * FROM web_sales, date_dim WHERE c.c_customer_sk = ws_bill_customer_sk AND ws_sold_date_sk = d_date_sk AND d_year = 1999 AND d_moy BETWEEN 3 AND 3+2 AND ws_list_price BETWEEN 52 AND 141) AND NOT EXISTS (SELECT * FROM catalog_sales, date_dim WHERE c.c_customer_sk = cs_ship_customer_sk AND cs_sold_date_sk = d_date_sk AND d_year = 1999 AND d_moy BETWEEN 3 AND 3+2 AND cs_list_price BETWEEN 52 AND 141)) GROUP BY cd_gender, cd_marital_status, cd_education_status, cd_purchase_estimate, cd_credit_rating ORDER BY cd_gender, cd_marital_status, cd_education_status, cd_purchase_estimate, cd_credit_rating LIMIT 100;",
      "has_explain": true,
      "description": null
    }
  ],
  "explains": {
    "p02": "Limit  (rows=80, time=553.702)\n  Index Only Scan on date_dim  (rows=92, time=0.118)\n  Aggregate  (rows=80, time=553.695)\n    Sort  (rows=914, time=553.592)\n      Hash Join  (rows=914, time=552.923)\n        Hash Join  (rows=986, time=427.279)\n          Hash Join  (rows=1011, time=362.289)\n            Gather  (rows=13551, time=104.751)\n              Hash Join  (rows=4517, time=111.356)\n                Seq Scan on customer_demographics (cd)  (rows=109760, time=54.416)\n                Hash  (rows=18",
    "p01": "Limit  (rows=80, time=800.869)\n  Aggregate  (rows=80, time=800.864)\n    Sort  (rows=914, time=800.762)\n      Hash Join  (rows=914, time=799.844)\n        Hash Join  (rows=937, time=735.738)\n          Nested Loop  (rows=1011, time=588.32)\n            Nested Loop  (rows=4341, time=561.823)\n              Hash Join  (rows=76612, time=374.348)\n                Seq Scan on customer (c)  (rows=500000, time=39.749)\n                Hash  (rows=76612, time=222.203)\n                  Aggregate  (rows=76612, ",
    "p05": "Limit  (rows=80, time=418.188)\n  Aggregate  (rows=80, time=418.183)\n    Gather Merge  (rows=238, time=418.141)\n      Aggregate  (rows=79, time=409.058)\n        Sort  (rows=305, time=409.003)\n          Hash Join  (rows=305, time=408.682)\n            Nested Loop  (rows=329, time=277.629)\n              Hash Join  (rows=1400, time=267.297)\n                Hash Join  (rows=1447, time=221.791)\n                  Hash Join  (rows=18082, time=41.58)\n                    Seq Scan on customer (c)  (rows=166",
    "p04": "Limit  (rows=80, time=780.228)\n  Aggregate  (rows=80, time=780.224)\n    Sort  (rows=914, time=780.121)\n      Hash Join  (rows=914, time=779.242)\n        Hash Join  (rows=937, time=707.871)\n          Nested Loop  (rows=1011, time=552.386)\n            Nested Loop  (rows=4341, time=528.305)\n              Hash Join  (rows=76612, time=364.943)\n                Seq Scan on customer (c)  (rows=500000, time=37.599)\n                Hash  (rows=76612, time=228.438)\n                  Aggregate  (rows=76613,",
    "p06": "Limit  (rows=80, time=833.981)\n  Aggregate  (rows=80, time=833.976)\n    Sort  (rows=914, time=833.87)\n      Hash Join  (rows=914, time=832.843)\n        Hash Join  (rows=937, time=768.339)\n          Nested Loop  (rows=1011, time=618.308)\n            Nested Loop  (rows=4341, time=590.827)\n              Hash Join  (rows=76612, time=391.013)\n                Seq Scan on customer (c)  (rows=500000, time=40.682)\n                Hash  (rows=76612, time=226.787)\n                  Aggregate  (rows=76613, ",
    "compile_safe_nochange": "Limit  (rows=80, time=1335.046)\n  Aggregate  (rows=80, time=1335.036)\n    Gather Merge  (rows=80, time=1334.98)\n      Aggregate  (rows=80, time=1326.211)\n        Sort  (rows=914, time=1326.004)\n          Hash Join  (rows=914, time=1324.436)\n            Nested Loop  (rows=986, time=994.479)\n              Hash Join  (rows=4201, time=941.256)\n                Hash Join  (rows=4341, time=812.318)\n                  Hash Join  (rows=54247, time=285.319)\n                    Seq Scan on customer (c)  (ro",
    "compile_explicit_join_only": "Limit  (rows=80, time=965.441)\n  Aggregate  (rows=80, time=965.432)\n    Gather Merge  (rows=160, time=965.363)\n      Aggregate  (rows=80, time=949.144)\n        Sort  (rows=457, time=949.012)\n          Hash Join  (rows=457, time=948.327)\n            Nested Loop  (rows=493, time=689.714)\n              Hash Join  (rows=2100, time=655.823)\n                Hash Join  (rows=2170, time=536.489)\n                  Hash Join  (rows=27124, time=124.513)\n                    Seq Scan on customer (c)  (rows=2"
  }
}