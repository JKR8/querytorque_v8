{
  "probe_id": "p04",
  "transform_id": "or_to_union",
  "family": "D",
  "status": "failed",
  "failure_reason": "PostgreSQL's BitmapOr already efficiently handles the indexed OR condition on i_manufact_id and i_manager_id; splitting into UNION ALL would regress performance by preventing native index usage.",
  "partial_work": {
    "attempted_approach": "Split item filter on i_manufact_id IN and i_manager_id BETWEEN into two UNION ALL branches",
    "blocking_issue": "G_PG_OR_INDEX_PROTECTED gate blocks OR-to-UNION on indexed same-table OR conditions in PostgreSQL",
    "hypothesis_still_valid": false
  },
  "dialect": "postgres",
  "hypothesis": "OR-to-UNION rewrite conflicts with PostgreSQL's native BitmapOr optimization for same-column OR conditions on indexed columns.",
  "reasoning_trace": [
    "Assigned transform targets OR condition on item but PostgreSQL's BitmapOr already optimizes this pattern.",
    "Engine profile explicitly warns against splitting indexed ORs due to 0.21x-0.26x regression risk.",
    "No structural benefit from rewrite since Seq Scan on item is not due to OR but due to lack of selective join predicate."
  ],
  "target_ir": "No structural change.",
  "verification": {
    "executable": false,
    "no_missing_tables": true,
    "alias_consistent": true,
    "no_orphan_scans": true,
    "semantics_preserved": true,
    "null_semantics_safe": true,
    "ctes_selective_or_na": true
  },
  "tree": {
    "root_node_id": "final_select",
    "nodes": [
      {
        "node_id": "final_select",
        "parent_node_id": null,
        "sources": [],
        "outputs": ["excess discount amount"],
        "changed": false
      }
    ]
  }
}