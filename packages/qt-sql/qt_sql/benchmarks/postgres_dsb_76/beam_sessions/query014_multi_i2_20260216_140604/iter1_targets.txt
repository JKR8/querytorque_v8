[
  {
    "target_id": "t1",
    "family": "D+E",
    "transform": "setop_to_exists_with_materialization",
    "relevance_score": 0.98,
    "hypothesis": "Replace INTERSECT with EXISTS to avoid materializing 840k intermediate rows in SetOp (6.6s) and materialize result to prevent recomputation in both year subqueries.",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_intersect_to_exists",
      "multi_dimension_prefetch"
    ]
  },
  {
    "target_id": "t2",
    "family": "E",
    "transform": "cte_materialize_avg_sales",
    "relevance_score": 0.9,
    "hypothesis": "Materialize avg_sales CTE to compute once (2044ms) instead of twice, eliminating duplicate aggregation work.",
    "target_ir": "S0",
    "recommended_examples": [
      "multi_dimension_prefetch"
    ]
  },
  {
    "target_id": "t3",
    "family": "D",
    "transform": "intersect_to_exists",
    "relevance_score": 0.85,
    "hypothesis": "Convert INTERSECT to EXISTS without materialization to reduce SetOp cost (6.6s) if combined approach fails.",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_intersect_to_exists"
    ]
  },
  {
    "target_id": "t4",
    "family": "C",
    "transform": "preaggregate_cross_items",
    "relevance_score": 0.8,
    "hypothesis": "Pre-aggregate sales by brand/class/category before joining with cross_items to reduce row counts in nested loops (89k rows).",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter"
    ]
  }
]