[
  {
    "target_id": "t1",
    "family": "A+C",
    "transform": "early_filter_then_agg_pushdown",
    "relevance_score": 0.95,
    "hypothesis": "Apply early filtering via CTEs (A) to reduce date_dim/item rows, then pre-aggregate catalog_sales by i_item_sk and cs_bill_customer_sk (C) before joining item/customer. Targets Nested Loop (rows=390) in t1's plan by reducing input rows.",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter"
    ]
  },
  {
    "target_id": "t1",
    "family": "C",
    "transform": "agg_pushdown_pre_item_join",
    "relevance_score": 0.9,
    "hypothesis": "Push aggregation to after joining catalog_sales with date_dim/customer_demographics but before joining item. Reduces rows feeding into Nested Loop (rows=390) in t1's plan.",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter"
    ]
  },
  {
    "target_id": "t1",
    "family": "C",
    "transform": "isolated_sales_agg",
    "relevance_score": 0.85,
    "hypothesis": "Aggregate catalog_sales with date_dim, customer_demographics, and item in a CTE, then join to customer/address. Minimizes rows before expensive rollup.",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter"
    ]
  },
  {
    "target_id": "t1",
    "family": "F+C",
    "transform": "rescue_t1_with_agg",
    "relevance_score": 0.8,
    "hypothesis": "Combine t1's CTE structure (F) with aggregation pushdown (C) to reduce rows before joining item and customer.",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter"
    ]
  }
]