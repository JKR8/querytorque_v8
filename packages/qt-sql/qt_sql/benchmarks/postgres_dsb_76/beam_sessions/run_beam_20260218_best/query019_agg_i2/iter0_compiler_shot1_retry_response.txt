[
  {
    "plan_id": "compile_p1",
    "dialect": "postgres",
    "confidence": 0.45,
    "based_on": "",
    "strategy": "Explicit JOIN syntax with predicate pushdown attempt",
    "hypothesis": "All probes failed or regressed; explicit JOIN conversion may enable better join reordering while preserving semantics. No CTE fences introduced.",
    "expected_explain_delta": "Hash Join may reorder; nonâ€‘equi zip condition remains late but join topology is clearer.",
    "target_ir": "Convert comma joins to explicit INNER JOINs, keep all original predicates.",
    "tree": {
      "root_node_id": "final_select",
      "nodes": [
        {
          "node_id": "final_select",
          "parent_node_id": null,
          "sources": [],
          "outputs": ["brand_id", "brand", "i_manufact_id", "i_manufact", "ext_price"],
          "changed": true,
          "sql": "SELECT i_brand_id AS brand_id, i_brand AS brand, i_manufact_id, i_manufact, SUM(ss_ext_sales_price) AS ext_price FROM date_dim d JOIN store_sales ss ON d.d_date_sk = ss.ss_sold_date_sk JOIN item i ON ss.ss_item_sk = i.i_item_sk JOIN customer c ON ss.ss_customer_sk = c.c_customer_sk JOIN customer_address ca ON c.c_current_addr_sk = ca.ca_address_sk JOIN store s ON ss.ss_store_sk = s.s_store_sk WHERE i.i_category = 'Shoes' AND d.d_year = 1999 AND d.d_moy = 2 AND SUBSTRING(ca.ca_zip, 1, 5) <> SUBSTRING(s.s_zip, 1, 5) AND ca.ca_state = 'KS' AND c.c_birth_month = 2 AND ss.ss_wholesale_cost BETWEEN 76 AND 96 GROUP BY i_brand, i_brand_id, i_manufact_id, i_manufact ORDER BY ext_price DESC, i_brand, i_brand_id, i_manufact_id, i_manufact LIMIT 100"
        }
      ]
    }
  }
]