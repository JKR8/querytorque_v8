[
  {
    "target_id": "t1",
    "family": "E+A",
    "transform": "prefetch_and_early_filter",
    "relevance_score": 0.95,
    "hypothesis": "Reduce input rows to the expensive Nested Loop (18,519 rows) by prefetching filtered item/date_dim and pushing them into union branches. Prefetched_dates (from t1) is retained for my_revenue.",
    "target_ir": "S0:CTE_Q_S0_my_customers:from",
    "recommended_examples": [
      "pg_date_cte_explicit_join",
      "push_into_union_branches"
    ]
  },
  {
    "target_id": "t1",
    "family": "A",
    "transform": "push_filters_into_union",
    "relevance_score": 0.9,
    "hypothesis": "Apply item/date_dim filters directly in catalog_sales/web_sales subqueries to shrink Append output (1,792 rows) before the Nested Loop.",
    "target_ir": "S0:CTE_Q_S0_my_customers:39569bb4425260fb",
    "recommended_examples": [
      "push_into_union_branches"
    ]
  },
  {
    "target_id": "t1",
    "family": "C",
    "transform": "preaggregate_sales_fixed",
    "relevance_score": 0.85,
    "hypothesis": "Rescue t4: Preaggregate sales by customer_sk/item_sk *before* joining item/date_dim. Minimizes rows early and avoids semantic error in t4.",
    "target_ir": "S0:CTE_Q_S0_my_customers",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter"
    ]
  },
  {
    "target_id": "t1",
    "family": "F",
    "transform": "explicit_join_chain",
    "relevance_score": 0.8,
    "hypothesis": "Restructure my_customers with explicit joins (not comma-separated) to enable optimal filter pushdown into union branches. Targets Nested Loop operator.",
    "target_ir": "S0:CTE_Q_S0_my_customers:from",
    "recommended_examples": [
      "pg_explicit_join_materialized"
    ]
  }
]