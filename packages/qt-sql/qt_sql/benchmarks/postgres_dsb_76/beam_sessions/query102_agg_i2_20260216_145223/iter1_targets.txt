[
  {
    "target_id": "t1_rescue",
    "family": "A",
    "transform": "early_filtering_rescue",
    "relevance_score": 0.98,
    "hypothesis": "Pre-filtering dimension tables (item, customer_address, date_dim) failed due to missing inv_warehouse_sk. Include all join columns in CTEs to fix structural error. Targets Seq Scan on web_sales (482K rows) by reducing joined rows early.",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_date_cte_explicit_join"
    ]
  },
  {
    "target_id": "t2_agg",
    "family": "A+C",
    "transform": "early_filter_agg_pushdown",
    "relevance_score": 0.9,
    "hypothesis": "Pre-filter dimensions + pre-aggregate web_sales/store_sales before joining. GROUP BY keys (cd_gender, etc.) are supersets of customer join keys. Reduces Hash Join (43K rows) and Seq Scan on web_sales (482K rows).",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter",
      "pg_date_cte_explicit_join"
    ]
  },
  {
    "target_id": "t3_join",
    "family": "A+F",
    "transform": "early_filter_explicit_join",
    "relevance_score": 0.85,
    "hypothesis": "Replace comma joins with explicit INNER JOIN + enforce optimal join order. Start with filtered date_dim/item to constrain web_sales early. Targets Seq Scan on web_sales by pushing filters into JOIN ON clauses.",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_explicit_join_materialized",
      "pg_date_cte_explicit_join"
    ]
  },
  {
    "target_id": "t4_date",
    "family": "E",
    "transform": "date_range_materialize",
    "relevance_score": 0.8,
    "hypothesis": "Materialize d2 date range (BETWEEN d1 AND d1+30) as a CTE to avoid repeated per-row calculations. Targets Nested Loop (rows=0, time=821ms) caused by correlated date conditions.",
    "target_ir": "S0",
    "recommended_examples": [
      "multi_dimension_prefetch"
    ]
  }
]