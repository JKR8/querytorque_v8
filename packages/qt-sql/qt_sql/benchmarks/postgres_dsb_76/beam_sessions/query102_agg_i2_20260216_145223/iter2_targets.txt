[
  {
    "target_id": "t1",
    "family": "A+F",
    "transform": "early_filter_with_explicit_joins",
    "relevance_score": 0.98,
    "hypothesis": "Apply early filtering to item, customer_address, and date_dim first (Family A), then restructure comma joins to explicit INNER JOINs (Family F) to fix scoping errors and enable better predicate pushdown. Targets Hash Join (rows=43134, time=501.79ms) by reducing web_sales input rows via pushed-down filters.",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_date_cte_explicit_join",
      "pg_explicit_join_materialized"
    ]
  },
  {
    "target_id": "t2",
    "family": "C",
    "transform": "pre_aggregate_customer_sales",
    "relevance_score": 0.9,
    "hypothesis": "Pre-aggregate store_sales/web_sales by c_customer_sk before joining with demographics. GROUP BY keys (cd_gender, ...) are superset of customer join keys. Reduces Hash Join (rows=160832, time=33.758ms) by collapsing multiple sales rows per customer early.",
    "target_ir": "S0",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter"
    ]
  },
  {
    "target_id": "t3",
    "family": "A+E",
    "transform": "rescue_filtered_dimensions",
    "relevance_score": 0.85,
    "hypothesis": "Fix CTE scoping errors in t1_rescue by materializing filtered dimensions (item, customer_address, date_dim) with explicit JOINs. Prefetch warehouse-state mapping (Family E) to avoid broken w_state reference. Targets Seq Scan on web_sales (rows=482043, time=362.566ms).",
    "target_ir": "S0",
    "recommended_examples": [
      "multi_dimension_prefetch",
      "pg_date_cte_explicit_join"
    ]
  },
  {
    "target_id": "t4",
    "family": "E",
    "transform": "safe_date_range_materialize",
    "relevance_score": 0.8,
    "hypothesis": "Materialize d1 date_range (d_year=1998) as CTE, but compute d2 date range via direct JOIN to avoid correlation errors. Eliminates Index Scan on d1/d2 (rows=261+1, time=0.505ms) and reduces nested loop iterations.",
    "target_ir": "S0",
    "recommended_examples": [
      "date_range_materialize"
    ]
  }
]