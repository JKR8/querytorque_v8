[
  {
    "target_id": "t1",
    "family": "A+B",
    "transform": "push_reason_then_decorrelate",
    "relevance_score": 0.97,
    "hypothesis": "After t2 reduced CTE to 1 row, decorrelation avoids per-row subquery. State averages join becomes trivial.",
    "target_ir": "S0: replace_where_predicate (add wr_reason_sk IN). bef68d6eb401aa50: replace_expr_subtree (decorrelate subquery).",
    "recommended_examples": [
      "pg_date_cte_explicit_join",
      "shared_scan_decorrelate"
    ]
  },
  {
    "target_id": "t2",
    "family": "A",
    "transform": "push_state_into_cte",
    "relevance_score": 0.85,
    "hypothesis": "Filter states during CTE build to reduce grouping rows. Targets web_returns scan (255 rows @37ms in t2).",
    "target_ir": "S0: replace_where_predicate (add ca_state IN).",
    "recommended_examples": [
      "pg_date_cte_explicit_join"
    ]
  },
  {
    "target_id": "t3",
    "family": "E",
    "transform": "materialize_tiny_cte",
    "relevance_score": 0.75,
    "hypothesis": "1-row CTE benefits from materialization to avoid re-compute during subquery.",
    "target_ir": "S0: replace_from (add MATERIALIZED).",
    "recommended_examples": [
      "multi_dimension_prefetch"
    ]
  }
]