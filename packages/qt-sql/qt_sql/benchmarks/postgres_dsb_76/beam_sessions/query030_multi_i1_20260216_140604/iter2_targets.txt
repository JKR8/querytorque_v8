[
  {
    "target_id": "t1_fixed",
    "family": "A+B",
    "transform": "decorrelate_with_early_reason_filter",
    "relevance_score": 0.98,
    "hypothesis": "Eliminate correlated subquery (83.6ms) via state thresholds CTE while reducing CTE rows by pushing reason filter early. Targets CTE Scan (ctr1) and Seq Scan on web_returns.",
    "target_ir": "S0: insert_cte(state_avg_thresholds); replace_where_predicate(bef68d6eb401aa50)",
    "recommended_examples": [
      "shared_scan_decorrelate",
      "pg_date_cte_explicit_join"
    ]
  },
  {
    "target_id": "t2_mat",
    "family": "E",
    "transform": "materialize_base_cte",
    "relevance_score": 0.85,
    "hypothesis": "Materialize base CTE to avoid recomputation for thresholds and main query. Reduces repeated Aggregate (0.008ms) and CTE Scan (ctr2) (0.003ms).",
    "target_ir": "S0: replace_expr_subtree(b04b10b69569f03b) WITH MATERIALIZED customer_total_return",
    "recommended_examples": [
      "multi_dimension_prefetch"
    ]
  },
  {
    "target_id": "t3_fixed",
    "family": "B+E",
    "transform": "decorrelate_with_fixed_join",
    "relevance_score": 0.9,
    "hypothesis": "Rescue decorrelation with correct customer join order. Replace correlated subquery (83.6ms) with materialized thresholds join.",
    "target_ir": "S0: replace_from(bef68d6eb401aa50) JOIN customer BEFORE customer_address; replace_expr_subtree(bef68d6eb401aa50)",
    "recommended_examples": [
      "shared_scan_decorrelate",
      "pg_explicit_join_materialized"
    ]
  },
  {
    "target_id": "t4_join",
    "family": "F",
    "transform": "cte_explicit_join_reorder",
    "relevance_score": 0.8,
    "hypothesis": "Optimize CTE build path (74.7ms Hash Join) via explicit joins and selective order: web_returns \u2192 date_dim \u2192 item \u2192 customer_address.",
    "target_ir": "S0: replace_from(b04b10b69569f03b) WITH web_returns INNER JOIN date_dim FIRST",
    "recommended_examples": [
      "pg_explicit_join_materialized"
    ]
  }
]