[
  {
    "target_id": "t1",
    "family": "B+A",
    "transform": "decorrelate_then_early_filter",
    "relevance_score": 0.95,
    "hypothesis": "Push ctr_reason_sk filter into CTE to reduce customer_total_return rows before aggregation/scan. Current CTE outputs 93k rows, but main query only needs reason_sk 17-20 (2.9k rows in original).",
    "target_ir": "S0:70b678372a29c55c",
    "recommended_examples": [
      "shared_scan_decorrelate",
      "pg_date_cte_explicit_join"
    ]
  },
  {
    "target_id": "t2",
    "family": "A",
    "transform": "push_store_state_to_cte",
    "relevance_score": 0.85,
    "hypothesis": "Join store table early in CTE and filter by s_state. Current CTE scans 93k rows, but store filter reduces main query store rows to 8. Avoids passing irrelevant stores through CTE.",
    "target_ir": "S0:70b678372a29c55c",
    "recommended_examples": [
      "pg_date_cte_explicit_join"
    ]
  },
  {
    "target_id": "t3",
    "family": "E",
    "transform": "precompute_filtered_cte",
    "relevance_score": 0.8,
    "hypothesis": "Materialize a pre-filtered version of customer_total_return (with store+reason filters) to avoid scanning full 93k rows twice (for store_avg and main query).",
    "target_ir": "S0",
    "recommended_examples": [
      "multi_dimension_prefetch"
    ]
  },
  {
    "target_id": "t4",
    "family": "B+A+F",
    "transform": "full_dimension_pushdown",
    "relevance_score": 0.75,
    "hypothesis": "Push all applicable dimension filters (store_state, reason_sk, customer demographics) into CTE via joins. Most aggressive row reduction targeting the 93k-row CTE scan.",
    "target_ir": "S0:70b678372a29c55c",
    "recommended_examples": [
      "pg_explicit_join_materialized",
      "pg_date_cte_explicit_join"
    ]
  }
]