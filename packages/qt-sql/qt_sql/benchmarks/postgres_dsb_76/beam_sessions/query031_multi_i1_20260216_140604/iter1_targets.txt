[
  {
    "target_id": "t1",
    "family": "B+A",
    "transform": "pivot_quarters_with_early_filters",
    "relevance_score": 0.95,
    "hypothesis": "Eliminate 6 self-joins via quarterly pivoting (B) while pushing year/quarter filters into CTEs (A) to reduce build cost. Targets CTE Scan (ss1) (414ms) and nested loops.",
    "target_ir": "S0:by_anchor_hash(77303f134dcec6fc) + S0:by_anchor_hash(e330e84b5ecc3b92)",
    "recommended_examples": [
      "shared_scan_decorrelate",
      "pg_date_cte_explicit_join"
    ]
  },
  {
    "target_id": "t2",
    "family": "E+B",
    "transform": "prefilter_dimensions_then_pivot",
    "relevance_score": 0.85,
    "hypothesis": "Prefetch filtered dimensions (E) to reduce fact-table rows, then apply quarterly pivot (B) to eliminate self-joins. Targets Index Scan on item (74ms) and CTE Scan (ss1).",
    "target_ir": "S0:by_node_id(S0) + S0:by_anchor_hash(77303f134dcec6fc)",
    "recommended_examples": [
      "multi_dimension_prefetch",
      "pg_shared_scan_decorrelate"
    ]
  },
  {
    "target_id": "t3",
    "family": "F+A",
    "transform": "explicit_joins_with_filter_pushdown",
    "relevance_score": 0.8,
    "hypothesis": "Enforce optimal dimension\u2192fact join order via explicit JOINs (F) while pushing year/quarter filters (A). Targets Nested Loop on store_sales (402ms).",
    "target_ir": "S0:by_anchor_hash(e330e84b5ecc3b92)",
    "recommended_examples": [
      "pg_explicit_join_materialized",
      "pg_date_cte_explicit_join"
    ]
  },
  {
    "target_id": "t4",
    "family": "C",
    "transform": "early_aggregate_web_sales",
    "relevance_score": 0.75,
    "hypothesis": "Aggregate web_sales before joining to dimensions since ca_county is a join key. Reduces input rows to ws CTE.",
    "target_ir": "S0:by_anchor_hash(51cf109531413dcd)",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter"
    ]
  }
]