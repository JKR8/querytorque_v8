[
  {
    "target_id": "S0:45f976cc8e3ef038",
    "family": "B",
    "transform": "decorrelate_fixed_literals",
    "relevance_score": 0.98,
    "hypothesis": "Precompute thresholds per item in CTE using original literals (35*0.01), eliminating per-row subquery execution. Reuse filtered_sales CTE from t2 to avoid repeated scans.",
    "target_ir": "S0: Replace correlated subquery with item_thresholds CTE. Anchor: WHERE clause (hash 45f976cc8e3ef038).",
    "recommended_examples": [
      "pg_shared_scan_decorrelate"
    ]
  },
  {
    "target_id": "S0",
    "family": "E+B",
    "transform": "materialize_shared_filters_then_decorrelate",
    "relevance_score": 0.92,
    "hypothesis": "Reuse filtered_sales CTE for both main query and threshold calculation. Avoid recomputing identical date/wholesale filters.",
    "target_ir": "S0: Insert two CTEs: 1) filtered_sales (E), 2) item_thresholds (B). Replace subquery with item_thresholds join.",
    "recommended_examples": [
      "multi_dimension_prefetch",
      "pg_shared_scan_decorrelate"
    ]
  },
  {
    "target_id": "S0",
    "family": "A",
    "transform": "push_item_filters",
    "relevance_score": 0.75,
    "hypothesis": "Filter item table first (manufact_id/category) before joining with sales. May reduce rows fed to expensive threshold comparison.",
    "target_ir": "S0: Insert CTE filtered_items. Change join order: filtered_items \u2192 filtered_sales.",
    "recommended_examples": [
      "pg_date_cte_explicit_join"
    ]
  },
  {
    "target_id": "S0",
    "family": "C",
    "transform": "preaggregate_thresholds",
    "relevance_score": 0.65,
    "hypothesis": "Compute AVG(ws_ext_discount_amt) during item_thresholds CTE materialization. Reduce redundant scans.",
    "target_ir": "S0: Move AVG() into item_thresholds CTE. Anchor: subquery SELECT list.",
    "recommended_examples": [
      "pg_materialized_dimension_fact_prefilter"
    ]
  }
]