{
  "query": "q61",
  "status": "pending",
  "rules": [
    "FILTER_INTO_JOIN",
    "FILTER_PROJECT_TRANSPOSE",
    "PROJECT_MERGE",
    "JOIN_CONDITION_PUSH",
    "JOIN_TO_MULTI_JOIN",
    "MULTI_JOIN_OPTIMIZE"
  ],
  "optimizedSql": "SELECT t10.PROMOTIONS, t20.TOTAL, CAST(t10.PROMOTIONS AS DECIMAL(15, 4)) / CAST(t20.TOTAL AS DECIMAL(15, 4)) * 100\nFROM (SELECT SUM(t7.ss_ext_sales_price) AS PROMOTIONS\nFROM (SELECT *\nFROM item\nWHERE i_category \u003d \u0027Jewelry\u0027) AS t\nINNER JOIN (SELECT t6.ss_sold_date_sk, t6.ss_sold_time_sk, t6.ss_item_sk, t6.ss_customer_sk, t6.ss_cdemo_sk, t6.ss_hdemo_sk, t6.ss_addr_sk, t6.ss_store_sk, t6.ss_promo_sk, t6.ss_ticket_number, t6.ss_quantity, t6.ss_wholesale_cost, t6.ss_list_price, t6.ss_sales_price, t6.ss_ext_discount_amt, t6.ss_ext_sales_price, t6.ss_ext_wholesale_cost, t6.ss_ext_list_price, t6.ss_ext_tax, t6.ss_coupon_amt, t6.ss_net_paid, t6.ss_net_paid_inc_tax, t6.ss_net_profit, t6.s_store_sk, t6.s_store_id, t6.s_rec_start_date, t6.s_rec_end_date, t6.s_closed_date_sk, t6.s_store_name, t6.s_number_employees, t6.s_floor_space, t6.s_hours, t6.s_manager, t6.s_market_id, t6.s_geography_class, t6.s_market_desc, t6.s_market_manager, t6.s_division_id, t6.s_division_name, t6.s_company_id, t6.s_company_name, t6.s_street_number, t6.s_street_name, t6.s_street_type, t6.s_suite_number, t6.s_city, t6.s_county, t6.s_state, t6.s_zip, t6.s_country, t6.s_gmt_offset, t6.s_tax_percentage, t6.p_promo_sk, t6.p_promo_id, t6.p_start_date_sk, t6.p_end_date_sk, t6.p_item_sk, t6.p_cost, t6.p_response_target, t6.p_promo_name, t6.p_channel_dmail, t6.p_channel_email, t6.p_channel_catalog, t6.p_channel_tv, t6.p_channel_radio, t6.p_channel_press, t6.p_channel_event, t6.p_channel_demo, t6.p_channel_details, t6.p_purpose, t6.p_discount_active, t6.d_date_sk, t6.d_date_id, t6.d_date, t6.d_month_seq, t6.d_week_seq, t6.d_quarter_seq, t6.d_year, t6.d_dow, t6.d_moy, t6.d_dom, t6.d_qoy, t6.d_fy_year, t6.d_fy_quarter_seq, t6.d_fy_week_seq, t6.d_day_name, t6.d_quarter_name, t6.d_holiday, t6.d_weekend, t6.d_following_holiday, t6.d_first_dom, t6.d_last_dom, t6.d_same_day_ly, t6.d_same_day_lq, t6.d_current_day, t6.d_current_week, t6.d_current_month, t6.d_current_quarter, t6.d_current_year, t6.c_customer_sk, t6.c_customer_id, t6.c_current_cdemo_sk, t6.c_current_hdemo_sk, t6.c_current_addr_sk, t6.c_first_shipto_date_sk, t6.c_first_sales_date_sk, t6.c_salutation, t6.c_first_name, t6.c_last_name, t6.c_preferred_cust_flag, t6.c_birth_day, t6.c_birth_month, t6.c_birth_year, t6.c_birth_country, t6.c_login, t6.c_email_address, t6.c_last_review_date_sk, t0.ca_address_sk, t0.ca_address_id, t0.ca_street_number, t0.ca_street_name, t0.ca_street_type, t0.ca_suite_number, t0.ca_city, t0.ca_county, t0.ca_state, t0.ca_zip, t0.ca_country, t0.ca_gmt_offset, t0.ca_location_type\nFROM (SELECT *\nFROM customer_address\nWHERE ca_gmt_offset \u003d -5) AS t0\nINNER JOIN (SELECT t5.ss_sold_date_sk, t5.ss_sold_time_sk, t5.ss_item_sk, t5.ss_customer_sk, t5.ss_cdemo_sk, t5.ss_hdemo_sk, t5.ss_addr_sk, t5.ss_store_sk, t5.ss_promo_sk, t5.ss_ticket_number, t5.ss_quantity, t5.ss_wholesale_cost, t5.ss_list_price, t5.ss_sales_price, t5.ss_ext_discount_amt, t5.ss_ext_sales_price, t5.ss_ext_wholesale_cost, t5.ss_ext_list_price, t5.ss_ext_tax, t5.ss_coupon_amt, t5.ss_net_paid, t5.ss_net_paid_inc_tax, t5.ss_net_profit, t5.s_store_sk, t5.s_store_id, t5.s_rec_start_date, t5.s_rec_end_date, t5.s_closed_date_sk, t5.s_store_name, t5.s_number_employees, t5.s_floor_space, t5.s_hours, t5.s_manager, t5.s_market_id, t5.s_geography_class, t5.s_market_desc, t5.s_market_manager, t5.s_division_id, t5.s_division_name, t5.s_company_id, t5.s_company_name, t5.s_street_number, t5.s_street_name, t5.s_street_type, t5.s_suite_number, t5.s_city, t5.s_county, t5.s_state, t5.s_zip, t5.s_country, t5.s_gmt_offset, t5.s_tax_percentage, t5.p_promo_sk, t5.p_promo_id, t5.p_start_date_sk, t5.p_end_date_sk, t5.p_item_sk, t5.p_cost, t5.p_response_target, t5.p_promo_name, t5.p_channel_dmail, t5.p_channel_email, t5.p_channel_catalog, t5.p_channel_tv, t5.p_channel_radio, t5.p_channel_press, t5.p_channel_event, t5.p_channel_demo, t5.p_channel_details, t5.p_purpose, t5.p_discount_active, t5.d_date_sk, t5.d_date_id, t5.d_date, t5.d_month_seq, t5.d_week_seq, t5.d_quarter_seq, t5.d_year, t5.d_dow, t5.d_moy, t5.d_dom, t5.d_qoy, t5.d_fy_year, t5.d_fy_quarter_seq, t5.d_fy_week_seq, t5.d_day_name, t5.d_quarter_name, t5.d_holiday, t5.d_weekend, t5.d_following_holiday, t5.d_first_dom, t5.d_last_dom, t5.d_same_day_ly, t5.d_same_day_lq, t5.d_current_day, t5.d_current_week, t5.d_current_month, t5.d_current_quarter, t5.d_current_year, customer.c_customer_sk, customer.c_customer_id, customer.c_current_cdemo_sk, customer.c_current_hdemo_sk, customer.c_current_addr_sk, customer.c_first_shipto_date_sk, customer.c_first_sales_date_sk, customer.c_salutation, customer.c_first_name, customer.c_last_name, customer.c_preferred_cust_flag, customer.c_birth_day, customer.c_birth_month, customer.c_birth_year, customer.c_birth_country, customer.c_login, customer.c_email_address, customer.c_last_review_date_sk\nFROM customer\nINNER JOIN (SELECT t4.ss_sold_date_sk, t4.ss_sold_time_sk, t4.ss_item_sk, t4.ss_customer_sk, t4.ss_cdemo_sk, t4.ss_hdemo_sk, t4.ss_addr_sk, t4.ss_store_sk, t4.ss_promo_sk, t4.ss_ticket_number, t4.ss_quantity, t4.ss_wholesale_cost, t4.ss_list_price, t4.ss_sales_price, t4.ss_ext_discount_amt, t4.ss_ext_sales_price, t4.ss_ext_wholesale_cost, t4.ss_ext_list_price, t4.ss_ext_tax, t4.ss_coupon_amt, t4.ss_net_paid, t4.ss_net_paid_inc_tax, t4.ss_net_profit, t4.s_store_sk, t4.s_store_id, t4.s_rec_start_date, t4.s_rec_end_date, t4.s_closed_date_sk, t4.s_store_name, t4.s_number_employees, t4.s_floor_space, t4.s_hours, t4.s_manager, t4.s_market_id, t4.s_geography_class, t4.s_market_desc, t4.s_market_manager, t4.s_division_id, t4.s_division_name, t4.s_company_id, t4.s_company_name, t4.s_street_number, t4.s_street_name, t4.s_street_type, t4.s_suite_number, t4.s_city, t4.s_county, t4.s_state, t4.s_zip, t4.s_country, t4.s_gmt_offset, t4.s_tax_percentage, t4.p_promo_sk, t4.p_promo_id, t4.p_start_date_sk, t4.p_end_date_sk, t4.p_item_sk, t4.p_cost, t4.p_response_target, t4.p_promo_name, t4.p_channel_dmail, t4.p_channel_email, t4.p_channel_catalog, t4.p_channel_tv, t4.p_channel_radio, t4.p_channel_press, t4.p_channel_event, t4.p_channel_demo, t4.p_channel_details, t4.p_purpose, t4.p_discount_active, t1.d_date_sk, t1.d_date_id, t1.d_date, t1.d_month_seq, t1.d_week_seq, t1.d_quarter_seq, t1.d_year, t1.d_dow, t1.d_moy, t1.d_dom, t1.d_qoy, t1.d_fy_year, t1.d_fy_quarter_seq, t1.d_fy_week_seq, t1.d_day_name, t1.d_quarter_name, t1.d_holiday, t1.d_weekend, t1.d_following_holiday, t1.d_first_dom, t1.d_last_dom, t1.d_same_day_ly, t1.d_same_day_lq, t1.d_current_day, t1.d_current_week, t1.d_current_month, t1.d_current_quarter, t1.d_current_year\nFROM (SELECT *\nFROM date_dim\nWHERE d_year \u003d 1998 AND d_moy \u003d 11) AS t1\nINNER JOIN (SELECT store_sales.ss_sold_date_sk, store_sales.ss_sold_time_sk, store_sales.ss_item_sk, store_sales.ss_customer_sk, store_sales.ss_cdemo_sk, store_sales.ss_hdemo_sk, store_sales.ss_addr_sk, store_sales.ss_store_sk, store_sales.ss_promo_sk, store_sales.ss_ticket_number, store_sales.ss_quantity, store_sales.ss_wholesale_cost, store_sales.ss_list_price, store_sales.ss_sales_price, store_sales.ss_ext_discount_amt, store_sales.ss_ext_sales_price, store_sales.ss_ext_wholesale_cost, store_sales.ss_ext_list_price, store_sales.ss_ext_tax, store_sales.ss_coupon_amt, store_sales.ss_net_paid, store_sales.ss_net_paid_inc_tax, store_sales.ss_net_profit, t3.s_store_sk, t3.s_store_id, t3.s_rec_start_date, t3.s_rec_end_date, t3.s_closed_date_sk, t3.s_store_name, t3.s_number_employees, t3.s_floor_space, t3.s_hours, t3.s_manager, t3.s_market_id, t3.s_geography_class, t3.s_market_desc, t3.s_market_manager, t3.s_division_id, t3.s_division_name, t3.s_company_id, t3.s_company_name, t3.s_street_number, t3.s_street_name, t3.s_street_type, t3.s_suite_number, t3.s_city, t3.s_county, t3.s_state, t3.s_zip, t3.s_country, t3.s_gmt_offset, t3.s_tax_percentage, t2.p_promo_sk, t2.p_promo_id, t2.p_start_date_sk, t2.p_end_date_sk, t2.p_item_sk, t2.p_cost, t2.p_response_target, t2.p_promo_name, t2.p_channel_dmail, t2.p_channel_email, t2.p_channel_catalog, t2.p_channel_tv, t2.p_channel_radio, t2.p_channel_press, t2.p_channel_event, t2.p_channel_demo, t2.p_channel_details, t2.p_purpose, t2.p_discount_active\nFROM (SELECT *\nFROM promotion\nWHERE p_channel_dmail \u003d \u0027Y\u0027 OR p_channel_email \u003d \u0027Y\u0027 OR p_channel_tv \u003d \u0027Y\u0027) AS t2\nINNER JOIN (store_sales INNER JOIN (SELECT *\nFROM store\nWHERE s_gmt_offset \u003d -5) AS t3 ON store_sales.ss_store_sk \u003d t3.s_store_sk) ON t2.p_promo_sk \u003d store_sales.ss_promo_sk) AS t4 ON t1.d_date_sk \u003d t4.ss_sold_date_sk) AS t5 ON customer.c_customer_sk \u003d t5.ss_customer_sk) AS t6 ON t0.ca_address_sk \u003d t6.c_current_addr_sk) AS t7 ON t.i_item_sk \u003d t7.ss_item_sk) AS t10,\n(SELECT SUM(t17.ss_ext_sales_price) AS TOTAL\nFROM (SELECT *\nFROM item\nWHERE i_category \u003d \u0027Jewelry\u0027) AS t11\nINNER JOIN (SELECT t16.ss_sold_date_sk, t16.ss_sold_time_sk, t16.ss_item_sk, t16.ss_customer_sk, t16.ss_cdemo_sk, t16.ss_hdemo_sk, t16.ss_addr_sk, t16.ss_store_sk, t16.ss_promo_sk, t16.ss_ticket_number, t16.ss_quantity, t16.ss_wholesale_cost, t16.ss_list_price, t16.ss_sales_price, t16.ss_ext_discount_amt, t16.ss_ext_sales_price, t16.ss_ext_wholesale_cost, t16.ss_ext_list_price, t16.ss_ext_tax, t16.ss_coupon_amt, t16.ss_net_paid, t16.ss_net_paid_inc_tax, t16.ss_net_profit, t16.s_store_sk, t16.s_store_id, t16.s_rec_start_date, t16.s_rec_end_date, t16.s_closed_date_sk, t16.s_store_name, t16.s_number_employees, t16.s_floor_space, t16.s_hours, t16.s_manager, t16.s_market_id, t16.s_geography_class, t16.s_market_desc, t16.s_market_manager, t16.s_division_id, t16.s_division_name, t16.s_company_id, t16.s_company_name, t16.s_street_number, t16.s_street_name, t16.s_street_type, t16.s_suite_number, t16.s_city, t16.s_county, t16.s_state, t16.s_zip, t16.s_country, t16.s_gmt_offset, t16.s_tax_percentage, t16.d_date_sk, t16.d_date_id, t16.d_date, t16.d_month_seq, t16.d_week_seq, t16.d_quarter_seq, t16.d_year, t16.d_dow, t16.d_moy, t16.d_dom, t16.d_qoy, t16.d_fy_year, t16.d_fy_quarter_seq, t16.d_fy_week_seq, t16.d_day_name, t16.d_quarter_name, t16.d_holiday, t16.d_weekend, t16.d_following_holiday, t16.d_first_dom, t16.d_last_dom, t16.d_same_day_ly, t16.d_same_day_lq, t16.d_current_day, t16.d_current_week, t16.d_current_month, t16.d_current_quarter, t16.d_current_year, t16.c_customer_sk, t16.c_customer_id, t16.c_current_cdemo_sk, t16.c_current_hdemo_sk, t16.c_current_addr_sk, t16.c_first_shipto_date_sk, t16.c_first_sales_date_sk, t16.c_salutation, t16.c_first_name, t16.c_last_name, t16.c_preferred_cust_flag, t16.c_birth_day, t16.c_birth_month, t16.c_birth_year, t16.c_birth_country, t16.c_login, t16.c_email_address, t16.c_last_review_date_sk, t12.ca_address_sk, t12.ca_address_id, t12.ca_street_number, t12.ca_street_name, t12.ca_street_type, t12.ca_suite_number, t12.ca_city, t12.ca_county, t12.ca_state, t12.ca_zip, t12.ca_country, t12.ca_gmt_offset, t12.ca_location_type\nFROM (SELECT *\nFROM customer_address\nWHERE ca_gmt_offset \u003d -5) AS t12\nINNER JOIN (SELECT t15.ss_sold_date_sk, t15.ss_sold_time_sk, t15.ss_item_sk, t15.ss_customer_sk, t15.ss_cdemo_sk, t15.ss_hdemo_sk, t15.ss_addr_sk, t15.ss_store_sk, t15.ss_promo_sk, t15.ss_ticket_number, t15.ss_quantity, t15.ss_wholesale_cost, t15.ss_list_price, t15.ss_sales_price, t15.ss_ext_discount_amt, t15.ss_ext_sales_price, t15.ss_ext_wholesale_cost, t15.ss_ext_list_price, t15.ss_ext_tax, t15.ss_coupon_amt, t15.ss_net_paid, t15.ss_net_paid_inc_tax, t15.ss_net_profit, t15.s_store_sk, t15.s_store_id, t15.s_rec_start_date, t15.s_rec_end_date, t15.s_closed_date_sk, t15.s_store_name, t15.s_number_employees, t15.s_floor_space, t15.s_hours, t15.s_manager, t15.s_market_id, t15.s_geography_class, t15.s_market_desc, t15.s_market_manager, t15.s_division_id, t15.s_division_name, t15.s_company_id, t15.s_company_name, t15.s_street_number, t15.s_street_name, t15.s_street_type, t15.s_suite_number, t15.s_city, t15.s_county, t15.s_state, t15.s_zip, t15.s_country, t15.s_gmt_offset, t15.s_tax_percentage, t15.d_date_sk, t15.d_date_id, t15.d_date, t15.d_month_seq, t15.d_week_seq, t15.d_quarter_seq, t15.d_year, t15.d_dow, t15.d_moy, t15.d_dom, t15.d_qoy, t15.d_fy_year, t15.d_fy_quarter_seq, t15.d_fy_week_seq, t15.d_day_name, t15.d_quarter_name, t15.d_holiday, t15.d_weekend, t15.d_following_holiday, t15.d_first_dom, t15.d_last_dom, t15.d_same_day_ly, t15.d_same_day_lq, t15.d_current_day, t15.d_current_week, t15.d_current_month, t15.d_current_quarter, t15.d_current_year, customer0.c_customer_sk, customer0.c_customer_id, customer0.c_current_cdemo_sk, customer0.c_current_hdemo_sk, customer0.c_current_addr_sk, customer0.c_first_shipto_date_sk, customer0.c_first_sales_date_sk, customer0.c_salutation, customer0.c_first_name, customer0.c_last_name, customer0.c_preferred_cust_flag, customer0.c_birth_day, customer0.c_birth_month, customer0.c_birth_year, customer0.c_birth_country, customer0.c_login, customer0.c_email_address, customer0.c_last_review_date_sk\nFROM customer AS customer0\nINNER JOIN (SELECT store_sales0.ss_sold_date_sk, store_sales0.ss_sold_time_sk, store_sales0.ss_item_sk, store_sales0.ss_customer_sk, store_sales0.ss_cdemo_sk, store_sales0.ss_hdemo_sk, store_sales0.ss_addr_sk, store_sales0.ss_store_sk, store_sales0.ss_promo_sk, store_sales0.ss_ticket_number, store_sales0.ss_quantity, store_sales0.ss_wholesale_cost, store_sales0.ss_list_price, store_sales0.ss_sales_price, store_sales0.ss_ext_discount_amt, store_sales0.ss_ext_sales_price, store_sales0.ss_ext_wholesale_cost, store_sales0.ss_ext_list_price, store_sales0.ss_ext_tax, store_sales0.ss_coupon_amt, store_sales0.ss_net_paid, store_sales0.ss_net_paid_inc_tax, store_sales0.ss_net_profit, t14.s_store_sk, t14.s_store_id, t14.s_rec_start_date, t14.s_rec_end_date, t14.s_closed_date_sk, t14.s_store_name, t14.s_number_employees, t14.s_floor_space, t14.s_hours, t14.s_manager, t14.s_market_id, t14.s_geography_class, t14.s_market_desc, t14.s_market_manager, t14.s_division_id, t14.s_division_name, t14.s_company_id, t14.s_company_name, t14.s_street_number, t14.s_street_name, t14.s_street_type, t14.s_suite_number, t14.s_city, t14.s_county, t14.s_state, t14.s_zip, t14.s_country, t14.s_gmt_offset, t14.s_tax_percentage, t13.d_date_sk, t13.d_date_id, t13.d_date, t13.d_month_seq, t13.d_week_seq, t13.d_quarter_seq, t13.d_year, t13.d_dow, t13.d_moy, t13.d_dom, t13.d_qoy, t13.d_fy_year, t13.d_fy_quarter_seq, t13.d_fy_week_seq, t13.d_day_name, t13.d_quarter_name, t13.d_holiday, t13.d_weekend, t13.d_following_holiday, t13.d_first_dom, t13.d_last_dom, t13.d_same_day_ly, t13.d_same_day_lq, t13.d_current_day, t13.d_current_week, t13.d_current_month, t13.d_current_quarter, t13.d_current_year\nFROM store_sales AS store_sales0\nINNER JOIN (SELECT *\nFROM date_dim\nWHERE d_year \u003d 1998 AND d_moy \u003d 11) AS t13 ON store_sales0.ss_sold_date_sk \u003d t13.d_date_sk\nINNER JOIN (SELECT *\nFROM store\nWHERE s_gmt_offset \u003d -5) AS t14 ON store_sales0.ss_store_sk \u003d t14.s_store_sk) AS t15 ON customer0.c_customer_sk \u003d t15.ss_customer_sk) AS t16 ON t12.ca_address_sk \u003d t16.c_current_addr_sk) AS t17 ON t11.i_item_sk \u003d t17.ss_item_sk) AS t20\nORDER BY t10.PROMOTIONS, t20.TOTAL\nFETCH NEXT 100 ROWS ONLY",
  "originalTimesMs": [
    23,
    23
  ],
  "optimizedTimesMs": [
    30,
    33
  ],
  "originalAvgMs": 23,
  "optimizedAvgMs": 31,
  "speedup": 0.7419354838709677,
  "originalRowCount": 1,
  "optimizedRowCount": 1,
  "validationPassed": true,
  "originalPlanMaxRows": 2878107,
  "optimizedPlanMaxRows": 2878107
}