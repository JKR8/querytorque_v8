{
  "query": "q27",
  "status": "pending",
  "rules": [
    "FILTER_SCAN",
    "FILTER_INTO_JOIN",
    "PROJECT_MERGE",
    "AGGREGATE_JOIN_TRANSPOSE",
    "SORT_PROJECT_TRANSPOSE"
  ],
  "optimizedSql": "SELECT I_ITEM_ID, S_STATE, G_STATE, AGG1, AGG2, AGG3, AGG4\nFROM (SELECT *\nFROM (SELECT item.i_item_id AS I_ITEM_ID, t1.s_state AS S_STATE, 0 AS G_STATE, AVG(store_sales.ss_quantity) AS AGG1, AVG(store_sales.ss_list_price) AS AGG2, AVG(store_sales.ss_coupon_amt) AS AGG3, AVG(store_sales.ss_sales_price) AS AGG4\nFROM store_sales\nINNER JOIN (SELECT *\nFROM customer_demographics\nWHERE cd_gender \u003d \u0027M\u0027 AND cd_marital_status \u003d \u0027S\u0027 AND cd_education_status \u003d \u0027College\u0027) AS t ON store_sales.ss_cdemo_sk \u003d t.cd_demo_sk\nINNER JOIN (SELECT *\nFROM date_dim\nWHERE d_year \u003d 2002) AS t0 ON store_sales.ss_sold_date_sk \u003d t0.d_date_sk\nINNER JOIN (SELECT *\nFROM store\nWHERE s_state \u003d \u0027TN\u0027) AS t1 ON store_sales.ss_store_sk \u003d t1.s_store_sk\nINNER JOIN item ON store_sales.ss_item_sk \u003d item.i_item_sk\nGROUP BY item.i_item_id, t1.s_state\nUNION ALL\nSELECT item0.i_item_id AS I_ITEM_ID, NULL AS S_STATE, 1 AS G_STATE, AVG(store_sales0.ss_quantity) AS AGG1, AVG(store_sales0.ss_list_price) AS AGG2, AVG(store_sales0.ss_coupon_amt) AS AGG3, AVG(store_sales0.ss_sales_price) AS AGG4\nFROM store_sales AS store_sales0\nINNER JOIN (SELECT *\nFROM customer_demographics\nWHERE cd_gender \u003d \u0027M\u0027 AND cd_marital_status \u003d \u0027S\u0027 AND cd_education_status \u003d \u0027College\u0027) AS t5 ON store_sales0.ss_cdemo_sk \u003d t5.cd_demo_sk\nINNER JOIN (SELECT *\nFROM date_dim\nWHERE d_year \u003d 2002) AS t6 ON store_sales0.ss_sold_date_sk \u003d t6.d_date_sk\nINNER JOIN (SELECT *\nFROM store\nWHERE s_state \u003d \u0027TN\u0027) AS t7 ON store_sales0.ss_store_sk \u003d t7.s_store_sk\nINNER JOIN item AS item0 ON store_sales0.ss_item_sk \u003d item0.i_item_sk\nGROUP BY item0.i_item_id)\nUNION ALL\nSELECT NULL AS I_ITEM_ID, NULL AS S_STATE, 1 AS G_STATE, AVG(store_sales1.ss_quantity) AS AGG1, AVG(store_sales1.ss_list_price) AS AGG2, AVG(store_sales1.ss_coupon_amt) AS AGG3, AVG(store_sales1.ss_sales_price) AS AGG4\nFROM store_sales AS store_sales1\nINNER JOIN (SELECT *\nFROM customer_demographics\nWHERE cd_gender \u003d \u0027M\u0027 AND cd_marital_status \u003d \u0027S\u0027 AND cd_education_status \u003d \u0027College\u0027) AS t12 ON store_sales1.ss_cdemo_sk \u003d t12.cd_demo_sk\nINNER JOIN (SELECT *\nFROM date_dim\nWHERE d_year \u003d 2002) AS t13 ON store_sales1.ss_sold_date_sk \u003d t13.d_date_sk\nINNER JOIN (SELECT *\nFROM store\nWHERE s_state \u003d \u0027TN\u0027) AS t14 ON store_sales1.ss_store_sk \u003d t14.s_store_sk\nINNER JOIN item AS item1 ON store_sales1.ss_item_sk \u003d item1.i_item_sk)\nORDER BY I_ITEM_ID NULLS FIRST, S_STATE NULLS FIRST\nFETCH NEXT 100 ROWS ONLY",
  "originalTimesMs": [
    42,
    41
  ],
  "optimizedTimesMs": [
    46,
    41
  ],
  "originalAvgMs": 41,
  "optimizedAvgMs": 43,
  "speedup": 0.9534883720930233,
  "originalRowCount": 100,
  "optimizedRowCount": 100,
  "validationPassed": true,
  "originalPlanMaxRows": 2878107,
  "optimizedPlanMaxRows": 2878107
}