{
  "source": "session_iteration_00_fan_out_worker_01",
  "original_path": "/mnt/c/Users/jakc9/Documents/QueryTorque_V8/packages/qt-sql/qt_sql/benchmarks/duckdb_tpcds/queries/query_35.sql",
  "optimized_path": "/mnt/c/Users/jakc9/Documents/QueryTorque_V8/packages/qt-sql/qt_sql/benchmarks/duckdb_tpcds/swarm_sessions/q35/iteration_00_fan_out/worker_01/optimized.sql",
  "validation": {
    "worker_id": 1,
    "strategy": "conservative_pushdown_filter",
    "examples_used": [
      "pushdown",
      "early_filter",
      "dimension_cte_isolate"
    ],
    "optimized_sql": "WITH filtered_dates AS (\n    SELECT d_date_sk\n    FROM date_dim\n    WHERE d_year = 2001\n      AND d_qoy < 4\n),\nstore_customers AS (\n    SELECT DISTINCT ss_customer_sk\n    FROM store_sales\n    INNER JOIN filtered_dates ON ss_sold_date_sk = d_date_sk\n),\nweb_customers AS (\n    SELECT DISTINCT ws_bill_customer_sk\n    FROM web_sales\n    INNER JOIN filtered_dates ON ws_sold_date_sk = d_date_sk\n),\ncatalog_customers AS (\n    SELECT DISTINCT cs_ship_customer_sk\n    FROM catalog_sales\n    INNER JOIN filtered_dates ON cs_sold_date_sk = d_date_sk\n)\nSELECT\n  ca_state,\n  cd_gender,\n  cd_marital_status,\n  cd_dep_count,\n  COUNT(*) AS cnt1,\n  MAX(cd_dep_count),\n  SUM(cd_dep_count),\n  MAX(cd_dep_count),\n  cd_dep_employed_count,\n  COUNT(*) AS cnt2,\n  MAX(cd_dep_employed_count),\n  SUM(cd_dep_employed_count),\n  MAX(cd_dep_employed_count),\n  cd_dep_college_count,\n  COUNT(*) AS cnt3,\n  MAX(cd_dep_college_count),\n  SUM(cd_dep_college_count),\n  MAX(cd_dep_college_count)\nFROM customer AS c\nINNER JOIN customer_address AS ca ON c.c_current_addr_sk = ca.ca_address_sk\nINNER JOIN customer_demographics ON cd_demo_sk = c.c_current_cdemo_sk\nINNER JOIN store_customers ON c.c_customer_sk = store_customers.ss_customer_sk\nWHERE EXISTS (\n    SELECT 1\n    FROM web_customers\n    WHERE c.c_customer_sk = web_customers.ws_bill_customer_sk\n)\nOR EXISTS (\n    SELECT 1\n    FROM catalog_customers\n    WHERE c.c_customer_sk = catalog_customers.cs_ship_customer_sk\n)\nGROUP BY\n  ca_state,\n  cd_gender,\n  cd_marital_status,\n  cd_dep_count,\n  cd_dep_employed_count,\n  cd_dep_college_count\nORDER BY\n  ca_state,\n  cd_gender,\n  cd_marital_status,\n  cd_dep_count,\n  cd_dep_employed_count,\n  cd_dep_college_count\nLIMIT 100",
    "speedup": 0.0,
    "status": "ERROR",
    "transforms": [
      "date_cte_isolate"
    ],
    "hint": "Apply safe filter pushdown and early dimension table filtering to reduce join sizes before tackling correlated subqueries.",
    "error_message": "IO Error: Cannot open database \"/mnt/d/TPC-DS/tpcds_sf10.duckdb\" in read-only mode: database does not exist",
    "error_messages": [
      "IO Error: Cannot open database \"/mnt/d/TPC-DS/tpcds_sf10.duckdb\" in read-only mode: database does not exist"
    ],
    "error_category": "execution"
  }
}