 ```json
{
  "rewrite_sets": [
    {
      "id": "rs_01",
      "transform": "or_to_union",
      "nodes": {
        "filtered_dates": "SELECT d_date_sk FROM date_dim WHERE d_year = 1999 AND d_moy = 11",
        "base_sales": "SELECT ss.ss_ext_sales_price, ss.ss_promo_sk FROM store_sales ss JOIN filtered_dates d ON ss.ss_sold_date_sk = d.d_date_sk JOIN store s ON ss.ss_store_sk = s.s_store_sk AND s.s_gmt_offset = -7 JOIN customer c ON ss.ss_customer_sk = c.c_customer_sk JOIN customer_address ca ON c.c_current_addr_sk = ca.ca_address_sk AND ca.ca_gmt_offset = -7 JOIN item i ON ss.ss_item_sk = i.i_item_sk AND i.i_category = 'Jewelry'",
        "promotional_sales": "SELECT SUM(ss_ext_sales_price) AS promotions FROM (SELECT bs.ss_ext_sales_price FROM base_sales bs JOIN promotion p ON bs.ss_promo_sk = p.p_promo_sk WHERE p.p_channel_dmail = 'Y' UNION ALL SELECT bs.ss_ext_sales_price FROM base_sales bs JOIN promotion p ON bs.ss_promo_sk = p.p_promo_sk WHERE p.p_channel_email = 'Y' UNION ALL SELECT bs.ss_ext_sales_price FROM base_sales bs JOIN promotion p ON bs.ss_promo_sk = p.p_promo_sk WHERE p.p_channel_tv = 'Y') t",
        "all_sales": "SELECT SUM(ss_ext_sales_price) AS total FROM base_sales",
        "main_query": "SELECT promotions, total, CAST(promotions AS DECIMAL(15, 4)) / CAST(total AS DECIMAL(15, 4)) * 100 FROM promotional_sales, all_sales ORDER BY promotions, total LIMIT 100"
      },
      "invariants_kept": [
        "output columns unchanged",
        "same aggregation result",
        "same cross join semantics between promotional_sales and all_sales",
        "predicates pushed down to base_sales CTE"
      ],
      "expected_speedup": "2x",
      "risk": "low"
    }
  ],
  "explanation": "Split the OR condition (p_channel_dmail = 'Y' OR p_channel_email = 'Y' OR p_channel_tv = 'Y') into three UNION ALL branches to enable index usage on individual channel columns. Pushed down common filters (date, store, address, item) into a shared base_sales CTE to avoid redundant computation between the two subqueries. Each branch now scans only promotions matching its specific channel, eliminating the need for full promotion table scans and OR evaluation."
}
```